{"version":3,"sources":["i18n.js","translations/en.js","translations/es.js","pages/notFoundPage/notFoundPage.js","contexts/userContext.js","helpers/privateRoute.js","components/card/card.js","pages/restaurantDashboardPage/components/tableCard/baseCard.js","helpers/numberPadding.js","pages/restaurantDashboardPage/components/stopWatch/_timeToString.js","pages/restaurantDashboardPage/components/stopWatch/stopWatch.js","hooks/useElapsedTime/useElapsedTime.js","palette.js","components/modal/modal.js","components/buttons/button/button.js","components/buttons/noButton/noButton.js","components/textActionsModal/textActionsModal.js","components/confirmModal/confirmModal.js","contexts/confirmContext.js","components/buttons/yesButton/yesButton.js","pages/restaurantDashboardPage/hooks/useAccessToken/useAccessToken.js","helpers/csrfCookieHeader.js","pages/restaurantDashboardPage/hooks/useLoginWithAccessToken/useLoginWithAccessToken.js","pages/restaurantDashboardPage/services/loginWithAccessToken.js","pages/restaurantDashboardPage/contexts/realtimeService/_tableUtils.js","hooks/useQueueState/useQueueState.js","pages/restaurantDashboardPage/contexts/realtimeService/realtimeServiceContext.js","pages/restaurantDashboardPage/components/actionMenu/actionMenu.js","pages/restaurantDashboardPage/components/tableCard/tableCard.js","components/inputs/input/input.js","components/questionModal/questionModal.js","contexts/questionContext.js","pages/restaurantDashboardPage/components/newTableMenu/newTableMenu.js","pages/restaurantDashboardPage/components/tableCard/newTableCard.js","pages/restaurantDashboardPage/components/sortButton/sortButton.js","contexts/themeContext.js","components/themeButton/themeButton.js","contexts/languageContext.js","components/languageButton/languageButton.js","pages/restaurantDashboardPage/restaurantDashboardPage.js","pages/adminDashboardPage/components/privacyButton/privacyButton.js","pages/adminDashboardPage/components/signOutButton/signOutButton.js","pages/adminDashboardPage/services/logout.js","pages/adminDashboardPage/components/zone/zone.js","services/crudApi.js","pages/adminDashboardPage/services/restaurantAccessTokens.js","pages/adminDashboardPage/components/accessUrl/accessUrl.js","hooks/useCollectionState/useCollectionState.js","pages/adminDashboardPage/components/zoneAccessTokens/zoneAccessTokens.js","pages/adminDashboardPage/services/defaultTables.js","pages/adminDashboardPage/components/zoneDefaultTables/zoneDefaultTables.js","pages/adminDashboardPage/components/admin/admin.js","pages/adminDashboardPage/services/restaurantAdministrators.js","pages/adminDashboardPage/components/zoneRestaurantAdministrators/zoneRestaurantAdministrators.js","pages/adminDashboardPage/components/zoneShortcuts/zoneShortcuts.js","pages/adminDashboardPage/services/restaurants.js","pages/adminDashboardPage/components/timeProfile/timeProfile.js","pages/adminDashboardPage/components/zoneTimeProfile/zoneTimeProfile.js","pages/adminDashboardPage/components/zoneHistoric/zoneHistoric.js","pages/adminDashboardPage/components/zonePerCourse/zonePerCourse.js","pages/adminDashboardPage/components/zoneFilters/zoneFilters.js","pages/adminDashboardPage/adminDashboardPageRestaurantStatistics.js","pages/adminDashboardPage/services/statistics.js","pages/adminDashboardPage/adminDashboardPageRestaurant.js","pages/adminDashboardPage/services/superAdministrators.js","pages/adminDashboardPage/components/zoneRootAdministrators/zoneRootAdministrators.js","pages/adminDashboardPage/components/restaurant/restaurant.js","pages/adminDashboardPage/components/zoneRestaurants/zoneRestaurants.js","pages/adminDashboardPage/adminDashboardPageSuper.js","pages/adminDashboardPage/components/backToRootButton/backToRootButton.js","pages/adminDashboardPage/adminDashboardPage.js","pages/loginPage/loginPage.js","pages/loginPage/services/loginWithGoogle.js","App.js","reportWebVitals.js","index.js"],"names":["resources","en","translation","es","i18n","use","initReactI18next","init","lng","interpolation","escapeValue","NotFoundPage","class","src","width","height","TYPE_ACCESS_TOKEN","TYPE_RESTAURANT_ADMIN","TYPE_SUPER_ADMIN","userContext","React","createContext","type","setType","params","setParams","loggedIn","isRestaurantAdminLoggedIn","isSuperAdminLoggedIn","UserContextProvider","children","useState","contextProvider","Provider","value","PrivateRoute","Component","component","rest","userCtx","useContext","render","props","includes","to","pathname","state","from","location","defaultAttributes","Card","attributes","className","clsx","BaseCard","twoPadding","number","n","String","padStart","nPadding","ALLOWED_PRECISIONS","timeToString","elapsedTime","precision","map","hh","mm","ss","ms","StopWatch","delta","startTime","notifyDelta","_","refreshIntervalMs","_startDate","toUTC","startDate","setStartDate","now","setNow","useEffect","ticker","setInterval","DateTime","clearInterval","useElapsedMs","elapsedMs","Math","floor","palette","Modal","handleHide","bgOverlay","bgOpacity","bg","z","disabled","role","onClick","Button","text","bgColor","textColor","ring","border","w","loading","NoButton","useTranslation","t","TextActionsModal","title","description","actions","icon","id","ConfirmModal","cancel","confirm","handleSuccess","handleCancel","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","Fragment","confirmContext","BaseConfirmContextProvider","showConfirmDialog","setShowConfirmDialog","handleHideConfirmDialog","undefined","confirmHandler","setConfirmHandler","YesButton","authHeader","Cookies","get","useLoginWithAccessToken","restaurantId","accessToken","useSnackbar","enqueueSnackbar","closeSnackbar","Promise","resolve","reject","axios","url","process","method","auth","username","password","headers","then","res","data","catch","err","attemptLogin","isValid","variant","parseTable","table","fromISO","zone","useQueueState","default_","queue","setQueue","push","item","serve","idx","splice","serveFirst","serveAll","isEmpty","length","realtimeServiceContext","tables","setTables","addTable","finishTable","nextCourse","deleteTable","RealtimeServiceContextProvider","search","useLocation","URLSearchParams","useAccessToken","socket","setSocket","newSocket","io","close","on","_tables","forEach","parseTables","next_course","newItems","emit","finishedTables","nextTables","console","log","deleteTables","Object","values","desserts","to_desserts","ActionMenu","handleShow","realtimeCtx","isLastCourse","handleNext","lastCourse","last_course_datetime","toLocal","hour","minute","STATUS_ALARM","STATUS_WARNING","TableCard","showActionMenu","setShowActionMenu","handleShowActionMenu","status","setStatus","theme","fg","useTheme","minutes","alarmMinutes","warningMinutes","Input","name","label","lead","trail","placeholder","field","form","meta","touched","errors","for","error","QuestionModal","handleSubmit","initialValues","question","onSubmit","setSubmitting","setErrors","isSubmitting","questionContext","prompt","QuestionContextProvider","showDialog","setShowDialog","handleHideDialog","handleShowDialog","handlers","setHandlers","tryParseInt","x","parseInt","NewTableMenu","addNewTable","existingTableNumbers","defaultTables","setDefaultTables","sort","a","b","handleNewTable","tableNumber","setLoading","result","filter","tableName","NewTableCard","showNewTableMenu","setShowNewTableMenu","handleShowNewTableMenu","SORT_PRIORITY","SORT_NUMBER_ASCENDING","SORT_NUMBER_DESCENDING","SORTS","SortButton","setSort","indexOf","THEME_LIGHT","THEME_DARK","THEMES","LOCALSTORAGE_THEME","themeContext","setTheme","setLight","setDark","toggle","isLight","isDark","ThemeContextProvider","localStorage","getItem","_setTheme","newTheme","Error","setItem","ThemeButton","themeCtx","LANGUAGE_EN","LANGUAGES","LOCALSTORAGE_LANGUAGE","languageContext","language","setLanguage","LanguageContextProvider","localStorageLanguage","_setLanguage","newLanguage","changeLanguage","LanguageButton","languageCtx","sortProviders","table1","table2","toMillis","_RestaurantDashboardPage","MENU_HOME","menu","sortedTables","_setSortedTables","newTables","HomeMenu","restaurantName","RestaurantDashboardPage","PrivacyButton","privacyFilter","setPrivacyFilter","SignOutButton","history","useHistory","signOut","useGoogleLogout","clientId","onLogoutSuccess","onLogoutFailure","Zone","endpoint","onThen","onCatch","post","patch","remove","getEndpoint","AccessUrl","token","onDelete","onPatch","handleCopyUrlToClipboard","navigator","clipboard","writeText","comment","patchRestaurantAccessTokenService","newToken","useCollectionState","key","items","setItems","addItem","removeItem","patchItem","newItem","add","ZoneAccessTokens","tokens","setTokens","tokenUtils","getRestaurantAccessTokens","handleDeleteAccessToken","deleteRestaurantAccessToken","handleOnAccessTokenPatch","postRestaurantAccessToken","ZoneDefaultTables","tableUtils","getRestaurantDefaultTables","handleDeleteDefaultTable","deleteRestaurantDefaultTables","finally","postRestaurantDefaultTables","Admin","admin","deleteAdministrator","deleteAdministratorService","handleDelete","ZoneRestaurantAdministrators","administrators","setAdministrators","administratorUtils","getRestaurantAdministrators","administators","administrator","deleteRestaurantAdministrator","email","postRestaurantAdministrator","ZoneShortcuts","setView","ENDPOINT","patchRestaurant","TimeProfile","prefix","profileName","profileValue","enableReinitialize","newValue","profile","ZoneTimeProfile","profiles","setProfiles","restaurant","alarm_minutes","warning_minutes","ZoneHistoric","preparedData","fgColor","LineChart","margin","top","right","left","bottom","XAxis","dataKey","YAxis","Tooltip","Legend","Line","ZonePerCourse","BarChart","Bar","ZoneFilters","onSearch","endDate","setEndDate","setStartTime","endTime","setEndTime","onChange","e","target","round","decimalPlaces","multiplier","pow","Number","EPSILON","AdminDashboardPageRestaurantStatistics","setPreparedData","preparedDataHistoric","setPreparedDataHistoric","getHistoricStatsPerCourseEndpoint","getHistoricStatsPerCourse","entries","getHistoricStatsEndpoint","getHistoricStats","VIEW_HOME","AdminDashboardPageRestaurant","view","deleteSuperAdministrator","ZoneRootAdministrators","postSuperAdministrator","Restaurant","setRestaurant","deleteRestaurant","handleGoToAdmin","patchRestaurantService","newRestaurant","ZoneRestaurants","restaurants","setRestaurants","restaurantsUtils","postRestaurant","AdminDashboardPageSuper","BackToRootButton","handleClick","AdminDashboardPage","LoginPage","buttonText","onSuccess","tokenObj","id_token","onFailure","cookiePolicy","App","routerRef","createRef","ref","basename","path","baseRouter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"iQAKMA,EAAY,CAChBC,GAAI,CACFC,YCPc,CAEd,QAAW,MACX,OAAU,MACV,UAAa,YACb,MAAS,QACT,OAAU,SACV,OAAU,SACV,OAAU,SACV,OAAU,SACV,GAAM,KACN,IAAO,MACP,QAAW,UACX,OAAU,SACV,WAAc,UACd,UAAa,UACb,KAAQ,OACR,MAAS,QACT,YAAe,cACf,UAAW,UACX,SAAW,WACX,KAAO,OACP,SAAY,WACZ,MAAS,QACT,QAAW,UACX,YAAe,cACf,eAAgB,eAChB,OAAU,SAGV,mBAAsB,sBACtB,qBAAwB,+JACxB,UAAa,+BACb,QAAW,sBACX,SAAW,wBACX,YAAc,4BACd,oBAAuB,oJACvB,SAAY,qCACZ,WAAc,4BACd,UAAa,YACb,WAAc,aACd,gCAAiC,gCACjC,kCAAmC,kCAGnC,eAAiB,4BACjB,eAAkB,sBAClB,cAAe,cACf,YAAa,YACb,gBAAmB,8BACnB,aAAgB,8BAChB,cAAiB,qCACjB,YAAe,2BACf,gBAAmB,yCACnB,oBAAsB,qCAItB,oBAAuB,8BACvB,iBAAkB,iBAClB,mBAAqB,oDACrB,aAAgB,wBAChB,kBAAqB,qDACrB,WAAa,0BACb,mBAAmB,mBACnB,iBAAkB,iBAIlB,QAAU,qBACV,WAAa,yBACb,UAAY,wBACZ,SAAY,kBACZ,mBAAsB,+CACtB,QAAW,uBAGX,OAAU,aACV,aAAe,sBACf,MAAQ,YACR,MAAS,QAGT,gBAAmB,yDACnB,UAAa,8DACb,kBAAqB,6BACrB,cAAiB,0CACjB,oBAAuB,+FACvB,cAAgB,qBAChB,SAAY,uBACZ,qBAAwB,6JACxB,cAAe,cAGf,aAAgB,6BAChB,gBAAmB,6BACnB,SAAY,uBACZ,gBAAmB,yCACnB,gBAAmB,uCACnB,eAAkB,iCAClB,eAAkB,kCAClB,gBAAkB,oCAClB,eAAkB,iCAClB,cAAgB,8BAChB,mBAAsB,gCACtB,mBAAsB,4BACtB,gBAAmB,mCACnB,eAAiB,gCACjB,eAAkB,6CAClB,gBAAmB,+CACnB,eAAkB,iCAClB,cAAgB,+BAChB,cAAiB,gCACjB,kBAAoB,mCACpB,kBAAqB,iCDzGvBC,GAAI,CACFD,YEVc,CAEd,QAAW,QACX,OAAU,QACV,UAAa,YACb,MAAS,OACT,OAAU,WACV,OAAU,SACV,OAAU,WACV,OAAU,gBACV,GAAM,KACN,IAAO,KACP,QAAW,YACX,OAAU,SACV,WAAc,kBACd,UAAa,kBACb,KAAQ,UACR,MAAS,cACT,YAAe,iBACf,UAAW,SACX,SAAW,YACX,KAAO,YACP,SAAY,UACZ,MAAS,SACT,QAAW,QACX,YAAe,eACf,eAAgB,mBAChB,OAAU,SAGV,mBAAsB,2BACtB,qBAAwB,yLACxB,UAAa,iDACb,QAAW,uBACX,SAAW,2BACX,YAAc,8BACd,oBAAuB,+LACvB,SAAY,4CACZ,WAAc,kCACd,UAAa,UACb,WAAc,kBACd,gCAAiC,sCACjC,kCAAmC,mCAGnC,eAAiB,0CACjB,eAAkB,qBAClB,cAAe,kBACf,YAAa,aACb,gBAAmB,8CACnB,aAAgB,iCAChB,cAAiB,uCACjB,YAAe,uBACf,gBAAmB,uDACnB,oBAAsB,0CAItB,oBAAuB,8BACvB,iBAAkB,gBAClB,mBAAqB,4DACrB,aAAgB,yCAChB,kBAAqB,6DACrB,WAAa,iDACb,mBAAmB,oBACnB,iBAAkB,wBAIlB,QAAU,iCACV,WAAa,sCACb,UAAY,2CACZ,SAAY,yBACZ,mBAAsB,4DACtB,QAAW,wCAGX,OAAU,sBACV,aAAe,uBACf,MAAQ,qBACR,MAAS,oBAGT,gBAAmB,mEACnB,UAAa,kEACb,kBAAqB,mDACrB,cAAiB,0CACjB,oBAAuB,gHACvB,cAAgB,qCAChB,SAAY,uCACZ,qBAAwB,iLACxB,cAAe,oBAGf,aAAgB,6CAChB,gBAAmB,oCACnB,SAAY,kBACZ,gBAAmB,2DACnB,gBAAmB,0DACnB,eAAkB,kDAClB,eAAkB,0DAClB,gBAAkB,4DAClB,eAAkB,6DAClB,cAAgB,wCAChB,mBAAsB,mDACtB,mBAAsB,8CACtB,gBAAmB,uDACnB,eAAiB,8CACjB,eAAkB,oEAClB,gBAAmB,0EACnB,eAAkB,uDAClB,cAAgB,iDAChB,cAAiB,yCACjB,kBAAoB,oDACpB,kBAAqB,mDFpGzBE,IACGC,IAAIC,KACJC,KAAK,CACJP,YACAQ,IAAK,KACLC,cAAe,CACbC,aAAa,KAIFN,QAAf,E,yCGNaO,MAbf,WAEE,OACE,qCACE,qBAAKC,MAAM,aAAX,uCACA,sBAAKA,MAAO,SAAZ,UACI,qBAAKC,IAAK,sBAAsBC,MAAM,MAAMC,OAAO,QACnD,sBAAMH,MAAQ,kBAAd,oE,sBCTGI,EAAoB,cACpBC,EAAwB,kBACxBC,EAAmB,aAEnBC,EAAcC,IAAMC,cAC7B,CACIC,KAAM,KACNC,QAAS,SAACD,KACVE,OAAQ,GACRC,UAAW,SAACD,KACZE,UAAU,EACVC,2BAA2B,EAC3BC,sBAAsB,IAIjBC,EAAsB,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAClC,EAAwBC,mBAAS,MAAjC,mBAAOT,EAAP,KAAaC,EAAb,KACA,EAA4BQ,mBAAS,IAArC,mBAMMC,EAAkB,CACtBV,KAAMA,EACNC,QAASA,EACTC,OATF,KAUEC,UAVF,KAWEC,SATwB,OAATJ,EAUfK,0BATgCL,IAASL,EAUzCW,qBAT2BN,IAASJ,GAYtC,OAAO,cAACC,EAAYc,SAAb,CAAsBC,MAAOF,EAA7B,SACFF,K,uBCjBMK,MAjBf,YAAuE,IAApCC,EAAmC,EAA9CC,UAA8C,IAAxBf,YAAwB,MAAjB,KAAiB,EAARgB,EAAQ,iBAC5DC,EAAUnB,IAAMoB,WAAWrB,GACjC,OACI,cAAC,IAAD,2BAAWmB,GAAX,IAAiBG,OAAQ,SAAAC,GAEvB,OAAKH,EAAQb,UAAsB,OAATJ,IAAkBA,EAAKqB,SAASJ,EAAQjB,MAEzD,cAAC,IAAD,CAAUsB,GAAI,CAAEC,SAAS,SAAWC,MAAO,CAAEC,KAAML,EAAMM,aAIzD,cAACZ,EAAD,2BAAeM,GAAWJ,S,oDCPvCW,EAAoB,CACpB,OAAO,EACP,YAAY,EACZ,YAAY,EACZ,gBAAgB,EAChB,cAAc,EACd,aAAa,EACb,iBAAiB,GAYRC,MAVf,YAIQ,IAAD,IAHHC,kBAGG,MAHQF,EAGR,MAFHnB,gBAEG,MAFM,KAEN,EADAY,EACA,iBACL,OAAO,6CAAKU,UAAWC,YAAK,2BAAIJ,GAAsBE,KAAkBT,GAAjE,aACEZ,M,iBCrBLmB,EAAoB,CACvB,UAAU,EACV,QAAQ,EACR,kBAAkB,EAClB,wBAAwB,EACxB,eAAe,GAUHK,MAPf,YAGI,IAAD,IAFAH,kBAEA,MAFWF,EAEX,EADGP,EACH,iBACA,OAAO,cAAC,EAAD,aAAMS,WAAU,2BAAMF,GAAsBE,IAAiBT,K,SCK1Da,EAAa,SAACC,GAAD,OAZF,SAACA,EAAQC,GAC7B,GAAIA,GAAK,EAAG,KAAK,mBAAL,OAAyBA,EAAzB,2BAEZ,OAAOC,OAAOF,GAAQG,SAASF,EAAG,KASAG,CAASJ,EAAQ,ICjBjDK,EAAqB,CAAC,QAAS,UAAW,UAAW,gBAC9CC,EAAe,SAACC,EAAaC,GACtC,IAAKH,EAAmBlB,SAASqB,GAAY,KAAK,cAAL,OAAoBA,EAApB,sDAA2EH,GAExH,MAAyBE,EAAYE,IAAIV,GAAzC,mBAAOW,EAAP,KAAWC,EAAX,KAAeC,EAAf,KAAmBC,EAAnB,KAEA,OAAQL,GACJ,KAAKH,EAAmB,GACpB,OAAOK,EACX,KAAKL,EAAmB,GACpB,MAAM,GAAN,OAAUK,EAAV,YAAgBC,GACpB,KAAKN,EAAmB,GACpB,MAAM,GAAN,OAAUK,EAAV,YAAgBC,EAAhB,YAAsBC,GAC1B,KAAKP,EAAmB,GACpB,MAAM,GAAN,OAAUK,EAAV,YAAgBC,EAAhB,YAAsBC,EAAtB,YAA4BC,KCNjC,SAASC,EAAT,GAKH,ICLqBC,EDCrBC,EAID,EAJCA,UAID,IAHCC,mBAGD,MAHe,SAACC,KAGhB,MAFCC,yBAED,MAFqB,IAErB,MADCX,iBACD,MADa,UACb,EACC,ECUwB,SAACY,GAA0C,IAA9BD,EAA6B,uDAAT,IAEzD,EAAkC5C,mBAAS6C,EAAWC,SAAtD,mBAAOC,EAAP,KAAkBC,EAAlB,KACA,EAAsBhD,mBAAS6C,EAAWC,SAA1C,mBAAOG,EAAP,KAAYC,EAAZ,KAYA,OAVAC,qBAAU,WACNH,EAAaH,KACd,CAACA,IAGJM,qBAAU,WACN,IAAMC,EAASC,aAAY,kBAAMH,EAAOI,WAASL,MAAMH,WAAUF,GACjE,OAAO,kBAAMW,cAAcH,MAC5B,CAACR,IAEG,CAACK,EAAIF,GDzBQS,CAAaf,EAAWG,GAArCa,EAAP,oBACMzB,GCPeQ,EDOQiB,ECPE,CAC/BC,KAAKC,MAAOnB,EAAK,KAAuB,IACxCkB,KAAKC,MAAOnB,EAAK,IAAkB,IACnCkB,KAAKC,MAAOnB,EAAQ,IAAQ,IAC5BkB,KAAKC,MAAOnB,EAAQ,ODQpB,OAHAW,qBAAU,WACNT,EAAYe,KACb,CAACA,IACG,+BACF1B,EAAaC,EAAaC,KEvB5B,IAAM2B,EACL,8BADKA,EAEM,qFAFNA,EAGY,uEAHZA,EAIC,+BAJDA,EAMC,+BANDA,EAQH,kCARGA,EASE,mCATFA,EAUC,gC,wEC0BCC,MA7Bf,YASI,IAAD,IARDC,kBAQC,MARY,aAQZ,MAPD/D,gBAOC,MAPU,KAOV,MANDgE,iBAMC,MANW,cAMX,MALDC,iBAKC,MALW,gBAKX,MAJDC,UAIC,MAJIL,EAIJ,MAHDM,SAGC,MAHG,OAGH,MAFDC,gBAEC,SADExD,EACF,iBAOD,OAAO,+CAASA,GAAT,IAAgBU,UAAS,gBAAW6C,EAAX,4BAAwC,kBAAgB,cAAcE,KAAK,SAAS,aAAW,OAAxH,SACL,sBAAK/C,UAAU,yFAAf,UACE,qBAAKA,UAAS,wBAAmB0C,EAAnB,YAAgCC,EAAhC,uBAAgE,cAAY,OAAOK,QAPjF,WACdF,GACJL,OAME,sBAAMzC,UAAU,qDAAqD,cAAY,OAAjF,oBACA,qBAAKA,UAAU,2JAAf,SACE,qBAAKA,UAAS,UAAK4C,EAAL,kCAAd,SACGlE,a,sFCvBLmB,EAAoB,CACpB,OAAO,EACP,eAAe,EACf,kBAAkB,EAClB,cAAc,EACd,QAAU,EACV,aAAa,EACb,QAAQ,EACR,QAAQ,EACR,aAAa,EACb,eAAe,EACf,cAAc,EACd,sBAAsB,EACtB,gBAAgB,EAChB,uBAAuB,EACvB,WAAW,EACX,cAAc,EACd,uBAAuB,EACvB,eAAe,GAGN,SAASoD,EAAT,GAWP,IAAD,EAVHC,EAUG,EAVHA,KAUG,IATHC,eASG,MATKZ,EASL,MARHa,iBAQG,MAROb,EAQP,MAPHc,YAOG,MAPE,sBAOF,MANHC,cAMG,MANIf,EAMJ,MALHxC,kBAKG,MALQF,EAKR,MAJHmD,eAIG,MAJM,aAIN,MAHHO,SAGG,MAHC,mBAGD,MAFHC,eAEG,SADAlE,EACA,iBACL,OAAO,iDAAS0D,QAASA,EAAS9E,KAAK,SAAS8B,UAAWC,YAAK,2BAC1DJ,GADyD,uBAE5DsD,GAAU,GAFkD,cAG5DC,GAAY,GAHgD,cAI5DC,GAAO,GAJqD,cAK5DE,GAAI,GALwD,cAM5DD,GAAS,GANmD,GAO1DvD,KAAkBT,GAPhB,cAQFkE,GAAW,sBAAMxD,UAAS,4EAAuEuC,KACrGW,M,+CC1CY,SAASO,GAAT,GAKP,IAAD,IAJH1D,kBAIG,MAJQ,GAIR,MAHHmD,YAGG,MAHE,KAGF,MAFHF,eAEG,MAFM,aAEN,EADA1D,EACA,iBAEH,EAAoBoE,cAAZC,EAAR,EAAQA,EAAR,EAAW3G,KAEb,OAAO,cAACiG,EAAD,aACGD,QAASA,EACTE,KAAMS,EAAET,GACRC,QAAQ,qCACRC,UAAU,aACVC,KAAK,qBACLC,OAAO,qBACPvD,WAAYA,GACRT,I,mFCoBDsE,OArCf,YASQ,IAAD,IARHnB,kBAQG,MARS,aAQT,MAPHoB,aAOG,MAPG,KAOH,MANHC,mBAMG,MANS,KAMT,MALHC,eAKG,MALK,KAKL,MAJHrF,gBAIG,MAJM,KAIN,MAHHsF,YAGG,MAHE,KAGF,MAFHlB,gBAEG,SADAxD,EACA,kBACL,OAAO,eAAC,EAAD,yBAAOmD,WAAYA,EAAYK,SAAUA,GAAcxD,GAAvD,cACP,sBAAKU,UAAU,gCAAf,WACG6D,GAASC,IAAgB,sBAAK9D,UAAU,yBAAf,UACzBgE,GAAQ,qBAAKhE,UAAU,mHAAf,SACAgE,IAGR,sBAAKhE,UAAU,gDAAf,UACG6D,GAAS,oBAAI7D,UAAS,wCAAmCuC,GAAoB0B,GAAG,cAAvE,SACPJ,IAEFC,GAAe,qBAAK9D,UAAU,OAAf,SACd,mBAAGA,UAAS,kBAAauC,GAAzB,SACGuB,YAMRpF,KAEFqF,GAAW,qBAAK/D,UAAS,UAAKuC,EAAL,6DAAd,SACTwB,S,6ECJWG,OA1Bf,YAQI,IAAD,IAPCL,aAOD,MAPO,cAOP,MANCC,mBAMD,MANa,kBAMb,MALCK,cAKD,MALQ,SAKR,MAJCC,eAID,MAJS,UAIT,MAHCC,qBAGD,MAHgB,aAGhB,MAFCC,oBAED,MAFe,aAEf,EACC,GADD,kBACqBZ,eAAZC,EAAR,EAAQA,EACT,OADC,EAAW3G,KACL,cAAC,GAAD,CACNyF,WAAY6B,EACZT,MAAOF,EAAEE,GACTC,YAAaH,EAAEG,GACfE,KAAM,qBAAKhE,UAAU,uBAAuBuE,MAAM,6BAA6BC,KAAK,OAAOC,QAAQ,YAAYC,OAAO,eAAe,cAAY,OAA3I,SACN,sBAAMC,cAAc,QAAQC,eAAe,QAAQC,YAAY,IAAIC,EAAE,2IAErEf,QACE,eAAC,IAAMgB,SAAP,WACE,cAACtB,GAAD,CAAUP,KAAMS,EAAEQ,GAASnB,QAASsB,IACpC,cAACrB,EAAD,CAAQC,KAAMS,EAAES,GAAUpB,QAASqB,UCzBrCW,GAAiBhH,IAAMC,eACzB,SAAC4F,EAAOC,EAAaO,EAAeC,OAGlCW,GAA6B,SAAC,GAAgB,IAAfvG,EAAc,EAAdA,SACjC,EAAkDC,oBAAS,GAA3D,mBAAOuG,EAAP,KAA0BC,EAA1B,KACMC,EAA0B,kBAAMD,GAAqB,IAE3D,EAA4CxG,mBACxC,CACIkF,WAAOwB,EACPvB,iBAAauB,EACbhB,cAAee,EACfd,aAAcc,IALtB,mBAAOE,EAAP,KAAuBC,EAAvB,KA0BA,OAAO,eAAC,IAAMR,SAAP,WACEG,GAAqB,cAAC,GAAD,CAClBrB,MAAOyB,EAAezB,MACtBC,YAAawB,EAAexB,YAC5BO,cAAeiB,EAAejB,cAC9BC,aAAcgB,EAAehB,eAEjC,cAACU,GAAenG,SAAhB,CAAyBC,MAzBjB,SAAC,GAAqG,IAAD,IAAnG+E,aAAmG,WAA3FwB,EAA2F,MAAhFvB,mBAAgF,WAAlEuB,EAAkE,MAAvDhB,qBAAuD,MAAvC,aAAuC,MAA7BC,oBAA6B,MAAd,aAAc,EACjHa,GAAqB,GACrBI,EACI,CACE1B,MAAOA,EACPC,YAAaA,EACbO,cAAe,WACbe,IACAf,KAEFC,aAAc,WACVc,IACAd,QAaN,SACK5F,Q,mCCvCF,SAAS8G,GAAT,GAKX,IAAD,IAJDzF,kBAIC,MAJY,GAIZ,MAHDmD,YAGC,MAHM,MAGN,MAFDF,eAEC,MAFS,aAET,EADE1D,EACF,kBAED,EAAoBoE,cAAZC,EAAR,EAAQA,EAAR,EAAW3G,KAEX,OAAO,cAACiG,EAAD,aACLD,QAASA,EACTE,KAAMS,EAAET,GACRC,QAAQ,yCACRC,UAAU,aACVC,KAAK,uBACLC,OAAO,qBACPvD,WAAYA,GACRT,IChBD,I,qBCLA,SAASmG,KAEZ,MAAO,CAAE,cAAeC,KAAQC,IAAI,iB,iCCO3BC,GAA0B,SAACC,EAAcC,GAClD,MAA2CC,eAAnCC,EAAR,EAAQA,gBACF7G,GADN,EAAyB8G,cACTjI,IAAMoB,WAAWrB,IACjC,EAAoB2F,cAAZC,EAAR,EAAQA,EAAR,EAAW3G,KAgBX,OAdA8E,qBAAU,WACN3C,EAAQhB,QAAQ,MCdI,SAAC0H,EAAcC,GACvC,OAAO,IAAII,SAAQ,SAASC,EAASC,GACjCC,KAAM,CAACC,IAAI,GAAD,OAAKC,8BAAL,8BACNC,OAAQ,OACRC,KAAM,CACFC,SAAUb,EACVc,SAAUb,GAEdc,QAAQ,aAAE,gBAAiB,YAAenB,QAE7CoB,MAAK,SAAAC,GAAG,OAAIX,EAAQ,EAAC,EAAMW,EAAIC,UAC/BC,OAAM,SAAUF,GACb,IAAwC,MAA9BA,EAAG,SAAH,QAAmCX,EAAQ,EAAC,EAAO,OAAS,MAAMc,IAC5Eb,EAAOU,SDEXI,CAAarB,EAAcC,GACtBe,MAAK,YAAwB,IAAD,mBAArBM,EAAqB,KAAZ/I,EAAY,KACpB+I,GAILhI,EAAQhB,QAAQP,GAChBuB,EAAQd,UAAUD,IAJd4H,EAAgBrC,EAAE,mBAAoB,CAACyD,QAAS,eAMvDJ,OAAM,SAAA1F,GAAC,OAAI0E,EAAgBrC,EAAE,YAAa,CAACyD,QAAS,eAC1D,CAACvB,EAAcC,IAEX,CAAC3G,EAAQb,SAAU,kBAAMa,EAAQhB,QAAQP,M,UE5BvCyJ,GAAa,SAACC,GAEvB,OADAA,EAAK,qBAA2B,IAAIrF,WAASsF,QAAQD,EAAK,qBAA0B,CAACE,KAAM,QACpFF,GCGEG,GAAgB,WAAkB,IAAjBC,EAAgB,uDAAP,GACnC,EAA0B/I,mBAAS+I,GAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACMC,EAAO,SAACC,GAAD,OAAUF,GAAS,SAAAD,GAAK,4BAAQA,GAAR,CAAeG,QAC9CC,EAAQ,SAACC,GAAD,OAASJ,GAAS,SAAAD,GAE5B,OADAA,EAAMM,OAAOD,EAAK,GACXJ,EAAS,YAAID,QAIxB,MAAO,CACHA,MAAOA,EACPE,KAAMA,EACNE,MAAOA,EACPG,WAAY,kBAAMH,EAAM,IACxBI,SAAU,kBAAMP,EAAS,KACzBQ,QAAS,kBAAuB,IAAjBT,EAAMU,UCVhBC,GAAyBtK,IAAMC,cACxC,CACIsK,OAAQ,GACRC,UAAW,SAACD,KACZE,SAAU,SAACnB,KACXoB,YAAa,SAACzE,KACd0E,WAAY,SAAC1E,KACb2E,YAAa,SAAC3E,OAST4E,GAAiC,SAAC,GAAkB,IAAhBnK,EAAe,EAAfA,SACtCsH,EAAmBD,eAAnBC,gBAGP,EAA4BrH,mBAAS,IAArC,mBAAO4J,EAAP,KAAeC,EAAf,KAGA,EN5B0B,WAC1B,IAAMM,EAASC,cAAcD,OAK7B,MAAO,CAHc,IAAIE,gBAAgBF,GAAQnD,IAAI,MACjC,IAAIqD,gBAAgBF,GAAQnD,IAAI,UMwBhBsD,GAApC,mBAAOpD,EAAP,KAAqBC,EAArB,KACA,EAAsBF,GAAwBC,EAAcC,GAA5D,mBAAOxH,EAAP,KAaA,GAbA,KAa4BK,mBAAS,OAArC,mBAAOuK,EAAP,KAAeC,EAAf,KAEA,EAAoBzF,cAAZC,EAAR,EAAQA,EAAR,EAAW3G,KAEX8E,qBAAU,WACN,GAAKxD,EAAL,CAEA,IAAM8K,EAAYC,aA/CT9C,+BAiDT,OADA4C,EAAUC,GACH,kBAAMA,EAAUE,YACxB,CAAChL,IAIJwD,qBAAU,WACS,OAAXoH,IAEJA,EAAOK,GAAG,aAAa,SAAAxC,GACnByB,EF5De,SAACgB,GACxB,IAAIjB,EAAS,GAIb,OAHAiB,EAAQC,SAAQ,SAACnC,GACbiB,EAAOjB,EAAMrD,IAAMoD,GAAWC,MAE3BiB,EEuDWmB,CAAY3C,EAAKwB,YAE/BW,EAAOK,GAAG,iBAAiB,SAAAxC,GACvByB,GAAU,SAAAD,GAAM,kCAASA,GAAT,kBAAkBxB,EAAKO,MAAMrD,GAAKoD,GAAWN,EAAKO,eAEtE4B,EAAOK,GAAG,oBAAoB,SAAAxC,GAC1B,IAAMO,EAAQP,EAAKO,MAEnBkB,GAAU,SAAAD,GAEN,cADOA,EAAOjB,EAAMrD,IACb,eAAIsE,MAGfvC,EAAgB,GAAD,OAAIrC,EAAE,SAAN,YAAkB2D,EAAMlH,OAAxB,YAAkCuD,EAAE,iBAAmB,CAACyD,QAAS,eAEpF8B,EAAOK,GAAG,kBAAkB,SAAAxC,GACxB,IAAMO,EAAQD,GAAWN,EAAKO,OAE9BkB,GAAU,SAAAD,GAEN,OADAA,EAAOjB,EAAMrD,IAAMqD,EACZ,eAAIiB,MAGfvC,EAAgB,GAAD,OAAIrC,EAAE,SAAN,YAAkB2D,EAAMlH,OAAxB,YAAkCuD,EAAE,iBAApC,YAAwDA,EAAE2D,EAAMqC,cAAgB,CAACvC,QAAS,eAE7G8B,EAAOK,GAAG,oBAAoB,SAAAxC,GAC1B,IAAMO,EAAQP,EAAKO,MAEnBkB,GAAU,SAAAD,GAEN,cADOA,EAAOjB,EAAMrD,IACb,eAAIsE,MAGfvC,EAAgB,GAAD,OAAIrC,EAAE,SAAN,YAAkB2D,EAAMlH,OAAxB,YAAkCuD,EAAE,qBAAuB,CAACyD,QAAS,kBAEzF,CAAC8B,IAIJ,IAAMU,EAAWnC,KACjB3F,qBAAU,WACS,OAAXoH,IACAU,EAASxB,YAEbwB,EAASjC,MAAM9G,KAAI,SAAAyG,GACf4B,EAAOW,KAAK,gBAAiB,CAACzJ,OAAQkH,OAG1CsC,EAASzB,eACV,CAACyB,EAAUV,IACd,IAGMY,EAAiBrC,KACvB3F,qBAAU,WACS,OAAXoH,IACAY,EAAe1B,YAEnB0B,EAAenC,MAAM9G,KAAI,SAAAoD,GACrBiF,EAAOW,KAAK,mBAAoB,CAAC5F,GAAIA,OAGzC6F,EAAe3B,eAChB,CAAC2B,EAAgBZ,IACpB,IAGMa,EAAatC,KACnB3F,qBAAU,WACS,OAAXoH,IACAa,EAAW3B,YAEf2B,EAAWpC,MAAM9G,KAAI,SAAAyG,GACjB4B,EAAOW,KAAK,iBAAkBvC,GAC9B0C,QAAQC,IAAI3C,MAGhByC,EAAW5B,eACZ,CAAC4B,EAAYb,IAEhB,IAMMgB,EAAezC,KACrB3F,qBAAU,WACS,OAAXoH,IACAgB,EAAa9B,YAEjB8B,EAAavC,MAAM9G,KAAI,SAAAoD,GACnBiF,EAAOW,KAAK,mBAAoB,CAAC5F,GAAIA,OAGzCiG,EAAa/B,eACd,CAAC+B,EAAchB,IAClB,IAEMtK,EAAkB,CACpB2J,OAAQ4B,OAAOC,OAAO7B,GACtBC,UAAW,aACXC,SApDa,SAACnB,GAAD,OAAWsC,EAAS/B,KAAKP,IAqDtCoB,YAvCgB,SAACzE,GAAD,OAAQ6F,EAAejC,KAAK5D,IAwC5C0E,WAxBe,SAAC1E,GAA0B,IAAtBoG,EAAqB,wDACzCL,QAAQC,IAAI1B,EAAOtE,GAAKsE,EAAOtE,GAAI0F,aACnCI,EAAWlC,KAAK,CAAC5D,GAAIA,EAAIqG,YAAaD,KAuBtCzB,YARgB,SAAC3E,GAAD,OAAQiG,EAAarC,KAAK5D,KAY9C,OAAO,cAACqE,GAAuBzJ,SAAxB,CAAiCC,MAAOF,EAAxC,SACFF,K,uCC/FM6L,OAvEf,YAKI,IAJAjD,EAID,EAJCA,MAID,IAHC7E,kBAGD,MAHY,aAGZ,MAFC+H,kBAED,MAFY,aAEZ,EADGlL,EACH,kBACO8E,EAAUpG,IAAMoB,WAAW4F,IAC3ByF,EAAczM,IAAMoB,WAAWkJ,IACrC,EAAoB5E,cAAZC,EAAR,EAAQA,EAwBF+G,GAxBN,EAAW1N,KAwBgC,aAAtBsK,EAAMqC,aAErBgB,EAAa,WAAuB,IAAtBN,EAAqB,wDACrC5H,IAEKiI,EAKLtG,EAAQ,CACJP,MAAOF,EAAE,uBACTU,cAAe,WACXoG,EAAY/B,YAAYpB,EAAMrD,KAElCK,aAAc,WACVkG,OAVJC,EAAY9B,WAAWrB,EAAMrD,GAAIoG,IAcnCO,EAAatD,EAAMuD,qBAAqBC,UAG/C,OAAO,eAAC,IAAM/F,SAAP,WACH,cAAC,GAAD,IACA,cAAC,GAAD,aACKtC,WAAYA,EACZoB,MAAK,UAAKF,EAAE,SAAP,YAAmB2D,EAAMlH,QAC9B0D,YAAW,UAAKH,EAAE,kBAAP,YAA4BxD,EAAWyK,EAAWG,MAAlD,YAA2D5K,EAAWyK,EAAWI,SAC5FjH,QAAS,eAAC,IAAMgB,SAAP,WACD,cAACtB,GAAD,CAAUT,QAASP,EAAYS,KAAMS,EAAE,aACpC+G,GAAgB,cAAClF,GAAD,CAAWxC,QAAS,kBAAM2H,GAAW,IAAOzH,KAAMS,EAAE,cACvE,cAAC6B,GAAD,CAAWxC,QAAS,kBAAM2H,GAAW,IAAQzH,KAAoBS,EAAd+G,EAAgB,WAAe,UAClF,cAACzH,EAAD,CAAQD,QA5CH,WACjBP,IACA2B,EAAQ,CACJC,cAAe,WACXoG,EAAY7B,YAAYtB,EAAMrD,KAElCK,aAAc,WACVkG,QAqCmCtH,KAAMS,EAAE,gBAEjDrE,Q,aCtEJ2L,GAAe,QACfC,GAAiB,UAqERC,OArDf,YAGI,IAFD7D,EAEA,EAFAA,MACGhI,EACH,kBAEMH,EAAUnB,IAAMoB,WAAWrB,GACjC,EAA4CY,oBAAS,GAArD,mBAAOyM,EAAP,KAAuBC,EAAvB,KACMC,EAAuB,kBAAMD,GAAkB,IAGrD,EAA4B1M,mBAAS,MAArC,mBAAO4M,EAAP,KAAeC,EAAf,KACMC,EAzBQ,SAACF,GAAD,OAAaA,IAAWN,GAAe,CACrDrI,GAAI,8BACJ8I,GAAI,aACJxI,KAAM,iBACLqI,IAAWL,GAAiB,CAC7BtI,GAAI,oCACJ8I,GAAI,gBACJxI,KAAM,iBACL,CACDN,GAAI,kCACJ8I,GAAI,cACJxI,KAAM,iBAcQyI,CAASJ,GACvB,EAAoB7H,cAAZC,EAAR,EAAQA,EASR,OATA,EAAW3G,KASJ,eAAC,IAAM+H,SAAP,WAEHqG,GAAkB,cAAC,GAAD,CAAY3I,WAfL,kBAAM4I,GAAkB,IAeeb,WAAYc,EAAsBhE,MAAOA,IAE1G,cAAC,EAAD,yBAAUvH,WAAU,eAAK0L,EAAM7I,IAAK,GAAQI,QAASsI,GAA0BhM,GAA/E,aAEG,sBAAKU,UAAS,+BAA0ByL,EAAMvI,MAA9C,UACG,qBAAKlD,UAAU,SAAf,SACG,mBAAGA,UAAU,qBAAb,SACG,cAACkB,EAAD,CAAWE,UAAWkG,EAAMuD,qBAAsBxJ,YAhB5C,SAACF,GACnB,IAAMyK,EAAUzK,EAAK,IACrB,OAAIyK,EAAUzM,EAAQf,OAAOyN,aAAqBL,EAAUP,IACxDW,EAAUzM,EAAQf,OAAO0N,eAAuBN,EAAUN,SAC9DM,EAAU,OAY+E5K,UAAU,gBAG7F,sBAAKZ,UAAU,sBAAf,UACG,qBAAKA,UAAU,YAAf,SACG,sBAAMA,UAAS,0GAAqGyL,EAAMC,IAA1H,SACI/H,EAAE2D,EAAMqC,iBAGf,qBAAK3J,UAAU,SAAf,SACG,mBAAGA,UAAU,gCAAb,SACIsH,EAAMlH,wB,iEC5Db,SAAS2L,GAAT,GAQX,IAPAC,EAOD,EAPCA,KAOD,IANCC,aAMD,MANO,KAMP,MALC/N,YAKD,MALM,OAKN,MAJCgO,YAID,MAJM,KAIN,MAHCC,aAGD,MAHO,KAGP,MAFCC,mBAED,MAFa,GAEb,EADI9M,EACJ,kBAEC,OAAO,cAAC,KAAD,CAAOpB,KAAMA,EAAM8N,KAAMA,EAAzB,SAEN,gBACUK,EADV,EACUA,MADV,IAEUC,KACAC,GAHV,EAEkBC,QAFlB,EAE2BC,OAF3B,EAGUF,MAHV,OAIc,gCACLN,GAAS,uBAAOS,IAAKV,EAAMhM,UAAS,oCAA+BuC,GAA1D,SAA2E0J,IAEpFM,EAAKC,SAAWD,EAAKI,OAChB,uBAAOD,IAAKV,EAAMhM,UAAU,yCAA5B,SAAsEuM,EAAKI,QAEjF,sBAAK3M,UAAU,qCAAf,UACKkM,GAAQ,qBAAKlM,UAAU,uEAAf,SACL,sBAAMA,UAAS,UAAKuC,EAAL,eAAf,SACK2J,MAGT,iDAAY5M,GAAZ,IAAmBpB,KAAMA,EAAM8N,KAAMA,EAAM/H,GAAI+H,EAAMhM,UAAS,2BAAsBkM,EAAM,OAAQ,GAApC,YAA0CC,EAAO,OAAQ,GAAzD,wCAAmGC,YAAaA,GAAiBC,IAC9LF,GAAS,qBAAKnM,UAAU,mEAAf,SACN,sBAAMA,UAAS,UAAKuC,EAAL,eAAf,SACK4J,e,uFC5BX,SAASS,GAAT,GAQX,IAAD,IAPD/I,aAOC,MAPO,KAOP,MANDC,mBAMC,MANa,KAMb,MALDrB,kBAKC,MALY,aAKZ,OAJD+H,WAIC,EAHDlG,qBAGC,MAHc,aAGd,MAFDuI,oBAEC,MAFc,SAACvL,GAAD,OAAO,IAAI4E,QAAQC,SAEjC,EADE7G,EACF,kBAED,EAAoBoE,cAAZC,EAAR,EAAQA,EAAR,EAAW3G,KACX,OAAO,cAAC,KAAD,CACF8P,cAAe,CAAEC,SAAU,IAC3BC,SAAU,SAAC5C,EAAD,GAA0C,IAA/B6C,EAA8B,EAA9BA,cAAeC,EAAe,EAAfA,UACjCL,EAAazC,EAAO2C,UAAUlG,MAAK,WACjCpE,IACAwK,GAAc,MACb,WACDC,EAAU,CAACH,SAAUpJ,EAAE,kBACvBsJ,GAAc,OARjB,SAYD,gBAAGE,EAAH,EAAGA,aAAH,OACC,cAAC,KAAD,UACE,cAAC,GAAD,yBACG1K,WAAYA,EACZoB,MAAOA,EACPC,YAAaA,EACbhB,SAAUqK,EACVpJ,QAAS,eAAC,IAAMgB,SAAP,WACP,cAACtB,GAAD,CAAUT,QAAS,WACjBP,IACA6B,KACGpB,KAAMS,EAAE,UAAWb,SAAUqK,IAClC,cAAC3H,GAAD,CAAWtC,KAAMS,EAAE,UAAWzF,KAAK,SAAS4E,SAAUqK,EAAc3J,QAAS2J,QAE3E7N,GAZP,aAcG,qBAAKU,UAAU,WAAf,SACE,cAAC+L,GAAD,CAAOC,KAAK,uBC9CrB,IAAMoB,GAAkBpP,IAAMC,cACjC,CAAEoP,OAAQ,SAACxJ,EAAOC,EAAa+I,EAAcvI,OAGpCgJ,GAA0B,SAAC,GAAkB,IAAhB5O,EAAe,EAAfA,SACtC,EAAoCC,oBAAS,GAA7C,mBAAO4O,EAAP,KAAmBC,EAAnB,KACMC,EAAmB,kBAAMD,GAAc,IACvCE,EAAmB,kBAAMF,GAAc,IAE7C,EAAgC7O,mBAC5B,CACIkF,MAAO,KACPC,YAAa,KACb+I,aAAcY,EACdnJ,aAAcmJ,IALtB,mBAAOE,EAAP,KAAiBC,EAAjB,KAgCA,OAAO,eAAC,IAAM7I,SAAP,WACFwI,GAAc,cAACX,GAAD,CACX/I,MAAO8J,EAAS9J,MAChBC,YAAa6J,EAAS7J,YACtB+I,aAAcc,EAASd,aACvBvI,aAAcqJ,EAASrJ,aACvB7B,WAAYgL,EACZjD,WAAYkD,IAEhB,cAACN,GAAgBvO,SAAjB,CAA0BC,MAAO,CAAEuO,OAjCxB,SAAC,GAAgH,IAAD,IAA7GxJ,aAA6G,MAArG,KAAqG,MAA/FC,mBAA+F,MAAjF,KAAiF,MAA3E+I,oBAA2E,MAA5D,kBAAM,IAAI3G,QAAQC,SAA0C,MAA/B7B,oBAA+B,MAAhB,aAAgB,EAC3HsJ,EACI,CACI/J,MAAOA,EACPC,YAAaA,EACb+I,aAAc,sCAAI/N,EAAJ,yBAAIA,EAAJ,uBAAc,IAAIoH,SAAQ,SAAUC,EAASC,GACvDyG,EAAY,WAAZ,EAAgB/N,GACX+H,MACG,WACIV,EAAO,WAAP,aACAsH,OAEJ,kBAAarH,EAAM,WAAN,oBAGzB9B,aAAc,WACVmJ,IACAnJ,OAIZoJ,MAYA,SACKhP,Q,oEC7CPmP,GAAc,SAACC,GAAD,uBAAOC,SAASD,UAAhB,QAAsBA,GAE3B,SAASE,GAAT,GAMX,IAAD,IALDvL,kBAKC,MALY,aAKZ,MAJD+H,kBAIC,MAJY,aAIZ,MAHDyD,mBAGC,MAHa,SAAC3M,KAGd,MAFD4M,4BAEC,MAFsB,GAEtB,EADE5O,EACF,kBACKH,EAAUnB,IAAMoB,WAAWrB,GACjC,EAAoB2F,cAAZC,EAAR,EAAQA,EAEN,GAFF,EAAW3G,KAEiC2B,mBAAS,KAAnD,mBAAOwP,EAAP,KAAsBC,EAAtB,KACAtM,qBAAU,WAAO,IAAD,EACdsM,GAAiB,UAACjP,EAAQf,OAAR,qBAAD,QAAoC,IACpDyC,KAAI,SAAAyG,GAAK,OAAIA,EAAM0E,QACnBqC,MAAK,SAACC,EAAGC,GAAJ,OAAUV,GAAYS,GAAKT,GAAYU,SAC5C,CAACpP,EAAQf,OAAR,gBAEN,IAAMoQ,EAAiB,SAACC,GACtB,OAAO,IAAIvI,SAAQ,SAAUC,EAASC,GACpC6H,EAAYQ,GACZhM,IACAiM,GAAW,GACXvI,QAIJ,EAA8BxH,oBAAS,GAAvC,mBAAO6E,EAAP,KAAgBkL,EAAhB,KAEMrB,EAASrP,IAAMoB,WAAWgO,IAiBhC,OAAO,cAAC,IAAMrI,SAAP,UACL,cAAC,GAAD,yBACEtC,WAAYA,EACZoB,MAAOF,EAAE,aACTG,YAAaH,EAAE,mBACfb,UAAsB,IAAZU,EACVO,QAAS,eAAC,IAAMgB,SAAP,WACP,cAACtB,GAAD,CAAUT,QAASP,EAAYS,KAAMS,EAAE,UAAWb,UAAoB,IAAVU,IAC5D,cAACgC,GAAD,CAAWxC,QAxBY,WAC3BP,IACA4K,EAAOA,OAAO,CACZxJ,MAAOF,EAAE,WACTkJ,aAAc,SAAC8B,GAAD,OAAY,IAAIzI,SAAQ,SAAUC,EAASC,GACvDoI,EAAeG,GAAQ9H,MAAK,kBAAMV,OAAW,kBAAMC,WAErD9B,aAAckG,KAiB8BtH,KAAMS,EAAE,UAAWb,UAAoB,IAAVU,QAErElE,GATN,aAWE,qBAAKU,UAAU,WAAf,SACGmO,EAAcS,QAAO,SAAAtH,GAAK,OAAK4G,EAAqB3O,SAAS+H,MAAQzG,KAAI,SAAAgO,GAAS,OACnF,cAAC5L,EAAD,CAAQO,QAASA,IAAUqL,EAAW/L,UAAoB,IAAVU,EAAiBR,QAAS,kBAlB9E0L,EAD6BtO,EAmB6EyO,QAjB1GL,EAAepO,GAFa,IAACA,GAmByF8C,KAAM2L,GAAgBA,a,8CCjCjIC,OA/Bf,YAII,IAAD,MAHAb,mBAGA,MAHc,SAAC3M,KAGf,MAFA4M,4BAEA,MAFuB,GAEvB,EADG5O,EACH,kBACA,EAAoBoE,cAAZC,EAAR,EAAQA,EAER,GAFA,EAAW3G,KAEqC2B,oBAAS,IAAzD,mBAAOoQ,EAAP,KAAyBC,EAAzB,KACMC,EAAyB,kBAAMD,GAAoB,IAGzD,OAAO,eAAC,IAAMjK,SAAP,WACHgK,GAAoB,cAACf,GAAD,CACrBvL,WAJ4B,kBAAMuM,GAAoB,IAKtDxE,WAAYyE,EACZhB,YAAaA,EACbC,qBAAsBA,IAEzB,cAAC,EAAD,yBAAUlL,QAASiM,EAAwBlP,YAAU,GAClD,YAAY,EACf,iBAAiB,GAFoC,cAGpDwC,GAA8B,GAHsB,cAIpDA,GAAe,GAJqC,IAI1BjD,GAJ3B,IAIkCwD,UAAU,EAJ5C,SAKG,qBAAK9C,UAAU,yEAAf,SACM,mBAAGA,UAAU,qBAAb,SACI2D,EAAE,qBC7BLuL,GAAgB,WAChBC,GAAwB,mBACxBC,GAAyB,oBAChCC,GAAQ,CAACH,GAAeC,GAAuBC,IAkBtCE,OAhBf,YAEI,IADAjB,EACD,EADCA,KAAMkB,EACP,EADOA,QAKN,OAAO,qBAAKvP,UAAU,mBAAf,SAAkC,qBAAKgD,QAFrB,kBAAMuM,EAAQF,IAAOA,GAAMG,QAAQnB,GAAQ,GAAKgB,GAAMhH,UAENrI,UAAU,iIAA1C,SACpC,qBAAKuE,MAAM,6BAA6BvE,UAAU,wBAAwBwE,KAAK,OAAOC,QAAQ,YAAYC,OAAO,eAAjH,SACC2J,IAASa,GAAgB,sBAAMvK,cAAc,QAAQC,eAAe,QAAQC,YAAY,IAAIC,EAAE,qKAC9FuJ,IAASc,GAAuB,sBAAMxK,cAAc,QAAQC,eAAe,QAAQC,YAAY,IAAIC,EAAE,iDACrG,sBAAMH,cAAc,QAAQC,eAAe,QAAQC,YAAY,IAAIC,EAAE,wDCflE2K,GAAc,QACdC,GAAa,OACpBC,GAAS,CAACF,GAAaC,IAEvBE,GAAqB,QAEdC,GAAe7R,IAAMC,cAC9B,CACIwN,MAAOgE,GACPK,SAAU,SAACrE,KACXsE,SAAU,aACVC,QAAS,aACTC,OAAQ,aACRC,SAAS,EACTC,QAAQ,IAIHC,GAAuB,SAAC,GAAkB,IAAhB1R,EAAe,EAAfA,SACnC,EAA2BC,mBAAS0R,aAAaC,QAAQV,MAAwBF,GAAYA,GAAYD,IAAzG,mBAAOhE,EAAP,KAAc8E,EAAd,KACMT,EAAW,SAACU,GACd,IAAKb,GAAOpQ,SAASiR,GAAW,MAAM,IAAIC,MAAJ,yBAA4BD,EAA5B,+CAA2Eb,GAA3E,MACtCY,EAAUC,GACVH,aAAaK,QAAQd,GAAoBY,IAGvC5R,EAAkB,CACpB6M,MAAOA,EACPqE,SAAUA,EACVC,SAAU,kBAAMD,EAASL,KACzBO,QAAS,kBAAMF,EAASJ,KACxBO,OAAQ,kBAAMH,EAASH,IAAQA,GAAOH,QAAQ/D,GAAS,GAAKkE,GAAOtH,UACnE6H,QAASzE,IAAUgE,GACnBU,OAAQ1E,IAAUiE,IAGtB,OAAO,cAACG,GAAahR,SAAd,CAAuBC,MAAOF,EAA9B,SACH,qBAAKoB,UAAWyL,IAAUiE,GAAa,YAASrK,EAAhD,SACK3G,OCpCE,SAASiS,KACpB,IAAMC,EAAW5S,IAAMoB,WAAWyQ,IAElC,OAAO,qBAAK7P,UAAU,mBAAf,SAAkC,qBAAKgD,QAAS4N,EAASX,OAAQjQ,UAAU,iIAAzC,SACpC,qBAAKuE,MAAM,6BAA6BvE,UAAU,wBAAwBwE,KAAK,OAAOC,QAAQ,YAAYC,OAAO,eAAjH,SAEIkM,EAASV,QACT,sBAAMvL,cAAc,QAAQC,eAAe,QAAQC,YAAY,IAAIC,EAAE,0FACrE,sBAAMH,cAAc,QAAQC,eAAe,QAAQC,YAAY,IAAIC,EAAE,gKCT3E,IAAM+L,GAAc,KAErBC,GAAY,CAACD,GADQ,MAGrBE,GAAwB,WAEjBC,GAAkBhT,IAAMC,cACjC,CACIgT,SAAUJ,GACVK,YAAa,SAACD,KACdhB,OAAQ,eAIHkB,GAA0B,SAAC,GAAkB,IAAhBzS,EAAe,EAAfA,SAChC0S,EAAuBf,aAAaC,QAAQS,IAClD,EAAiCpS,mBAASmS,GAAUvR,SAAS6R,GAAuBA,EAAsBP,IAA1G,mBAAOI,EAAP,KAAiBI,EAAjB,KACMH,EAAc,SAACI,GACjB,IAAKR,GAAUvR,SAAS+R,GAAc,MAAM,IAAIb,MAAJ,4BAA+Ba,EAA/B,+CAAiFR,GAAjF,MAC5CO,EAAaC,GACbjB,aAAaK,QAAQK,GAAuBO,GAC5CtU,EAAKuU,eAAeD,IAGlB1S,EAAkB,CACpBqS,SAAUA,EACVC,YAAaA,EACbjB,OAAQ,kBAAMiB,EAAYJ,IAAWA,GAAUtB,QAAQyB,GAAY,GAAKH,GAAUzI,WAGtF,OAAO,cAAC2I,GAAgBnS,SAAjB,CAA0BC,MAAOF,EAAjC,SACEF,KC9BE,SAAS8S,KACpB,IAAMC,EAAczT,IAAMoB,WAAW4R,IAErC,OAAO,qBAAKhR,UAAU,mBAAf,SAAkC,qBAAKgD,QAASyO,EAAYxB,OAAQjQ,UAAU,iIAA5C,SACpC,qBAAKuE,MAAM,6BAA6BvE,UAAU,wBAAwBwE,KAAK,OAAOC,QAAQ,YAAYC,OAAO,eAAjH,SACA,sBAAMC,cAAc,QAAQC,eAAe,QAAQC,YAAY,IAAIC,EAAE,gI,iBCIxE+I,GAAc,SAACC,GAAD,uBAAOC,SAASD,UAAhB,QAAsBA,GAEpC4D,IAAa,qBAChBxC,IAAgB,SAACyC,EAAQC,GAAT,OAAoBD,EAAO9G,qBAAqBgH,WAAaD,EAAO/G,qBAAqBgH,cADzF,eAEhB1C,IAAwB,SAACwC,EAAQC,GAAT,OAAoB/D,GAAY8D,EAAOvR,QAAUyN,GAAY+D,EAAOxR,WAF5E,eAGhBgP,IAAyB,SAACuC,EAAQC,GAAT,OAAoB/D,GAAY+D,EAAOxR,QAAUyN,GAAY8D,EAAOvR,WAH7E,IAKnB,SAAS0R,KAA4B,IAAD,EAC5BrH,EAAczM,IAAMoB,WAAWkJ,IAC/BnJ,EAAUnB,IAAMoB,WAAWrB,GAEjC,EAAyCY,mBAAS,IAAlD,mBAQA,GARA,UAQwBA,mBAASuQ,KAAjC,mBAAOb,EAAP,KAAakB,EAAb,KACA,EAAwB5Q,mBAASoT,cAAjC,mBAAOC,EAAP,KAEMzJ,GAFN,KAEekC,EAAYlC,QAC3B,EAAyC5J,mBAAS,IAAlD,mBAAOsT,EAAP,KAAqBC,EAArB,KAMApQ,qBAAU,kBAJeqQ,EAIO5J,GAHpB8F,KAAKqD,GAAcrD,SAC7B6D,EAAiB,YAAIC,IAFC,IAACA,IAIgB,CAAC5J,EAAQ8F,IAElD,IAAM+D,EAAW,kBAAM,sBAAKpS,UAAU,sEAAf,UACvB,cAAC,GAAD,CAAciO,YAAaxD,EAAYhC,SAAUyF,qBAAsB3F,EAAO1H,KAAI,SAAAyG,GAAK,OAAIA,EAAMlH,YAEhG6R,EAAapR,KAAI,SAAAyG,GAAK,OACrB,cAAC,GAAD,CAAWA,MAAOA,GAAYA,EAAMrD,WAOtC,OAAO,gCACL,sBAAKjE,UAAU,yCAAf,UACE,qBAAKA,UAAU,eAAf,SAA8B,mBAAGA,UAAS,yCAAoCuC,GAAhD,mBAC5BpD,EAAQf,OAAOiU,sBADa,QACK,UAEnC,sBAAKrS,UAAU,cAAf,UACE,cAAC,GAAD,CAAYqO,KAAMA,EAAMkB,QAASA,IAIjC,cAACoB,GAAD,IACA,cAACa,GAAD,UAIJ,qBAAKxR,UAAU,MAAf,SACGgS,GAAQD,aAAW,cAACK,EAAD,IAAc,UAYzBE,OAPf,WAEE,OAAO,cAAC,GAAD,UACL,cAACR,GAAD,OC7EW,SAASS,GAAT,GAA2D,IAAnCC,EAAkC,EAAlCA,cAAeC,EAAmB,EAAnBA,iBAElD,OAAO,qBAAKzS,UAAU,mBAAf,SAAkC,qBAAKgD,QAAS,kBAAMyP,GAAkBD,IAAgBxS,UAAU,iIAAhE,SACpC,qBAAKuE,MAAM,6BAA6BvE,UAAU,wBAAwBwE,KAAK,OAAOC,QAAQ,YAAYC,OAAO,eAAjH,SAEA8N,EAAe,sBAAM7N,cAAc,QAAQC,eAAe,QAAQC,YAAY,IAAIC,EAAE,yGAA2G,sBAAMH,cAAc,QAAQC,eAAe,QAAQC,YAAY,IAAIC,EAAE,uG,wBCE9P,SAAS4N,GAAT,GAA4B,gBACzC,MAA2C3M,eAAnCC,EAAR,EAAQA,gBACR,GADA,EAAyBC,cACLvC,eAAZC,EAAR,EAAQA,EAEJgP,GAFJ,EAAW3V,KAEG4V,eAeNC,EAAYC,2BAAgB,CAClCC,SAtBaxM,4EAuBXyM,gBAhBsB,WCVjB,IAAI9M,SAAQ,SAASC,EAASC,GACjCC,KAAM,CAACC,IAAI,GAAD,OAAKC,8BAAL,mBACNC,OAAQ,OACRI,QAAQ,aAAE,gBAAiB,YAAenB,QAE7CoB,MAAK,SAAAvF,GAAC,OAAI6E,OACVa,OAAM,SAAA1F,GAAC,OAAI8E,UDKLS,MAAK,WACZb,EAAgBrC,EAAE,UAAW,CAACyD,QAAS,YACvCuL,EAAQ9K,KAAK,aACZb,OAAM,WACPhB,EAAgBrC,EAAE,sBAAuB,CAACyD,QAAS,cAYrD6L,gBAPsB,WACtBjN,EAAgBrC,EAAE,sBAAuB,CAACyD,QAAS,aAG/CyL,QAQN,OAAO,qBAAK7S,UAAU,mBAAf,SAAkC,qBAAKgD,QAAS6P,EAAS7S,UAAU,iIAAjC,SACpC,qBAAKuE,MAAM,6BAA6BvE,UAAU,wBAAwBwE,KAAK,OAAOC,QAAQ,YAAYC,OAAO,eAAjH,SACA,sBAAMC,cAAc,QAAQC,eAAe,QAAQC,YAAY,IAAIC,EAAE,oGEpC/D,SAASoO,GAAT,GAA4C,IAAD,IAA5BrP,aAA4B,MAAtB,KAAsB,MAAhBnF,gBAAgB,MAAP,KAAO,EACtD,OAAO,sBAAKsB,UAAS,6BAAwBuC,GAAtC,UACNsB,GAAS,mBAAG7D,UAAS,yCAAoCuC,GAAhD,SACPsB,IAEH,qBAAK7D,UAAU,MAAf,SACGtB,OCLA,IAAMiH,GAAM,SAACwN,GAA+G,IAArGC,EAAoG,uDAA3F,SAACrM,EAAMZ,EAASC,GAAhB,OAA2BD,EAAQY,IAAOsM,EAAiD,uDAAvC,SAACvM,EAAKX,EAASC,GAAf,OAA0BA,KACjH,OAAO,IAAIF,SAAQ,SAAUC,EAASC,GAClCC,KAAM,CACFC,IAAI,GAAD,OAAKC,8BAAL,kBAAgD4M,GACnD3M,OAAQ,MACRI,QAAQ,aAAG,gBAAiB,YAAenB,QAE1CoB,MAAK,SAAAC,GAAG,OAAIsM,EAAOtM,EAAIC,KAAMZ,EAASC,MACtCY,OAAM,SAAAF,GAAG,OAAIuM,EAAQvM,EAAKX,EAASC,UAInCkN,GAAO,SAACH,EAAUpM,GAA2G,IAArGqM,EAAoG,uDAA3F,SAACrM,EAAMZ,EAASC,GAAhB,OAA2BD,EAAQY,IAAOsM,EAAiD,uDAAvC,SAACvM,EAAKX,EAASC,GAAf,OAA0BA,KACxH,OAAO,IAAIF,SAAQ,SAAUC,EAASC,GAClCC,KAAM,CACFC,IAAI,GAAD,OAAKC,8BAAL,kBAAgD4M,GACnD3M,OAAQ,OACRO,KAAMA,EACNH,QAAQ,aAAG,gBAAiB,YAAenB,QAE1CoB,MAAK,SAAAC,GAAG,OAAIsM,EAAOtM,EAAIC,KAAMZ,EAASC,MACtCY,OAAM,SAAAF,GAAG,OAAIuM,EAAQvM,EAAKX,EAASC,UAInCmN,GAAQ,SAACJ,EAAUlP,EAAI8C,GAA2G,IAArGqM,EAAoG,uDAA3F,SAACrM,EAAMZ,EAASC,GAAhB,OAA2BD,EAAQY,IAAOsM,EAAiD,uDAAvC,SAACvM,EAAKX,EAASC,GAAf,OAA0BA,KAC7H,OAAO,IAAIF,SAAQ,SAAUC,EAASC,GAClCC,KAAM,CACFC,IAAI,GAAD,OAAKC,8BAAL,kBAAgD4M,EAAhD,YAA4DlP,GAC/DuC,OAAQ,QACRO,KAAMA,EACNH,QAAQ,aAAG,gBAAiB,YAAenB,QAE1CoB,MAAK,SAAAC,GAAG,OAAIsM,EAAOtM,EAAIC,KAAMZ,EAASC,MACtCY,OAAM,SAAAF,GAAG,OAAIuM,EAAQvM,EAAKX,EAASC,UAKnCoN,GAAS,SAACL,EAAUlP,GAAuG,IAAnGmP,EAAkG,uDAAzF,SAACtM,EAAKX,EAASC,GAAf,OAA0BD,EAAQW,IAAMuM,EAAiD,uDAAvC,SAACvM,EAAKX,EAASC,GAAf,OAA0BA,KACtH,OAAO,IAAIF,SAAQ,SAAUC,EAASC,GAClCC,KAAM,CACFC,IAAI,GAAD,OAAKC,8BAAL,kBAAgD4M,EAAhD,YAA4DlP,GAC/DuC,OAAQ,SACRI,QAAQ,aAAG,gBAAiB,YAAenB,QAE1CoB,MAAK,SAAAC,GAAG,OAAIsM,EAAOtM,EAAKX,EAASC,MACjCY,OAAM,SAAAF,GAAG,OAAIuM,EAAQvM,EAAKX,EAASC,UChD1CqN,GAAc,SAAC5N,GAAD,6BAAkCA,EAAlC,kBCML,SAAS6N,GAAT,GAA4E,IAAxDlB,EAAuD,EAAvDA,cAAe3M,EAAwC,EAAxCA,aAAc8N,EAA0B,EAA1BA,MAAOC,EAAmB,EAAnBA,SAAUC,EAAS,EAATA,QAC7E,EAA2C9N,eAAnCC,EAAR,EAAQA,gBACR,GADA,EAAyBC,cACLvC,eAAZC,EAAR,EAAQA,EAGFmQ,GAHN,EAAW9W,KAGsB,WAEzBwV,EACAxM,EAAgBrC,EAAE,mBAAoB,CAACyD,QAAS,aAGpD2M,UAAUC,UAAUC,UAAUN,EAAMrN,KACpCN,EAAgBrC,EAAE,aAAc,CAACyD,QAAS,eAQ9C,OAAO,qBAAKpH,UAAU,OAAf,SAAsB,cAAC,KAAD,CAC7B8M,cAAe6G,EACf3G,SAAU,SAAC5C,EAAD,GAA0C,IAA/B6C,EAA8B,EAA9BA,cAAeC,EAAe,EAAfA,WDAE,SAACrH,EAAc5B,EAAIiQ,GACzD,OAAOX,GACHE,GAAY5N,GACZ5B,EACA,CACIiQ,QAASA,IAEb,SAACnN,EAAMZ,EAAS7E,GAAhB,OAAsB6E,EAAQY,EAAI,kBCNnCoN,CAAkCtO,EAAc8N,EAAM1P,GAAImG,EAAO8J,SAASrN,MAAK,SAACuN,GAC/EP,EAAQF,EAAM1P,GAAImQ,GAClBnH,GAAc,GACdjH,EAAgBrC,EAAE,qBAAsB,CAAEyD,QAAS,eAClD,WACD8F,EAAU,CAACgH,QAAS,iBACpBjH,GAAc,OATW,SAa5B,gBAAGE,EAAH,EAAGA,aAAH,OACC,eAAC,KAAD,WAEE,sBAAKnN,UAAU,YAAf,UACI,qBAAKA,UAAU,YAAf,SACA,cAAC+L,GAAD,CAAOC,KAAK,cAGZ,cAACvI,GAAD,CAAUP,KAAMS,EAAE,UAAWb,SAAUqK,EAAcnK,QAAS4Q,IAC9D,cAACpO,GAAD,CAAWtC,KAAMS,EAAE,QAASzF,KAAK,SAAS4E,SAAUqK,EAAc3J,QAAS2J,OAK/E,qBAAKnN,UAAU,YAAf,SACI,qBAAKA,UAAS,oBAAewS,EAAe,iBAAkB,IAAMxP,QAAS8Q,EAA7E,SACI,cAAC/H,GAAD,CAAOC,KAAK,MAAMlJ,UAAQ,gBClDnC,IAAMuR,GAAqB,WAA4B,IAA3BC,EAA0B,uDAAtB,KAAM5M,EAAgB,uDAAP,GAClD,EAA0B/I,mBAAS+I,GAAnC,mBAAO6M,EAAP,KAAcC,EAAd,KACMC,EAAU,SAAC3M,GAAD,OAAU0M,EAAS,GAAD,mBAC1BD,GAD0B,CACnBzM,MAET4M,EAAa,SAACzQ,GAAD,OAAQuQ,EACvBD,EAAM3F,QAAO,SAAA9G,GAAI,OAAIA,EAAKwM,KAASrQ,OAEjC0Q,EAAY,SAAC1Q,EAAI2Q,GAAL,OAAiBJ,EAC/BD,EAAM1T,KAAI,SAAAiH,GAAI,OAAIA,EAAKwM,KAASrQ,EAAI2Q,EAAS9M,OAGjD,MAAO,CAACyM,EAAOC,EAAU,CACrBK,IAAKJ,EACLjB,OAAQkB,EACRnB,MAAOoB,KCVFG,GAAmB,SAAC,GAAqC,IAAnCjP,EAAkC,EAAlCA,aAAc2M,EAAoB,EAApBA,cAC7C,EAAwC6B,KAAxC,mBAAOU,EAAP,KAAeC,EAAf,KAA0BC,EAA1B,KACA,EAA2ClP,eAAnCC,EAAR,EAAQA,gBACF5B,GADN,EAAyB6B,cACTjI,IAAMoB,WAAW4F,KAC3BqI,EAASrP,IAAMoB,WAAWgO,IAChC,EAAoB1J,cAAZC,EAAR,EAAQA,EAAR,EAAW3G,KAEX8E,qBAAU,YHf2B,SAAC+D,GACtC,OAAOF,GACH8N,GAAY5N,IACZ,SAACkB,EAAMZ,EAAS7E,GAAhB,OAAsB6E,EAAQY,EAAI,mBGalCmO,CAA0BrP,GACzBgB,MAAK,SAACkO,GAAD,OAAYC,EAAUD,MAC3B/N,OAAM,SAAA1F,GAAC,OAAI0E,EAAgBrC,EAAE,mBAAoB,CAAEyD,QAAS,eAC9D,CAACvB,IAEJ,IAAMsP,EAA0B,SAAClR,GAC/BG,EAAQ,CACNP,MAAOF,EAAE,iBACTG,YAAaH,EAAE,uBACfU,cAAe,YHPoB,SAACwB,EAAc5B,GACtD,OAAOuP,GACHC,GAAY5N,GACZ5B,IGKImR,CAA4BvP,EAAc5B,GAAI4C,MAAK,WAC/CoO,EAAWzB,OAAOvP,GAClB+B,EAAgBrC,EAAE,YAAa,CAAEyD,QAAS,eAC3CJ,OAAM,WACLhB,EAAgBrC,EAAE,kBAAmB,CAAEyD,QAAS,iBAyBtDiO,EAA2B,SAACpR,EAAI0P,GAClCsB,EAAW1B,MAAMtP,EAAI0P,IAGzB,OAAO,eAACT,GAAD,CAAMrP,MAAOF,EAAE,eAAf,UACH,qBAAK3D,UAAU,iEAAf,SACK+U,EAAOlU,KAAI,SAAA8S,GAAK,OAAI,cAACD,GAAD,CAErBG,QAASwB,EACTxP,aAAcA,EACd2M,cAAeA,EACfoB,SAAU,kBAAMuB,EAAwBxB,EAAM1P,KAC9C0P,MAAOA,GALFA,EAAM1P,SAQf,qBAAKjE,UAAU,kCAAf,SACI,cAACwF,GAAD,CAAWxC,QAnCU,WAC3BqK,EAAOA,OAAO,CACZxJ,MAAOF,EAAE,eACTG,YAAaH,EAAE,wBACfkJ,aAAc,SAACb,GACX,OAAO,IAAI9F,SAAQ,SAAUC,EAASC,IHlCT,SAACP,EAAcqO,GACpD,OAAOZ,GACHG,GAAY5N,GACZ,CACIqO,QAASA,IAEb,SAACnN,EAAMZ,EAAS7E,GAAhB,OAAsB6E,EAAQY,EAAI,kBG6B1BuO,CAA0BzP,EAAcmG,GAAMnF,MAAK,SAACS,GAChD2N,EAAWJ,IAAIvN,GACftB,EAAgBrC,EAAE,cAAe,CAAEyD,QAAS,YAC5CjB,OACDa,OAAM,WACLhB,EAAgBrC,EAAE,kBAAmB,CAAEyD,QAAS,UAChDhB,cAuBkClD,KAAMS,EAAE,WAAYJ,EAAE,eCzEtEkQ,GAAc,SAAC5N,GAAD,6BAAkCA,EAAlC,mBCUP0P,GAAoB,SAAC,GAAsB,IAApB1P,EAAmB,EAAnBA,aAChC,EAAwCwO,GAAmB,QAA3D,mBAAO9L,EAAP,KAAeC,EAAf,KAA0BgN,EAA1B,KACA,EAA2CzP,eAAnCC,EAAR,EAAQA,gBACR,GADA,EAAyBC,cACKtH,mBAAS,OAAvC,mBAAO6E,EAAP,KAAgBkL,EAAhB,KAEA5M,qBAAU,YDb4B,SAAC+D,GACvC,OAAOF,GACH8N,GAAY5N,IACZ,SAACkB,EAAMZ,EAAS7E,GAAhB,OAAsB6E,EAAQY,EAAI,oBCWlC0O,CAA2B5P,GAC1BgB,MAAK,SAAC0B,GAAD,OAAYC,EAAUD,MAC3BvB,OAAM,SAAA1F,GAAC,OAAI0E,EAAgBrC,EAAE,mBAAoB,CAAEyD,QAAS,eAC9D,CAACvB,IAGJ,IAAMzB,EAAUpG,IAAMoB,WAAW4F,IAC3BqI,EAASrP,IAAMoB,WAAWgO,IAChC,EAAoB1J,cAAZC,EAAR,EAAQA,EACF+R,GADN,EAAW1Y,KACsB,SAACgP,GAChC5H,EAAQ,CACNP,MAAM,GAAD,OAAKF,EAAE,uBAAP,YAAiCqI,EAAjC,KACLlI,YAAY,GAAD,OAAKH,EAAE,kBAAP,YAA4BqI,EAA5B,YAAoCrI,EAAE,uBACjDU,cAAe,WACbqK,EAAW1C,GDVwB,SAACnG,EAAcmG,GACxD,OAAOwH,GACHC,GAAY5N,GACZmG,GCQI2J,CAA8B9P,EAAcmG,GAAMnF,MAAK,WACnD2O,EAAWhC,OAAOxH,GAClBhG,EAAgBrC,EAAE,gBAAiB,CAAEyD,QAAS,eAC/CJ,OAAM,WACLhB,EAAgBrC,EAAE,kBAAmB,CAAEyD,QAAS,aACjDwO,SAAQ,kBAAMlH,EAAW,cA0BpC,OAAO,eAACwE,GAAD,CAAMrP,MAAOF,EAAE,kBAAf,UACJ4E,EAAO1H,KAAI,SAAAyG,GAAK,OAAI,cAACrE,EAAD,CAAQD,QAAS,kBAAM0S,EAAyBpO,EAAM0E,OAAO9I,KAAMoE,EAAM0E,KAAuBxI,QAASA,IAAU8D,EAAM0E,MAArC1E,EAAM0E,SAE/G,cAACxG,GAAD,CAAWxC,QAvBoB,WAE/BqK,EAAOA,OAAO,CACZxJ,MAAOF,EAAE,WACTG,YAAaH,EAAE,qBACfkJ,aAAc,SAACb,GACX,OAAO,IAAI9F,SAAQ,SAAUC,EAASC,IDvCP,SAACP,EAAcmG,GACtD,OAAOsH,GACHG,GAAY5N,GACZ,CACImG,KAAMA,IAEV,SAACjF,EAAMZ,EAAS7E,GAAhB,OAAsB6E,EAAQY,EAAI,mBCkC1B8O,CAA4BhQ,EAAcmG,GAAMnF,MAAK,SAACS,GAClDkO,EAAWX,IAAIvN,GACftB,EAAgBrC,EAAE,cAAe,CAAEyD,QAAS,YAC5CjB,OACDa,OAAM,WACLhB,EAAgBrC,EAAE,kBAAmB,CAAEyD,QAAS,UAChDhB,cAUgClD,KAAMS,EAAE,mBCxD7C,SAASmS,GAAT,GAAwF,IAAxEC,EAAuE,EAAvEA,MAAOvD,EAAgE,EAAhEA,cAAewD,EAAiD,EAAjDA,oBAAqBC,EAA4B,EAA5BA,2BACtE,EAA2ClQ,eAAnCC,EAAR,EAAQA,gBACF5B,GADN,EAAyB6B,cACTjI,IAAMoB,WAAW4F,KACjC,EAAoBtB,cAAZC,EAAR,EAAQA,EAEFuS,GAFN,EAAWlZ,KAEU,WACnBoH,EAAQ,CACNC,cAAe,WACb4R,EAA2BF,EAAM9R,IAAI4C,MAAK,WACxCmP,EAAoBD,EAAM9R,IAC1B+B,EAAgBrC,EAAE,YAAa,CAAEyD,QAAS,eACzCJ,OAAM,WACPhB,EAAgB,iBAAkB,CAAEoB,QAAS,cAGjD9C,aAAc,WACV0B,EAAgB,cAAe,CAAEoB,QAAS,iBAIlD,OAAO,qBAAKpH,UAAU,OAAf,SAAsB,cAAC,KAAD,CAC7B8M,cAAeiJ,EACf/I,SAAU,SAAC5C,EAAD,GAAyC,EAA9B6C,cAA8B,EAAfC,WAFP,SAM5B,gBAAGC,EAAH,EAAGA,aAAH,OACC,cAAC,KAAD,UAEE,sBAAKnN,UAAU,YAAf,UACI,qBAAKA,UAAS,oBAAewS,EAAe,iBAAkB,IAA9D,SACA,cAACzG,GAAD,CAAOjJ,UAAQ,EAACkJ,KAAK,YAGrB,cAACvI,GAAD,CAAUP,KAAMS,EAAE,UAAWX,QAASkT,EAAcpT,SAAUqK,cC3C1E,IAAMsG,GAAc,SAAC5N,GAAD,6BAAkCA,EAAlC,oBCSPsQ,GAA+B,SAAC,GAAqC,IAAnCtQ,EAAkC,EAAlCA,aAAc2M,EAAoB,EAApBA,cAC3D,EAAgE6B,KAAhE,mBAAO+B,EAAP,KAAuBC,EAAvB,KAA0CC,EAA1C,KACA,EAA2CvQ,eAAnCC,EAAR,EAAQA,gBACF+G,GADN,EAAyB9G,cACRjI,IAAMoB,WAAWgO,KAClC,EAAoB1J,cAAZC,EAAR,EAAQA,EAAR,EAAW3G,KAEX8E,qBAAU,YDb+B,SAAC+D,GACxC,OAAOF,GACH8N,GAAY5N,IACZ,SAACkB,EAAMZ,EAAS7E,GAAhB,OAAsB6E,EAAQY,EAAI,oBCWtCwP,CAA4B1Q,GACzBgB,MAAK,SAAC2P,GAAD,OAAmBH,EAAkBG,MAC1CxP,OAAM,SAAA1F,GAAC,OAAI0E,EAAgBrC,EAAE,mBAAoB,CAAEyD,QAAS,eAC9D,CAACvB,IAoBJ,OAAO,eAACqN,GAAD,CAAMrP,MAAOF,EAAE,cAAf,UACL,qBAAK3D,UAAU,4CAAf,SACGoW,EAAevV,KAAI,SAAA4V,GAAa,OAC/B,cAACX,GAAD,CAA8BC,MAAOU,EAAejE,cAAeA,EAAewD,oBAAqBM,EAAmB9C,OACxHyC,2BAA4B,SAAChS,GAAD,ODvBO,SAAC4B,EAAc5B,GACxD,OAAOuP,GACHC,GAAY5N,GACZ5B,GCoBsCyS,CAA8B7Q,EAAc5B,KADtEwS,EAAcxS,SAI9B,qBAAKjE,UAAU,kCAAf,SACE,cAACwF,GAAD,CAAWxC,QA1BgB,WAC7B+J,EAASM,OAAO,CACdxJ,MAAOF,EAAE,sBAAuBG,YAAaH,EAAE,uBAC/CkJ,aAAc,SAAC8J,GACb,OAAO,IAAIzQ,SAAQ,SAAUC,EAASC,IDhBH,SAACP,EAAc8Q,GACtD,OAAOrD,GACHG,GAAY5N,GACZ,CACI8Q,MAAOA,IAEX,SAAC5P,EAAMZ,EAAS7E,GAAhB,OAAsB6E,EAAQY,EAAI,mBCWhC6P,CAA4B/Q,EAAc8Q,GAAO9P,MAAK,SAAC4P,GACrDH,EAAmBzB,IAAI4B,GACvBzQ,EAAgBrC,EAAE,YAAa,CAAEyD,QAAS,YAC1CjB,OACCa,OAAM,WACPhB,EAAgBrC,EAAE,kBAAmB,CAAEyD,QAAS,UAChDhB,WAGH9B,aAAc,kBAAM0B,EAAgBrC,EAAE,aAAc,CAAEyD,QAAS,gBAYtBlE,KAAMS,EAAE,cAAeJ,EAAE,eC5C9DsT,GAAgB,SAAC,GAAe,IAAdC,EAAa,EAAbA,QACnBnT,EAAMD,cAANC,EAER,OAAO,cAACuP,GAAD,CAAMrP,MAAOF,EAAE,aAAf,SACL,cAAC6B,GAAD,CAAWxC,QAAS,kBAAM8T,EAAQ,UAAU5T,KAAMS,EAAE,mBCPpDoT,GAAW,eAmCJC,GAAkB,SAAC/S,EAAI8C,GAChC,OAAOwM,GACHwD,GACA9S,EACA8C,GACA,SAACA,EAAMZ,EAAS7E,GAAhB,OAAsB6E,EAAQY,EAAI,gBCnC3B,SAASkQ,GAAT,GAAiF,IAA3DpR,EAA0D,EAA1DA,aAAcqR,EAA4C,EAA5CA,OAAQrD,EAAoC,EAApCA,QAASsD,EAA2B,EAA3BA,YAAaC,EAAc,EAAdA,aACrEpR,EAAoBD,eAApBC,gBACR,EAAoBtC,cAAZC,EAAR,EAAQA,EAAR,EAAW3G,KAEX,OAAO,qBAAKgD,UAAU,OAAf,SAAsB,cAAC,KAAD,CAC7B8M,cAAe,CAAC,QAAWsK,GAC3BC,oBAAoB,EACpBrK,SAAU,SAAC5C,EAAD,GAA0C,IAA/B6C,EAA8B,EAA9BA,cAAeC,EAAe,EAAfA,UAC5BoK,EAAWlN,EAAOmN,QACxBP,GAAgBnR,EAAD,eAAiBsR,EAAcG,IAAWzQ,MAAK,SAACyQ,GAC7DzD,EAAQyD,EAASH,IACjBlK,GAAc,GACdjH,EAAgBrC,EAAE,iBAAkB,CAAEyD,QAAS,eAC9C,WACD8F,EAAU,CAACgH,QAASvQ,EAAE,kBACtBsJ,GAAc,OAXW,SAe5B,gBAAGE,EAAH,EAAGA,aAAH,OACC,cAAC,KAAD,UAEE,sBAAKnN,UAAU,YAAf,UACI,qBAAKA,UAAU,YAAf,SACA,cAAC+L,GAAD,CAAOC,KAAK,cAEZ,cAACxG,GAAD,CAAWtC,KAAI,UAAKS,EAAE,QAAP,YAAkBA,EAAEuT,IAAW3T,EAAG,OAAQrF,KAAK,SAAS4E,SAAUqK,EAAc3J,QAAS2J,cCvB7G,IAAMqK,GAAkB,SAAC,GAAsB,IAApB3R,EAAmB,EAAnBA,aACtBG,EAAoBD,eAApBC,gBACR,EAAgCrH,mBAAS,CACrC,cAAiB,GACjB,gBAAmB,KAFvB,mBAAO8Y,EAAP,KAAiBC,EAAjB,KAIA,EAAoBhU,cAAZC,EAAR,EAAQA,EAAR,EAAW3G,KAYX,OAVA8E,qBAAU,WFPe,IAACmC,KEQR4B,EFPXF,GAAI,GAAD,OACHoR,GADG,YACS9S,IACf,SAAC8C,EAAMZ,EAAS7E,GAAhB,OAAsB6E,EAAQY,EAAI,gBEMjCF,MAAK,SAAA8Q,GAAU,OAAID,EAAY,CAC5B,cAAiBC,EAAWC,cAC5B,gBAAmBD,EAAWE,qBAEjC7Q,OAAM,kBAAMhB,EAAgBrC,EAAE,iBAAkB,CAACyD,QAAS,eAC5D,CAACvB,IAGG,cAACqN,GAAD,CAAMrP,MAAOF,EAAE,gBAAf,SACH,sBAAK3D,UAAU,iEAAf,UACA,cAACiX,GAAD,CACIpD,QAAS,SAACjI,GAAD,OAAa8L,EAAY,2BAAID,GAAL,IAAe,cAAiB7L,MACjE/F,aAAcA,EACduR,aAAcK,EAASG,cACvBT,YAAa,gBACbD,OAAQ,UAGZ,cAACD,GAAD,CACIpD,QAAS,SAACjI,GAAD,OAAa8L,EAAY,2BAAID,GAAL,IAAe,gBAAmB7L,MACnE/F,aAAcA,EACduR,aAAcK,EAASI,gBACvBV,YAAa,kBACbD,OAAQ,kB,4DCpCPY,GAAe,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,aACnBpU,EAAMD,cAANC,EAGAqU,EAFSha,IAAMoB,WAAWyQ,IAEPpE,QAAUiE,GAAY,UAAW,UAE5D,OAAO,cAACwD,GAAD,CAAMrP,MAAOF,EAAE,iCAAf,SACL,eAACsU,GAAA,EAAD,CAAWva,MAAO,IAAKC,OAAQ,IAAKoJ,KAAMgR,EACxCG,OAAQ,CAAEC,IAAK,EAAGC,MAAO,GAAIC,KAAM,GAAIC,OAAQ,GADjD,UAGE,cAACC,GAAA,EAAD,CAAOC,QAAQ,OAAO9T,OAAQsT,IAC9B,cAACS,GAAA,EAAD,CAAOD,QAAQ,qBAAsB9T,OAAQsT,IAC7C,cAACU,GAAA,EAAD,IACA,cAACC,GAAA,EAAD,IACA,cAACC,GAAA,EAAD,CAAM1a,KAAK,WAAWsa,QAAQ,qBAAqB9T,OAAQsT,U,oBCZtDa,GAAgB,SAAC,GAAmC,EAAjChT,aAAkC,IAApBkS,EAAmB,EAAnBA,aAClCpU,EAAMD,cAANC,EAEFqU,EADWha,IAAMoB,WAAWyQ,IACTpE,QAAUiE,GAAY,UAAW,UAE1D,OAAO,cAACwD,GAAD,CAAMrP,MAAOF,EAAE,mCAAf,SACD,eAACmV,GAAA,EAAD,CAAUpb,MAAO,IAAKC,OAAQ,IAAKoJ,KAAMgR,EAAzC,UACJ,cAACQ,GAAA,EAAD,CAAOC,QAAQ,WACf,cAACC,GAAA,EAAD,IACA,cAACC,GAAA,EAAD,IACA,cAACC,GAAA,EAAD,IACA,cAACI,GAAA,EAAD,CAAKP,QAAQ,yBAAyBhU,KAAMwT,UCbrCgB,GAAc,SAAC,GAA8G,IAA7GC,EAA4G,EAA5GA,SAAUvX,EAAkG,EAAlGA,UAAWC,EAAuF,EAAvFA,aAAcuX,EAAyE,EAAzEA,QAASC,EAAgE,EAAhEA,WAAY/X,EAAoD,EAApDA,UAAWgY,EAAyC,EAAzCA,aAAcC,EAA2B,EAA3BA,QAASC,EAAkB,EAAlBA,WAC3G3V,EAAMD,cAANC,EAER,OAAO,eAACuP,GAAD,WACH,sBAAKlT,UAAU,yBAAf,UACI,sBAAMA,UAAU,qBAAhB,kBACA,qBAAKA,UAAU,WAAf,SAEI,uBAAOgM,KAAK,QAAQ9N,KAAK,OAClBY,MAAO4C,EACP6X,SAAU,SAAAC,GAAC,OAAI7X,EAAa6X,EAAEC,OAAO3a,QACrCkB,UAAU,0QACVoM,YAAY,wBAEvB,sBAAMpM,UAAU,qBAAhB,gBACA,qBAAKA,UAAU,WAAf,SAEI,uBAAOgM,KAAK,MAAM9N,KAAK,OAChBY,MAAOoa,EACPK,SAAU,SAAAC,GAAC,OAAIL,EAAWK,EAAEC,OAAO3a,QACnCkB,UAAU,0QACVoM,YAAY,yBAI3B,sBAAKpM,UAAU,yBAAf,UACI,sBAAMA,UAAU,qBAAhB,kBACA,qBAAKA,UAAU,WAAf,SAEI,uBAAOgM,KAAK,QAAQ9N,KAAK,OAClBY,MAAOsC,EACPmY,SAAU,SAAAC,GAAC,OAAIJ,EAAaI,EAAEC,OAAO3a,QACrCkB,UAAU,0QACVoM,YAAY,wBAEvB,sBAAMpM,UAAU,qBAAhB,gBACA,qBAAKA,UAAU,WAAf,SAEI,uBAAOgM,KAAK,MAAM9N,KAAK,OAChBY,MAAOua,EACPE,SAAU,SAAAC,GAAC,OAAIF,EAAWE,EAAEC,OAAO3a,QACnCkB,UAAU,0QACVoM,YAAY,yBAK3B,8BACI,cAAC5G,GAAD,CAAWxC,QAASiW,EAAU/V,KAAMS,EAAE,kBCjD5C+V,GAAQ,SAAC5a,GAA8B,IAAvB6a,EAAsB,uDAAN,EAC5BC,EAAavX,KAAKwX,IAAI,GAAIF,GAChC,OAAOtX,KAAKqX,MAAM5a,EAAQ8a,EAAaE,OAAOC,SAAWH,GAwC9CI,OApCf,YAAiE,IAAfrC,EAAc,EAAdA,WAChD,EAAkC3Z,IAAMW,SAAS,cAAjD,mBAAO+C,EAAP,KAAkBC,EAAlB,KACA,EAA8B3D,IAAMW,SAAS,cAA7C,mBAAOua,EAAP,KAAgBC,EAAhB,KACA,EAAkCnb,IAAMW,SAAS,SAAjD,mBAAOyC,EAAP,KAAkBgY,EAAlB,KACE,EAA8Bpb,IAAMW,SAAS,SAA7C,mBAAO0a,EAAP,KAAgBC,EAAhB,KACA,EAAwCtb,IAAMW,SAAS,IAAvD,mBAAOoZ,EAAP,KAAqBkC,EAArB,KACF,EAAwDjc,IAAMW,SAAS,IAAvE,mBAAOub,EAAP,KAA6BC,EAA7B,KAuBA,OAAO,eAAC,IAAMpV,SAAP,WACL,cAAC,GAAD,CAAakU,SAtBE,gBACS5T,IAAlBsS,EAAW1T,IAAkC,KAAdvC,GAAgC,KAAZwX,GAAgC,KAAd9X,GAAgC,KAAZiY,ICjB1D,SAACxT,EAAczE,EAAWiY,EAAS3X,EAAWwX,GACnF,OAAOvT,GAH+B,SAACE,EAAczE,EAAWiY,EAAS3X,EAAWwX,GAA9C,0DAAuG9X,EAAvG,oBAA4HiY,EAA5H,sBAAiJ3X,EAAjJ,oBAAsKwX,EAAtK,yBAA8LrT,GAIhOuU,CAAkCvU,EAAczE,EAAWiY,EAAS3X,EAAWwX,IAC/E,SAACnS,EAAMZ,EAAS7E,GAAhB,OAAsB6E,EAAQY,EAAI,YDgBpCsT,CAA0B1C,EAAW1T,GAAI7C,EAAWiY,EAAS3X,EAAWwX,GAASrS,MAAK,SAAAE,GAClF,IAAMgR,EAAe5N,OAAOmQ,QAAQvT,GAAMlG,KAAI,SAAAiE,GAAC,MAAK,CACpD,OAAUA,EAAE,GACZ,yBAA0B4U,GAAM5U,EAAE,GAAK,GAAI,OAE3CmV,EAAgBlC,MCdM,SAAClS,EAAczE,EAAWiY,EAAS3X,EAAWwX,GAC1E,OAAOvT,GAHsB,SAACE,EAAczE,EAAWiY,EAAS3X,EAAWwX,GAA9C,2DAAwG9X,EAAxG,oBAA6HiY,EAA7H,sBAAkJ3X,EAAlJ,oBAAuKwX,EAAvK,yBAA+LrT,GAIxN0U,CAAyB1U,EAAczE,EAAWiY,EAAS3X,EAAWwX,IACtE,SAACnS,EAAMZ,EAAS7E,GAAhB,OAAsB6E,EAAQY,EAAI,YDcpCyT,CAAiB7C,EAAW1T,GAAI7C,EAAWiY,EAAS3X,EAAWwX,GAASrS,MAAK,SAAAE,GACzE,IAAMgR,EAAe5N,OAAOmQ,QAAQvT,GAAMlG,KAAI,SAAAiE,GAAC,MAAK,CACtD,KAAQA,EAAE,GACV,mBAAsBA,EAAE,GAAK,OAG3BqV,EAAwBpC,QAKGrW,UAAWA,EAAWwX,QAASA,EAASvX,aAAcA,EAAcwX,WAAYA,EAAY/X,UAAWA,EAAWiY,QAASA,EAASD,aAAcA,EAAcE,WAAYA,IAC7M,cAAC,GAAD,CAAczT,aAAc8R,EAAW1T,GAAI8T,aAAcmC,IACzD,cAAC,GAAD,CAAenC,aAAcA,EAAelS,aAAc8R,EAAW1T,SElCnEwW,GAAY,OAwBHC,OArBf,YAAsE,IAA9BlI,EAA6B,EAA7BA,cAAemF,EAAc,EAAdA,WAC/CxY,EAAUnB,IAAMoB,WAAWrB,GACjC,EAAwBY,mBAAS8b,IAAjC,mBAAOE,EAAP,KAAa7D,EAAb,KAEA,OAAI6D,IAASF,GACJ,eAAC,IAAM1V,SAAP,WACP,cAAC,GAAD,CAAe+R,QAASA,IACxB,cAAC,GAAD,CAAmBjR,aAAc8R,EAAW1T,KAC5C,cAAC,GAAD,CAAkBuO,cAAeA,EAAgB3M,aAAc8R,EAAW1T,KAC1E,cAAC,GAAD,CAAiB4B,aAAc8R,EAAW1T,KACzC9E,EAAQX,sBAAwB,cAAC,GAAD,CAA8BgU,cAAeA,EAAe3M,aAAc8R,EAAW1T,QAZlG,UAelB0W,EACK,cAAC,IAAM5V,SAAP,UACL,cAAC,GAAD,CAAwC4S,WAAYA,MAGjD,cAAC,IAAM5S,SAAP,yCC7BHgS,GAAW,wBAoBJ6D,GAA2B,SAAC3W,GACrC,OAAOuP,GACHuD,GACA9S,ICdK4W,GAAyB,SAAC,GAAuB,IAArBrI,EAAoB,EAApBA,cACvC,EAAgE6B,KAAhE,mBAAO+B,EAAP,KAAuBC,EAAvB,KAA0CC,EAA1C,KACA,EAA2CvQ,eAAnCC,EAAR,EAAQA,gBACF+G,GADN,EAAyB9G,cACRjI,IAAMoB,WAAWgO,KAClC,EAAoB1J,cAAZC,EAAR,EAAQA,EAAR,EAAW3G,KAEX8E,qBAAU,WDZD6D,GACHoR,IACA,SAAChQ,EAAMZ,EAAS7E,GAAhB,OAAsB6E,EAAQY,EAAI,mBCYnCF,MAAK,SAAC2P,GAAD,OAAmBH,EAAkBG,MAC1CxP,OAAM,SAAA1F,GAAC,OAAI0E,EAAgBrC,EAAE,mBAAoB,CAAEyD,QAAS,eAC9D,IAoBH,OAAO,eAAC8L,GAAD,CAAMrP,MAAOF,EAAE,WAAf,UACL,qBAAK3D,UAAU,4CAAf,SACGoW,EAAevV,KAAI,SAAA4V,GAAa,OAC/B,cAACX,GAAD,CAA8BC,MAAOU,EAAejE,cAAeA,EACnEwD,oBAAqBM,EAAmB9C,OACxCyC,2BAA4B2E,IAFhBnE,EAAcxS,SAM9B,qBAAKjE,UAAU,kCAAf,SACE,cAACwF,GAAD,CAAWxC,QA5BgB,WAC7B+J,EAASM,OAAO,CACdxJ,MAAOF,EAAE,sBAAuBG,YAAaH,EAAE,wBAC/CkJ,aAAc,SAAC8J,GACb,OAAO,IAAIzQ,SAAQ,SAAUC,EAASC,IDhBR,SAACuQ,GACnC,OAAOrD,GACHyD,GACA,CACIJ,MAAOA,IAEX,SAAC5P,EAAMZ,EAAS7E,GAAhB,OAAsB6E,EAAQY,EAAI,mBCWhC+T,CAAuBnE,GAAO9P,MAAK,SAAC4P,GAClCH,EAAmBzB,IAAI4B,GACvBzQ,EAAgBrC,EAAE,aAAc,CAAEyD,QAAS,YAC3CjB,OACCa,OAAM,WACPhB,EAAgBrC,EAAE,mBAAoB,CAAEyD,QAAS,UACjDhB,WAGH9B,aAAc,kBAAM0B,EAAgBrC,EAAE,aAAc,CAAEyD,QAAS,gBActBlE,KAAMS,EAAE,WAAYJ,EAAE,eCvCzD,SAASwX,GAAT,GAAoF,IAA/DpD,EAA8D,EAA9DA,WAAYqD,EAAkD,EAAlDA,cAAehE,EAAmC,EAAnCA,gBAAiBiE,EAAkB,EAAlBA,iBAC5E,EAA2ClV,eAAnCC,EAAR,EAAQA,gBACF5B,GADN,EAAyB6B,cACTjI,IAAMoB,WAAW4F,KACjC,EAAoBtB,cAAZC,EAAR,EAAQA,EAEFuS,GAFN,EAAWlZ,KAEU,WACnBoH,EAAQ,CACNC,cAAe,WXWS,IAACJ,KWVC0T,EAAW1T,GXWlCuP,GACHuD,GACA9S,IWbyC4C,MAAK,WACxCoU,EAAiBtD,EAAW1T,IAC5B+B,EAAgBrC,EAAE,WAAY,CAAEyD,QAAS,eACxCJ,OAAM,WACPhB,EAAgBrC,EAAE,iBAAkB,CAAEyD,QAAS,cAIrD9C,aAAc,WACV0B,EAAgBrC,EAAE,cAAe,CAAEyD,QAAS,iBAI9C8T,EAAkB,kBAAMF,EAAcrD,IAG5C,OAAO,qBAAK3X,UAAU,OAAf,SAAsB,cAAC,KAAD,CAC7B8M,cAAe6K,EACf3K,SAAU,SAAC5C,EAAD,GAA0C,IAA/B6C,EAA8B,EAA9BA,cAAeC,EAAe,EAAfA,UACjCiO,GAAuBxD,EAAW1T,GAAI,CAAC,KAAQmG,EAAO4B,OAAOnF,MAAK,SAACuU,GACjEpE,EAAgBW,EAAW1T,GAAImX,GAC/BnO,GAAc,GACdjH,EAAgBrC,EAAE,aAAc,CAAEyD,QAAS,eAC1C,WACD8F,EAAU,CAACgH,QAASvQ,EAAE,kBACtBsJ,GAAc,OATU,SAa5B,gBAAGE,EAAH,EAAGA,aAAH,OACC,cAAC,KAAD,UAEE,sBAAKnN,UAAU,YAAf,UACI,qBAAKA,UAAU,YAAf,SACA,cAAC+L,GAAD,CAAOC,KAAK,WAGZ,cAACvI,GAAD,CAAUP,KAAMS,EAAE,UAAWX,QAASkT,EAAcpT,SAAUqK,IAC9D,cAAC3H,GAAD,CAAWtC,KAAMS,EAAE,QAASzF,KAAK,SAAS4E,SAAUqK,EAAc3J,QAAS2J,IAC3E,cAAClK,EAAD,CAAQC,KAAMS,EAAE,SAAUX,QAASkY,EAAiBpY,SAAUqK,cChDnE,IAAMkO,GAAkB,SAAC,GAAuB,IAArBL,EAAoB,EAApBA,cAC9B,EAAwD3G,KAAxD,mBAAOiH,EAAP,KAAoBC,EAApB,KAAoCC,EAApC,KACA,EAA2CzV,eAAnCC,EAAR,EAAQA,gBACF+G,GADN,EAAyB9G,cACRjI,IAAMoB,WAAWgO,KAClC,EAAoB1J,cAAZC,EAAR,EAAQA,EAAR,EAAW3G,KAEX8E,qBAAU,WZZH6D,GACHoR,IACA,SAAChQ,EAAMZ,EAAS7E,GAAhB,OAAsB6E,EAAQY,EAAI,gBYYjCF,MAAK,SAACyU,GAAD,OAAiBC,EAAeD,MACrCtU,OAAM,SAAA1F,GAAC,OAAI0E,EAAgBrC,EAAE,kBAAmB,CAAEyD,QAAS,eAC7D,IAoBH,OAAO,eAAC8L,GAAD,CAAMrP,MAAOF,EAAE,eAAf,UACL,qBAAK3D,UAAU,4CAAf,SACGsb,EAAYza,KAAI,SAAA8W,GAAU,OACzB,cAACoD,GAAD,CAAgC/D,gBAAiBwE,EAAiBjI,MAAO0H,iBAAkBO,EAAiBhI,OAAQmE,WAAYA,EAAYqD,cAAeA,GAA1IrD,EAAW1T,SAGhC,qBAAKjE,UAAU,iCAAf,SACE,cAACwF,GAAD,CAAWxC,QAzBa,WAC1B+J,EAASM,OAAO,CACdxJ,MAAOF,EAAE,YAAaG,YAAaH,EAAE,sBACrCkJ,aAAc,SAACb,GACb,OAAO,IAAI9F,SAAQ,SAAUC,EAASC,IZRlB,SAAC4F,GAC3B,OAAOsH,GACHyD,GACA,CACI/K,KAAMA,IAEV,SAACjF,EAAMZ,EAAS7E,GAAhB,OAAsB6E,EAAQY,EAAI,gBYG9B0U,CAAezP,GAAMnF,MAAK,SAAC8Q,GACzB6D,EAAiB3G,IAAI8C,GACrB3R,EAAgBrC,EAAE,WAAY,CAAEyD,QAAS,YACzCjB,OACCa,OAAM,WACPhB,EAAgBrC,EAAE,iBAAkB,CAAEyD,QAAS,UAC/ChB,WAGH9B,aAAc,kBAAM0B,EAAgBrC,EAAE,aAAc,CAAEyD,QAAS,gBAWzBlE,KAAMS,EAAE,cAAeJ,EAAE,eCrC3DmY,OAPf,YAAoE,IAAjClJ,EAAgC,EAAhCA,cAAewI,EAAiB,EAAjBA,cAChD,OAAO,eAAC,IAAMjW,SAAP,WACL,cAAC,GAAD,CAAiBiW,cAAeA,IAChC,cAAC,GAAD,CAAwBxI,cAAeA,QCJ5B,SAASmJ,GAAT,GAA0C,IAAfC,EAAc,EAAdA,YACtC,OAAO,qBAAK5b,UAAU,mBAAf,SAAkC,qBAAKgD,QAAS4Y,EAAa5b,UAAU,iIAArC,SACpC,qBAAKuE,MAAM,6BAA6BvE,UAAU,wBAAwBwE,KAAK,OAAOC,QAAQ,YAAYC,OAAO,eAAjH,SACA,sBAAMC,cAAc,QAAQC,eAAe,QAAQC,YAAY,IAAIC,EAAE,sECgD/D+W,OAzCf,WAA+B,IAAD,EACtB1c,EAAUnB,IAAMoB,WAAWrB,GAEjC,EAA0CY,oBAAS,GAAnD,mBAAO6T,EAAP,KAAsBC,EAAtB,KACA,EAAoC9T,mBAAS,MAA7C,mBAAOgZ,EAAP,KAAmBqD,EAAnB,KAaA,OAXAlZ,qBAAU,WAC4B,OAAhC3C,EAAQf,OAAOyH,aAInBmV,EAAc,CACZ/W,GAAI9E,EAAQf,OAAOyH,aACnBmG,KAAM7M,EAAQf,OAAOiU,iBALrB2I,EAAc,QAOf,CAAC7b,EAAQf,SAEL,gCACL,sBAAK4B,UAAU,gBAAf,UACE,qBAAKA,UAAU,eAAf,SACE,mBAAGA,UAAS,6BAAwBuC,GAApC,SACGpD,EAAQX,sBAAuC,OAAfmZ,EAAsB,aAAtD,UAAqEA,EAAW3L,YAAhF,QAAwF,UAG7F,sBAAKhM,UAAU,cAAf,UACIb,EAAQX,sBAAuC,OAAfmZ,GAAwB,cAACgE,GAAD,CAAkBC,YAAa,kBAAMZ,EAAc,SAC7G,cAACrK,GAAD,IACA,cAACa,GAAD,IACA,cAACe,GAAD,CAAeC,cAAeA,EAAeC,iBAAkBA,IAC/D,cAACC,GAAD,UAIJ,qBAAK1S,UAAU,sBAAf,SACKb,EAAQZ,2BAA4C,OAAfoZ,EAClC,cAAC,GAAD,CAA8BnF,cAAeA,EAAemF,WAAYA,IACxE,cAAC,GAAD,CAAyBnF,cAAeA,EAAewI,cAAeA,UCEnEc,OAxCf,WACE,IAAQ9V,EAAoBD,eAApBC,gBACF7G,EAAUnB,IAAMoB,WAAWrB,GAE7B4U,EAAUC,cACRhT,EAAWmJ,cACjB,EAAoBrF,cAAZC,EAAR,EAAQA,EAwBR,OAxBA,EAAW3G,KAwBJ,qBAAKgD,UAAU,4CAAf,SACL,cAAC,eAAD,CACE+S,SAlCWxM,4EAmCXwV,WAAYpY,EAAE,SACdqY,UA1Bc,SAAClV,GChBO,IAAC6M,KDiBZ7M,EAAImV,SAASC,SChBnB,IAAIhW,SAAQ,SAASC,EAASC,GACjCC,KAAM,CAACC,IAAI,GAAD,OAAKC,8BAAL,yBACNC,OAAQ,OACRC,KAAM,CACFC,SAAU,GACVC,SAAUgN,GAEd/M,QAAQ,aAAE,gBAAiB,YAAenB,QAE7CoB,MAAK,SAAAC,GAAG,OAAIX,EAAQ,EAAC,EAAMW,EAAIC,UAC/BC,OAAM,SAAUF,GACb,IAAwC,MAA9BA,EAAG,SAAH,QAAmCX,GAAQ,GAAS,MAAMc,IACpEb,EAAOU,UDKdD,MAAK,YAAuB,IAAD,mBAApBvI,EAAoB,KAAVyI,EAAU,KAC1B,GAAKzI,EAAL,CAIAa,EAAQhB,QAAQ4I,EAAK7I,MACrBiB,EAAQd,UAAU0I,GAClB,IAAOpH,GAAQC,EAASF,OAAS,CAACC,KAAM,CAACF,SAAU,YAA5CE,KACPgT,EAAQ9K,KAAKlI,GACbqG,EAAgBrC,EAAE,SAAU,CAACyD,QAAS,iBAPpCpB,EAAgBrC,EAAE,gBAAiB,CAACyD,QAAS,eAShDJ,OAAM,WACLhB,EAAgBrC,EAAE,qBAAsB,CAACyD,QAAS,cAalD+U,UATc,SAACrV,GACjBd,EAAgBrC,EAAE,qBAAsB,CAACyD,QAAS,WAShDgV,aAAc,0BEMLC,OApCf,WACI,IAAMC,EAAYte,IAAMue,YAExB,OACI,cAAC,GAAD,UACI,qBAAKvc,UAAS,cAASuC,EAAT,8BAAd,SACI,cAAC,GAAD,UACI,cAAC,KAAD,UACI,cAAC,EAAD,UACI,cAAC,GAAD,UACI,cAAC,GAAD,UACI,cAAC,IAAD,CAAeia,IAAKF,EAAWG,SAAS,OAAxC,SACI,eAAC,IAAD,WACI,cAAC,EAAD,CAAcC,KAAM,SAAUC,WAAYL,EACtCrd,UAAW4c,GACX3d,KAAM,CAACL,EAAuBC,KAElC,cAAC,IAAD,CAAO4e,KAAM,cACTzd,UAAWqT,KACf,cAAC,IAAD,CAAOoK,KAAM,SACTzd,UAAW6c,KACf,cAAC,IAAD,CACI7c,UAAW1B,wBC3B5Cqf,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBjW,MAAK,YAAkD,IAA/CkW,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAAS/d,OACP,cAAC,IAAMge,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,SAM1BX,O","file":"static/js/main.0cd7d168.chunk.js","sourcesContent":["import i18n from \"i18next\";\nimport { initReactI18next } from \"react-i18next\";\nimport { en } from \"./translations/en\";\nimport { es } from \"./translations/es\";\n\nconst resources = {\n  en: {\n    translation: en\n  },\n  es: {\n    translation: es\n  }\n};\n\ni18n\n  .use(initReactI18next) // passes i18n down to react-i18next\n  .init({\n    resources,\n    lng: 'en',  // use i18n.changeLanguage to change it dynamically\n    interpolation: {\n      escapeValue: false // react already safes from xss\n    }\n  });\n\n  export default i18n;","export const en = {\n    //one word translations\n    \"newMasc\": \"new\",\n    \"newFem\": \"new\",\n    \"cancelled\": \"cancelled\",\n    \"table\": \"table\",\n    \"cancel\": \"cancel\",\n    \"finish\": \"finish\",\n    \"delete\": \"delete\",\n    \"custom\": \"custom\",\n    \"no\": \"no\",\n    \"yes\": \"yes\",\n    \"confirm\": \"confirm\",\n    \"submit\": \"submit\",\n    \"AddNewMasc\": \"ADD NEW\",\n    \"AddNewFem\": \"ADD NEW\",\n    \"save\": \"save\",\n    \"admin\": \"admin\",\n    \"description\": \"description\",\n    \"table #\": \"table #\",\n    \"finalize\":\"finalize\",\n    \"next\":\"next\",\n    \"desserts\": \"desserts\",\n    \"alarm\": \"alarm\",\n    \"warning\": \"warning\",\n    \"restaurants\": \"restaurants\",\n    \"time profile\": \"time profile\",\n    \"search\": \"search\",\n\n    //administrators\n    \"administratorEmail\": \"administrator email\",\n    \"descriptionAddRAdmin\": \"this will add a new root administrator to the system; root administrators have complete access to all restaurants and users (including other administrators)\",\n    \"addRAdmin\": \"added new root administrator\",\n    \"rAdmins\": \"root administrators\",\n    \"adminDel\":\"administrator deleted\",\n    \"adminNotDel\":\"administrator not deleted\",\n    \"descriptionAddAdmin\": \"this will add a new administrator to the system; restaurant administrators can manage the access urls of their restaurants and the default tables\",\n    \"addAdmin\": \"added new restaurant administrator\",\n    \"restAdmins\": \"restaurant administrators\",\n    \"shortcuts\": \"shortcuts\",\n    \"statistics\": \"statistics\",\n    \"historic-average-waiting-time\": \"historic average waiting time\",\n    \"average-waiting-time-per-course\": \"average waiting time per course\",\n\n    //card pop-up\n    \"timeLastCourse\":\"last course was served at\",\n    \"dessertsAndEnd\": \"desserts & finalize\",\n    \"next course\": \"next course\",\n    \"new table\": \"new table\",\n    \"startTimerTable\": \"start timer for a new table\",\n    \"markedFinish\": \"has been marked as finished\",\n    \"servedWaiting\": \"has been served... now waiting for\",\n    \"askContinue\": \"Do you wish to continue?\",\n    \"difficultUndone\": \"this action might not be easily undone\",\n    \"serveDessertsAndEnd\":\"serve desserts and finalize table?\",\n\n\n    //table management\n    \"deleteTableQuestion\": \"Do you want to delete Table\",\n    \"Deleting Table\": \"Deleting Table\",\n    \"onlyDeleteFromList\":\"will only remove it from the default tables list.\",\n    \"deletedTable\": \"deleted default table\",\n    \"nameTableQuestion\": \"what is the name of the new table you want to add?\",\n    \"addedTable\":\"added new default table\",\n    \"has been deleted\":\"has been deleted\",\n    \"default tables\": \"default tables\",\n\n\n    //restaurant management\n    \"restDel\":\"restaurant deleted\",\n    \"restNotDel\":\"restaurant not deleted\",\n    \"NameSaved\":\"restaurant name saved\",\n    \"restName\": \"restaurant name\",\n    \"newRestDescription\": \"this will add a new restaurant to the system\",\n    \"addRest\": \"added new restaurant\",\n\n    //logins\n    \"logOut\": \"logged out\",\n    \"userNotExist\":\"user does not exist\",\n    \"logIn\":\"logged in\",\n    \"Login\": \"Login\",\n\n    //access tokens\n    \"disablePrivMode\": \"disable the privacy mode on the top right corner first\",\n    \"urlCopied\": \"the url has been copied to your clipboard, keep it private!\",\n    \"tokenCommentSaved\": \"access token comment saved\",\n    \"delTokenQuest\": \"Do you want to delete the access token?\",\n    \"delTokenDescription\": \"Deleting the access token will render that url invalid (even for people who already had it).\",\n    \"timeProfSaved\":\"time profile saved\",\n    \"delToken\": \"deleted access token\",\n    \"descriptionUsesToken\": \"write a small description of the uses of this url (good examples would include who will this access url be given to, or which team will have access to it)\",\n    \"access URLs\": \"access URLs\",\n\n    //errors\n    \"unableEndReq\": \"unable to finalize request\",\n    \"errorPageAccess\": \"you can't access this page\",\n    \"SthWrong\": \"something went wrong\",\n    \"unableGetRAdmin\": \"unable to retrieve root administrators\",\n    \"unableAddRAdmin\": \"unable to add new root administrator\",\n    \"unableDelTable\": \"unable to delete default table\",\n    \"unableAddTable\": \"unable to add new default table\",\n    \"unableGetTables\":\"unable to retrieve default tables\",\n    \"unableDelAdmin\": \"unable to delete administrator\",\n    \"unableDelRest\":\"unable to delete restaurant\",\n    \"unableLogOutServer\": 'unable to log out with server',\n    \"unableLogOutGoogle\": \"unable to out with Google\",\n    \"unableGetTokens\": \"unable to retrieve access tokens\",\n    \"unableDelToken\":\"unable to delete access token\",\n    \"unableAddAdmin\": \"unable to add new restaurant administrator\",\n    \"unableGetAdmins\": \"unable to retrieve restaurant administrators\",\n    \"unableGetRests\": \"unable to retrieve restaurants\",\n    \"unableAddRest\":\"unable to add new restaurant\",\n    \"unableGetRest\": \"unable to retrieve restaurant\",\n    \"unableLogInServer\":\"unable to log in with the server\",\n    \"unableLogInGoogle\": \"unable to log in with Google\"\n\n};","export const es = {\n    //one word translations\n    \"newMasc\": \"nuevo\",\n    \"newFem\": \"nuevo\",\n    \"cancelled\": \"canceladx\",\n    \"table\": \"mesa\",\n    \"cancel\": \"cancelar\",\n    \"finish\": \"acabar\",\n    \"delete\": \"eliminar\",\n    \"custom\": \"personalizada\",\n    \"no\": \"no\",\n    \"yes\": \"si\",\n    \"confirm\": \"confirmar\",\n    \"submit\": \"enviar\",\n    \"AddNewMasc\": \"AADIR NUEVO\",\n    \"AddNewFem\": \"AADIR NUEVA\",\n    \"save\": \"guardar\",\n    \"admin\": \"administrar\",\n    \"description\": \"descripcin\",\n    \"table #\": \"mesa #\",\n    \"finalize\":\"finalizar\",\n    \"next\":\"siguiente\",\n    \"desserts\": \"postres\",\n    \"alarm\": \"alarma\",\n    \"warning\": \"aviso\",\n    \"restaurants\": \"restaurantes\",\n    \"time profile\": \"perfil de tiempo\",\n    \"search\": \"buscar\",\n\n    //administrators\n    \"administratorEmail\": \"email del administradorx\",\n    \"descriptionAddRAdmin\": \"esta accin aadira unx nuevx administradorx root al sistema; lxs administradorxs root tienen acceso completoa todos los restaurantes y usuarios (incluso otrxs administradorxs)\",\n    \"addRAdmin\": \"se ha aadido unx nuevx root administradorx\",\n    \"rAdmins\": \"administradorxs root\",\n    \"adminDel\":\"administradorx eliminadx\",\n    \"adminNotDel\":\"administradorx no eliminadx\",\n    \"descriptionAddAdmin\": \"esta accin aadir unx nuevx administradorx al sistema; lxs administradorxs de un restaurante pueden gestionar los enlaces de acceso de su restaurante y las mesas predeterminadas\",\n    \"addAdmin\": \"se ha aadido unx nuevx administradorx\",\n    \"restAdmins\": \"administradorxs del restaurante\",\n    \"shortcuts\": \"enlaces\",\n    \"statistics\": \"estadsticas\",\n    \"historic-average-waiting-time\": \"tiempo de espera medio histrico\",\n    \"average-waiting-time-per-course\": \"tiempo de espera medio por plato\",\n\n    //card pop-up\n    \"timeLastCourse\":\"el ltimo plato se sirvi a la(s)\",\n    \"dessertsAndEnd\": \"postres y terminar\",\n    \"next course\": \"siguiente plato\",\n    \"new table\": \"nueva mesa\",\n    \"startTimerTable\": \"empezar el temporizador para una nueva mesa\",\n    \"markedFinish\": \"ha sido marcada como terminada\",\n    \"servedWaiting\": \"ha sido servida... ahora esperando a\",\n    \"askContinue\": \"Desea continuar?\",\n    \"difficultUndone\": \"esta accin no se podr deshacer fcilmente\",\n    \"serveDessertsAndEnd\":\"servir los postres y terminar mesa?\",\n\n\n    //table management\n    \"deleteTableQuestion\": \"Quiere eliminar la mesa\",\n    \"Deleting Table\": \"Borrando mesa\",\n    \"onlyDeleteFromList\":\"solo la eliminar de la lista de mesas predeterminadas\",\n    \"deletedTable\": \"se ha eliminado la mesa predeterminada\",\n    \"nameTableQuestion\": \"Cul es el nombre de la mesa que quieres aadir?\",\n    \"addedTable\":\"se ha aadido una nueva mesa predeterminada\",\n    \"has been deleted\":\"ha sido eliminada\",\n    \"default tables\": \"mesas predeterminadas\",\n\n\n    //restaurant management\n    \"restDel\":\"se ha eliminado el restaurante\",\n    \"restNotDel\":\"el restaurante no ha sido eliminado\",\n    \"NameSaved\":\"se ha guardado el nombre del restaurante\",\n    \"restName\": \"nombre del restaurante\",\n    \"newRestDescription\": \"esta accin aadira un nuevo restaurante al sistema\",\n    \"addRest\": \"se ha aadido un nuevo restaurante\",\n\n    //logins\n    \"logOut\": \"sesin terminada\",\n    \"userNotExist\":\"el usuario no existe\",\n    \"logIn\":\"sesin iniciada\",\n    \"Login\": \"Iniciar sesin\",\n\n    //access tokens\n    \"disablePrivMode\": \"primero desactiva el modo privado en la esquina superior derecha\",\n    \"urlCopied\": \"el enlace ha sido copiado al portapapeles, no lo compartas!\",\n    \"tokenCommentSaved\": \"se ha guardado el comentario del token de acceso\",\n    \"delTokenQuest\": \"Quiere eliminar el token de acceso?\",\n    \"delTokenDescription\": \"Al eliminar el token de acceso el enlace dejar de ser vlido (incluso para aquellos que ya lo tienen).\",\n    \"timeProfSaved\":\"el perfil de tiempo se ha guardado\",\n    \"delToken\": \"el token de acceso ha sido eliminado\",\n    \"descriptionUsesToken\": \"escribe una pequea descripcin sobre para qu va a ser usado este enlace (por ejemplo: con quin se va a compartir, qu equipo va a tener acceso al enlace...)\",\n    \"access URLs\": \"enlaces de acceso\",\n  \n    //errors\n    \"unableEndReq\": \"no se ha podido continuar con la solicitud\",\n    \"errorPageAccess\": \"no puede acceder a esta pgina\",\n    \"SthWrong\": \"algo ha ido mal\",\n    \"unableGetRAdmin\": \"no se ha podido obtener la lista de administradorxs root\",\n    \"unableAddRAdmin\": \"no se ha podido aadir unx nuevx administradorx root\",\n    \"unableDelTable\": \"no se ha podido eliminar la mesa predeterminada\",\n    \"unableAddTable\": \"no se ha podido aadir una nueva mesa predeterminada\",\n    \"unableGetTables\":\"no se ha podido obtener la lista de mesas predeterminadas\",\n    \"unableDelAdmin\": \"no se ha podido eliminar al administradorx del restaurante\",\n    \"unableDelRest\":\"no se ha podido borrar el restaurante\",\n    \"unableLogOutServer\": 'no se ha podido cerrar sesin con el servidor',\n    \"unableLogOutGoogle\": \"no se ha podido cerrar sesin con Google\",\n    \"unableGetTokens\": \"no se ha podido obtener la lista de tokens de acceso\",\n    \"unableDelToken\":\"no se ha podido eliminar el token de acceso\",\n    \"unableAddAdmin\": \"no se ha podido aadir unx nuevx administradorx al restaurante\",\n    \"unableGetAdmins\": \"no se ha podido obtener la lista de los administradores del restaurante\",\n    \"unableGetRests\": \"no se ha podido obtener la lista de los restaurantes\",\n    \"unableAddRest\":\"no se ha podido aadir un nuevo restaurante\",\n    \"unableGetRest\": \"no se ha podido obtener el restaurante\",\n    \"unableLogInServer\":\"no se ha podido iniciar sesin con el servidor\",\n    \"unableLogInGoogle\": \"uno se ha podido iniciar sesin con Google\"\n\n\n};","import React, {useState} from 'react';\nimport './notFoundPage.css'\n\n\n\nfunction NotFoundPage() {\n\n  return(\n    <>\n      <div class=\"headerName\">Error 404: Not found page</div>\n      <div class= \"center\">\n          <img src= \"not_found_trees.svg\" width=\"400\" height=\"280\"/>\n          <span class = \"descriptionName\">The page you are trying to access doesn't exist</span>\n      </div>\n    </>\n    )\n}\n\nexport default NotFoundPage","import React, { useState } from \"react\";\n\n\nexport const TYPE_ACCESS_TOKEN = 'accessToken';\nexport const TYPE_RESTAURANT_ADMIN = 'restaurantAdmin';\nexport const TYPE_SUPER_ADMIN = 'superAdmin';\n\nexport const userContext = React.createContext(\n    {\n        type: null,\n        setType: (type) => {},\n        params: {},\n        setParams: (params) => {},\n        loggedIn: false,\n        isRestaurantAdminLoggedIn: false,\n        isSuperAdminLoggedIn: false,\n    }\n);\n\nexport const UserContextProvider = ({ children }) => {\n    const [type, setType] = useState(null);\n    const [params, setParams] = useState({});\n\n    const loggedIn = type !== null;\n    const isRestaurantAdminLoggedIn = type === TYPE_RESTAURANT_ADMIN;\n    const isSuperAdminLoggedIn = type === TYPE_SUPER_ADMIN;\n\n    const contextProvider = {\n      type: type,\n      setType: setType,\n      params: params,\n      setParams: setParams,\n      loggedIn: loggedIn,\n      isRestaurantAdminLoggedIn: isRestaurantAdminLoggedIn,\n      isSuperAdminLoggedIn: isSuperAdminLoggedIn\n    };\n\n    return <userContext.Provider value={contextProvider}>\n        {children}\n    </userContext.Provider>;\n}\n","import {Redirect, Route} from 'react-router-dom';\nimport React from \"react\";\nimport {userContext} from '../contexts/userContext';\n\nfunction PrivateRoute({ component: Component, type = null, ...rest }) {\n    const userCtx = React.useContext(userContext);\n    return (\n        <Route {...rest} render={props =>\n        {\n          if (!userCtx.loggedIn || (type !== null && !type.includes(userCtx.type))) {\n            // not logged in so redirect to login page with the return url\n            return <Redirect to={{ pathname: `/login`, state: { from: props.location } }} />\n            }\n\n            // authorised so return component\n            return <Component {...props} {...rest}/>\n      }}/>\n    );\n}\n\n\nexport default PrivateRoute;","import clsx from 'clsx';\n\n/**\n * Card component\n *\n * a surface with shadow, padding and margin\n */\n\nconst defaultAttributes = {\n      'p-6': true,\n      'max-w-sm': false,\n      'bg-white': true,\n      'inline-block': false,\n      'rounded-md': true,\n      'shadow-lg': true,\n      'overflow-auto': true,\n    };\nfunction Card({\n    attributes=defaultAttributes,\n    children=null,\n    ...props\n    }) {\n  return <div className={clsx({...defaultAttributes, ...attributes})} {...props}>\n          {children}\n   </div>;\n}\n\nexport default Card;","import Card from '../../../../components/card/card';\n\nconst defaultAttributes = {\n   'w-full': true,\n   'h-36': true,\n   'cursor-pointer': true,\n   'transform transition': true,\n   'select-none': true\n};\n\nfunction BaseCard({\n   attributes=defaultAttributes,\n   ...props\n}) {\n   return <Card attributes={{...defaultAttributes, ...attributes}} {...props}/>;\n}\n\nexport default BaseCard;","/**\n * nPaddinng pads a number to n digits (e.g. 1 -> 001 for n=3)\n * \n * @param number, a number \n * @param n, the padding required \n * @returns the number with as many leading zeros as needed for it to be of the minimum length >= n\n */\nexport const nPadding = (number, n) => {\n    if (n <= 0) throw `n must be > 0, '${n}' is an invalid padding`;\n\n    return String(number).padStart(n, '0');\n}\n\n/**\n * twoPadding pads a number to two digits (e.g. 1 -> 01)\n * \n * @param number, a number \n * @returns the number with as many leading zeros as needed for it to be of the minimum length >= 2\n */\nexport const twoPadding = (number) => nPadding(number, 2);","import {twoPadding} from '../../../../helpers/numberPadding';\n\nconst ALLOWED_PRECISIONS = ['hours', 'minutes', 'seconds', 'milliseconds'];\nexport const timeToString = (elapsedTime, precision) => {\n    if (!ALLOWED_PRECISIONS.includes(precision)) throw `precision '${precision}' is not a valid precision; must be one of ${ALLOWED_PRECISIONS}`;\n\n    const [hh, mm, ss, ms] = elapsedTime.map(twoPadding);\n\n    switch (precision) {\n        case ALLOWED_PRECISIONS[0]:\n            return hh;\n        case ALLOWED_PRECISIONS[1]:\n            return `${hh}:${mm}`;\n        case ALLOWED_PRECISIONS[2]:\n            return `${hh}:${mm}:${ss}`;\n        case ALLOWED_PRECISIONS[3]:\n            return `${hh}:${mm}:${ss}:${ms}`;\n    }\n}","import { useElapsedMs, msToTime } from '../../../../hooks/useElapsedTime/useElapsedTime';\nimport { timeToString } from './_timeToString';\nimport { useEffect } from 'react';\n/**\n * \n * @param startTime, required, the Date to count from \n * @param refreshIntervalMs, optional, the refresh frequency of the clock\n * @param precision, optional, the precision of the clock ('hours', 'minutes', 'seconds' or 'miliseconds')\n * @returns a string up to the required precision\n */\nexport function StopWatch({\n    startTime,\n    notifyDelta = (_) => {},\n    refreshIntervalMs = 1000,\n    precision = 'seconds'\n}) {\n    const [elapsedMs] = useElapsedMs(startTime, refreshIntervalMs);\n    const elapsedTime = msToTime(elapsedMs);\n\n    useEffect(() => {\n        notifyDelta(elapsedMs);\n    }, [elapsedMs])\n    return <span>\n        {timeToString(elapsedTime, precision)}\n    </span>;\n}\n","import { useState, useEffect } from 'react';\n\nimport { DateTime, Interval } from 'luxon';\n\n/**\n * msToTime returns the proper time in hours, minutes, seconds and milliseconds from a given ms delta\n * \n * @param delta, int, an amount of milliseconds\n * @returns hours, minutes, seconds and milliseconds which fit in delta\n */\nexport const msToTime = (delta) => [\n    Math.floor((delta / (1000 * 60 * 60)) % 24),\n    Math.floor((delta / (1000 * 60)) % 60),\n    Math.floor((delta / 1000) % 60),\n    Math.floor((delta % 1000))\n];\n\n/**\n * useElapsedTime returns the elapsed time in ms \n * \n * uses UTC\n * \n * @param startDate, Date object, datetime to count the elapsed time from\n * @param refreshIntervalMs, int, update period in ms\n * @returns difference in ms since startDate to now\n */\nexport const useElapsedMs = (_startDate, refreshIntervalMs = 1000) => {\n    \n    const [startDate, setStartDate] = useState(_startDate.toUTC());\n    const [now, setNow] = useState(_startDate.toUTC()); // Save the current date to be able to trigger an update\n\n    useEffect(() => {\n        setStartDate(_startDate);\n    }, [_startDate]);\n\n    // use an interval to update the 'now' date every refreshIntervalMs ms\n    useEffect(() => {\n        const ticker = setInterval(() => setNow(DateTime.now().toUTC()), refreshIntervalMs);\n        return () => clearInterval(ticker);  // clean timer on unmount\n    }, [refreshIntervalMs]);\n\n    return [now-startDate];\n};","export const palette = {\n    bg: 'bg-gray-50 dark:bg-gray-800',\n    bg_responsive: 'bg-gray-50 active:hover:bg-gray-100 dark:bg-gray-800 active:hover:dark:bg-gray-600',\n    bg_force_responsive: 'bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-600',\n    surface1: 'bg-gray-100 dark:bg-gray-700',\n    surface1_responsive: 'bg-gray-100 active:hover:bg-gray-200 dark:bg-gray-700 active:hover:dark:bg-gray-600',\n    surface2: 'bg-gray-200 dark:bg-gray-600',\n    surface2_responsive: 'bg-gray-200 active:hover:bg-gray-300 dark:bg-gray-600 active:dark:hover:bg-gray-500',\n    text: 'text-gray-800 dark:text-gray-50',\n    textLight: 'text-gray-700 dark:text-gray-100',\n    textBold: 'text-gray-900 dark:text-white'\n};\n","import { palette } from \"../../palette\";\n\n/**\n * Modal component\n *\n * a floating modal with a background overlay\n */\nfunction Modal({\n  handleHide = () => { },\n  children = null,\n  bgOverlay = 'bg-gray-500',\n  bgOpacity = 'bg-opacity-75',\n  bg = palette.bg,\n  z = 'z-10',\n  disabled = false,\n  ...props\n}) {\n\n  const _handleHide = () => {\n    if (disabled) return;\n    handleHide();\n  }\n\n  return <div {...props} className={`fixed ${z} inset-0 overflow-y-auto`} aria-labelledby=\"modal-title\" role=\"dialog\" aria-modal=\"true\">\n    <div className=\"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\n      <div className={`fixed inset-0 ${bgOverlay} ${bgOpacity} transition-opacity`} aria-hidden=\"true\" onClick={_handleHide} />\n      <span className=\"hidden sm:inline-block sm:align-middle sm:h-screen\" aria-hidden=\"true\">&#8203;</span>\n      <div className=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\">\n        <div className={`${bg} px-4 pt-5 pb-4 sm:p-6 sm:pb-4`}>\n          {children}\n        </div>\n      </div>\n    </div>\n  </div>;\n}\n\nexport default Modal;","import clsx from 'clsx';\nimport { palette } from '../../../palette';\n\n/**\n * Base button component\n */\nconst defaultAttributes = {\n      'm-1': true,\n      'inline-flex': true,\n      'justify-center': true,\n      'rounded-md': true,\n      'border': false,\n      'shadow-sm': true,\n      'px-4': true,\n      'py-2': true,\n      'text-base': true,\n      'font-medium': true,\n      'text-white': true,\n      'focus:outline-none': true,\n      'focus:ring-2': true,\n      'focus:ring-offset-2': true,\n      'sm:ml-3': true,\n      'sm:text-sm': true,\n      'disabled:opacity-50': true,\n      'select-none': true\n    };\n\nexport default function Button({\n    text,\n    bgColor=palette.bg_responsive,\n    textColor=palette.text,\n    ring='focus:ring-gray-500',\n    border=palette.bg,\n    attributes=defaultAttributes,\n    onClick= () => {},\n    w = 'w-full sm:w-auto',\n    loading=false,\n    ...props\n    }) {\n  return <button  onClick={onClick} type=\"button\" className={clsx(\n    {...defaultAttributes, \n    [bgColor]: true, \n    [textColor]: true,\n    [ring]: true, \n    [w]: true,\n    [border]: true, \n    ...attributes})} {...props}>\n      {loading && <span className={`animate-ping absolute inline-flex h-5 w-5 rounded-full opacity-75 ${palette.surface1}`}></span>}\n  {text}\n</button>;\n}\n","import Button from \"../button/button\";\nimport { useTranslation } from 'react-i18next';\n\n/**\n * No (red) button component\n */\nexport default function NoButton({\n    attributes={},\n    text=\"no\",\n    onClick= () => {},\n    ...props\n    }) {\n\n    const { t, i18n } = useTranslation();\n\n  return <Button \n            onClick={onClick}\n            text={t(text)} //\n            bgColor='bg-red-600 hover:active:bg-red-700'\n            textColor='text-white'\n            ring='focus:ring-red-500'\n            border='border-transparent'\n            attributes={attributes}\n            {...props}\n          />;\n}\n","import { palette } from \"../../palette\";\nimport Modal from \"../modal/modal\";\n\n/**\n * Modal component with a space for title, description and buttons\n */\nfunction TextActionsModal({\n    handleHide= () => {},\n    title=null,\n    description=null,\n    actions=null,\n    children=null,\n    icon=null,\n    disabled=false,\n    ...props\n    }) {\n  return <Modal handleHide={handleHide} disabled={disabled} {...props}>\n  <div className=\"px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\n   {(title || description) && <div className=\"sm:flex sm:items-start\">\n    {icon && <div className=\"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10\">\n            {icon}\n          </div>}\n\n     <div className=\"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left\">\n       {title && <h3 className={`text-lg leading-6 font-medium ${palette.textBold}`} id=\"modal-title\">\n         {title}\n       </h3>}\n       {description && <div className=\"mt-2\">\n         <p className={`text-sm ${palette.text}`}>\n           {description}\n         </p>\n       </div>}\n     </div>\n   </div>}\n\n   {children}\n </div>\n {actions && <div className={`${palette.surface1} px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse rounded-lg`}>\n   {actions}\n</div>}\n  </Modal>;\n}\n\nexport default TextActionsModal;","import { palette } from '../../palette';\nimport Modal from '../modal/modal';\nimport Button from '../buttons/button/button';\nimport NoButton from '../buttons/noButton/noButton';\nimport TextActionsModal from '../textActionsModal/textActionsModal';\nimport React from 'react';\nimport {useTranslation} from \"react-i18next\";\n\nfunction ConfirmModal({\n    title=\"askContinue\",\n    description=\"difficultUndone\",\n    cancel=\"cancel\",\n    confirm=\"confirm\",\n    handleSuccess= () => {},\n    handleCancel= () => {},\n   ...props\n}) {\n    const { t, i18n } = useTranslation();\n   return <TextActionsModal \n    handleHide={handleCancel}\n    title={t(title)}\n    description={t(description)}\n    icon={<svg className=\"h-6 w-6 text-red-600\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" aria-hidden=\"true\">\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n  </svg>}\n    actions={\n      <React.Fragment>\n        <NoButton text={t(cancel)} onClick={handleCancel}/>\n        <Button text={t(confirm)} onClick={handleSuccess}/>\n      </React.Fragment>\n    }\n   />;\n}\n\nexport default ConfirmModal;","import React, {useState} from \"react\";\nimport ConfirmModal from \"../components/confirmModal/confirmModal\";\n\nconst confirmContext = React.createContext(\n    (title, description, handleSuccess, handleCancel) => {}\n);\n\nconst BaseConfirmContextProvider = ({children}) => {\n    const [showConfirmDialog, setShowConfirmDialog] = useState(false);\n    const handleHideConfirmDialog = () => setShowConfirmDialog(false);\n\n    const [confirmHandler, setConfirmHandler] = useState(\n        {\n            title: undefined,\n            description: undefined,\n            handleSuccess: handleHideConfirmDialog,\n            handleCancel: handleHideConfirmDialog,\n        }\n    );\n    const confirm = ({title = undefined, description = undefined, handleSuccess = () => {}, handleCancel = () => {}}) => {\n        setShowConfirmDialog(true);\n        setConfirmHandler(\n            {\n              title: title,\n              description: description,\n              handleSuccess: () => {\n                handleHideConfirmDialog();\n                handleSuccess();\n                },\n              handleCancel: () => {\n                  handleHideConfirmDialog();\n                  handleCancel();\n              }\n            }\n        );\n    }\n\n    return <React.Fragment>\n            {showConfirmDialog && <ConfirmModal \n                title={confirmHandler.title} \n                description={confirmHandler.description} \n                handleSuccess={confirmHandler.handleSuccess}\n                handleCancel={confirmHandler.handleCancel}\n            />}\n            <confirmContext.Provider value={confirm}>\n                {children}\n            </confirmContext.Provider>\n        </React.Fragment>;\n}\n\nexport {\n  confirmContext,\n  BaseConfirmContextProvider\n};","import Button from \"../button/button\";\nimport {useTranslation} from \"react-i18next\";\n\n/**\n * Yes (green) button component\n */\nexport default function YesButton({\n  attributes = {},\n  text = \"yes\",\n  onClick = () => { },\n  ...props\n}) {\n\n  const { t, i18n } = useTranslation();\n\n  return <Button\n    onClick={onClick}\n    text={t(text)}\n    bgColor='bg-green-500 active:hover:bg-green-600'\n    textColor='text-white'\n    ring='focus:ring-green-500'\n    border='border-transparent'\n    attributes={attributes}\n    {...props}\n  />;\n}\n","import { useLocation } from \"react-router-dom\";\n\n/**\n * useAccessToken returns the restaurantId and accessToken found in the url \n * \n * @returns a list [restaurantId, accessToken]\n */\nexport const useAccessToken = () => {\n    const search = useLocation().search;\n\n    const restaurantId = new URLSearchParams(search).get(\"id\");\n    const accessToken = new URLSearchParams(search).get(\"token\");\n\n    return [restaurantId, accessToken];\n};","import Cookies from 'js-cookie';\n\nexport function authHeader() {\n    // return authorization header with jwt token\n    return { 'X-CSRFToken': Cookies.get('X-CSRF-TOKEN')};\n}","import React, { useEffect, useState } from \"react\";\nimport { attemptLogin } from \"../../services/loginWithAccessToken\";\nimport { useSnackbar } from 'notistack';\nimport { userContext, TYPE_ACCESS_TOKEN } from \"../../../../contexts/userContext\";\nimport { useTranslation } from 'react-i18next';\n\n/**\n * useLoginWithAccessToken returns a bool (true if correctly logged in)\n * \n * @returns a bool (loggedIn)\n */\nexport const useLoginWithAccessToken = (restaurantId, accessToken) => {\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    const userCtx = React.useContext(userContext);\n    const { t, i18n } = useTranslation();\n    \n    useEffect(() => {\n        userCtx.setType(null);\n        attemptLogin(restaurantId, accessToken)\n            .then(([isValid, params]) => {\n                if (!isValid) {\n                    enqueueSnackbar(t(\"errorPageAccess\"), {variant: 'warning'});\n                    return;\n                }\n                userCtx.setType(TYPE_ACCESS_TOKEN);\n                userCtx.setParams(params);\n            })\n            .catch(_ => enqueueSnackbar(t(\"SthWrong\"), {variant: 'error'}));\n    }, [restaurantId, accessToken]);\n\n    return [userCtx.loggedIn, () => userCtx.setType(TYPE_ACCESS_TOKEN)];\n};","import { authHeader } from \"../../../helpers/csrfCookieHeader\";\nimport axios from \"axios\";\n\nexport const attemptLogin = (restaurantId, accessToken) => {\n    return new Promise(function(resolve, reject) {\n        axios({url: `${process.env.REACT_APP_BACKEND_URL}/auth/v1/login/accessToken`,\n            method: 'POST',\n            auth: {\n                username: restaurantId,\n                password: accessToken\n            },\n            headers: {'Cache-Control': 'no-cache', ...authHeader()}\n        })\n        .then(res => resolve([true, res.data]))\n        .catch(function (res) {\n            try { if (res[\"response\"][\"status\"] === 401) resolve([false, null]) } catch(err){}\n            reject(res);\n        });\n    });\n}\n\n","import { DateTime } from 'luxon';\n\nexport const parseTable = (table) => {\n    table['last_course_datetime'] = new DateTime.fromISO(table['last_course_datetime'], {zone: 'utc'});\n    return table;\n}\n\nexport const parseTables = (_tables) => {\n    let tables = {};\n    _tables.forEach((table) => {\n        tables[table.id] = parseTable(table);\n    });\n    return tables;\n}","import { useState } from \"react\";\n\n/**\n * a wrapper around useState which implements a queue\n * \n * @param key the name of the key used as id \n */\nexport const useQueueState = (default_=[]) => {\n    const [queue, setQueue] = useState(default_);\n    const push = (item) => setQueue(queue => [...queue, item]);\n    const serve = (idx) => setQueue(queue => { \n        queue.splice(idx, 1);\n        return setQueue([...queue]);\n    }\n    );\n    \n    return {\n        queue: queue,\n        push: push,\n        serve: serve,\n        serveFirst: () => serve(0),\n        serveAll: () => setQueue([]),\n        isEmpty: () => queue.length === 0\n    };\n  }","import React, { useEffect, useState } from \"react\";\nimport { useAccessToken } from \"../../hooks/useAccessToken/useAccessToken\";\nimport { useLoginWithAccessToken } from \"../../hooks/useLoginWithAccessToken/useLoginWithAccessToken\";\nimport { io } from \"socket.io-client\";\nimport { parseTable, parseTables } from \"./_tableUtils\";\nimport { useSnackbar } from \"notistack\";\nimport { useQueueState } from \"../../../../hooks/useQueueState/useQueueState\";\nimport { useTranslation } from 'react-i18next';\n\nconst ENDPOINT = process.env.REACT_APP_BACKEND_URL;\n\n\nexport const realtimeServiceContext = React.createContext(\n    {\n        tables: [],\n        setTables: (tables) => {},\n        addTable: (table) => {},\n        finishTable: (id) => {},\n        nextCourse: (id) => {},\n        deleteTable: (id) => {},\n        /*onCourseServed: {\n            suscribe: (fun) => {},\n            unsuscribe: (fun) => {}\n        }*/\n    }\n);\n\n\nexport const RealtimeServiceContextProvider = ({ children }) => {\n    const {enqueueSnackbar} = useSnackbar();\n\n    /***************** data *****************/\n    const [tables, setTables] = useState({});\n\n    /***************** auth *****************/\n    const [restaurantId, accessToken] = useAccessToken();\n    const [loggedIn, _] = useLoginWithAccessToken(restaurantId, accessToken);\n    \n    /*********** onCourseServed callback ****/\n    /*const onCourseServedCallbacks = useQueueState([]);\n    const _onCourseServed = {\n        suscribe: (fun) => onCourseServedCallbacks.push(fun),\n        unsuscribe: (fun) => onCourseServedCallbacks.serve(fun)\n    };\n    const onCourseServed = (table) => {\n        onCourseServedCallbacks.queue.forEach(callback => callback(table));\n    }*/\n\n    /**************** socket ****************/\n    const [socket, setSocket] = useState(null);\n\n    const { t, i18n } = useTranslation();\n\n    useEffect(() => {\n        if (!loggedIn) return;\n\n        const newSocket = io(ENDPOINT);\n        setSocket(newSocket);\n        return () => newSocket.close();\n    }, [loggedIn]);\n    \n\n    \n    useEffect(() => {\n        if (socket === null) return;\n\n        socket.on(\"v1.tables\", data => {\n            setTables(parseTables(data.tables));\n        });\n        socket.on(\"v1.tables.new\", data => {\n            setTables(tables => ({...tables, [data.table.id]: parseTable(data.table)}));\n        });\n        socket.on(\"v1.tables.finish\", data => {\n            const table = data.table;\n\n            setTables(tables => {\n                delete tables[table.id];\n                return {...tables}\n            });\n\n            enqueueSnackbar(`${t(\"table\")} ${table.number} ${t(\"markedFinish\")}`, {variant: 'success'});\n        });\n        socket.on(\"v1.tables.next\", data => {\n            const table = parseTable(data.table);\n\n            setTables(tables => {\n                tables[table.id] = table;\n                return {...tables}\n            });\n\n            enqueueSnackbar(`${t(\"table\")} ${table.number} ${t(\"servedWaiting\")} ${t(table.next_course)}`, {variant: 'success'});\n        });\n        socket.on(\"v1.tables.delete\", data => {\n            const table = data.table;\n\n            setTables(tables => {\n                delete tables[table.id];\n                return {...tables}\n            });\n\n            enqueueSnackbar(`${t(\"table\")} ${table.number} ${t(\"has been deleted\")}`, {variant: 'warning'});\n        });\n    }, [socket]);\n\n    /************ context provider **********/\n    // new\n    const newItems = useQueueState();\n    useEffect(() => {\n        if (socket === null) return;\n        if (newItems.isEmpty()) return;\n\n        newItems.queue.map(table => {\n            socket.emit(\"v1.tables.new\", {number: table});\n        });\n        \n        newItems.serveAll();\n    }, [newItems, socket]);\n    const addTable = (table) => newItems.push(table);\n\n    // finish\n    const finishedTables = useQueueState();\n    useEffect(() => {\n        if (socket === null) return;\n        if (finishedTables.isEmpty()) return;\n\n        finishedTables.queue.map(id => {\n            socket.emit(\"v1.tables.finish\", {id: id});\n        });\n        \n        finishedTables.serveAll();\n    }, [finishedTables, socket]);\n    const finishTable = (id) => finishedTables.push(id);\n\n    // next\n    const nextTables = useQueueState();\n    useEffect(() => {\n        if (socket === null) return;\n        if (nextTables.isEmpty()) return;\n\n        nextTables.queue.map(table => {\n            socket.emit(\"v1.tables.next\", table);\n            console.log(table);\n        });\n        \n        nextTables.serveAll();\n    }, [nextTables, socket]);\n\n    const nextCourse = (id, desserts = false) => {\n        console.log(tables[id], tables[id].next_course);\n        nextTables.push({id: id, to_desserts: desserts});\n    };\n\n    // delete\n    const deleteTables = useQueueState();\n    useEffect(() => {\n        if (socket === null) return;\n        if (deleteTables.isEmpty()) return;\n\n        deleteTables.queue.map(id => {\n            socket.emit(\"v1.tables.delete\", {id: id});\n        });\n        \n        deleteTables.serveAll();\n    }, [deleteTables, socket]);\n    const deleteTable = (id) => deleteTables.push(id);\n\n    const contextProvider = {\n        tables: Object.values(tables),\n        setTables: () => {},\n        addTable: addTable,\n        finishTable: finishTable,\n        nextCourse: nextCourse,\n        deleteTable: deleteTable,\n        // onCourseServed: _onCourseServed\n    };\n\n    return <realtimeServiceContext.Provider value={contextProvider}>\n        {children}\n    </realtimeServiceContext.Provider>;\n}\n","import ConfirmModal from '../../../../components/confirmModal/confirmModal';\nimport {twoPadding} from '../../../../helpers/numberPadding';\nimport React from 'react';\nimport { confirmContext } from '../../../../contexts/confirmContext';\nimport TextActionsModal from '../../../../components/textActionsModal/textActionsModal';\nimport Button from '../../../../components/buttons/button/button';\nimport YesButton from '../../../../components/buttons/yesButton/yesButton';\nimport NoButton from '../../../../components/buttons/noButton/noButton';\nimport { realtimeServiceContext } from '../../contexts/realtimeService/realtimeServiceContext';\nimport { useTranslation } from 'react-i18next';\n\nfunction ActionMenu({\n    table,\n    handleHide=()=>{},\n    handleShow=()=>{},\n   ...props\n}) {\n    const confirm = React.useContext(confirmContext);\n    const realtimeCtx = React.useContext(realtimeServiceContext);\n    const { t, i18n } = useTranslation();\n\n    const handleFinish = () => {\n        handleHide();\n        confirm({\n            handleSuccess: () => {\n                realtimeCtx.finishTable(table.id);\n            },\n            handleCancel: () => {\n                handleShow();\n            }})\n    };\n\n    const handleDelete = () => {\n        handleHide();\n        confirm({\n            handleSuccess: () => {\n                realtimeCtx.deleteTable(table.id);\n            },\n            handleCancel: () => {\n                handleShow();\n            }})\n    };\n\n    const isLastCourse = table.next_course === 'desserts';\n\n    const handleNext = (desserts = false) => {\n        handleHide();\n\n        if (!isLastCourse) {\n            realtimeCtx.nextCourse(table.id, desserts);\n            return;\n        }\n        \n        confirm({\n            title: t('serveDessertsAndEnd'),\n            handleSuccess: () => {\n                realtimeCtx.finishTable(table.id);\n            },\n            handleCancel: () => {\n                handleShow();\n            }})\n       \n    }\n    const lastCourse = table.last_course_datetime.toLocal();\n\n   \n   return <React.Fragment>\n       <ConfirmModal />\n       <TextActionsModal\n            handleHide={handleHide}\n            title={`${t(\"table\")} ${table.number}`}\n            description={`${t(\"timeLastCourse\")} ${twoPadding(lastCourse.hour)}:${twoPadding(lastCourse.minute)}`}\n            actions={<React.Fragment>\n                    <NoButton onClick={handleHide} text={t(\"cancel\")} />\n                    { !isLastCourse && <YesButton onClick={() => handleNext(true)} text={t(\"desserts\")} /> }\n                    <YesButton onClick={() => handleNext(false)} text={isLastCourse? t(\"finalize\"): t(\"next\")} />\n                    <Button onClick={handleDelete} text={t(\"delete\")} />\n            </React.Fragment>}\n      {...props} />\n    </React.Fragment>;\n}\n\nexport default ActionMenu;\n","import BaseCard from './baseCard';\nimport { StopWatch } from '../stopWatch/stopWatch';\nimport ActionMenu from '../actionMenu/actionMenu';\nimport React from 'react';\nimport { useState } from 'react';\nimport { userContext } from '../../../../contexts/userContext';\nimport {useTranslation} from \"react-i18next\";\n\nconst STATUS_ALARM = 'alarm';\nconst STATUS_WARNING = 'warning';\n\nconst useTheme = (status) => (status === STATUS_ALARM ? {\n   bg: 'bg-red-400 hover:bg-red-500',\n   fg: 'bg-red-100',\n   text: 'text-gray-800'\n} : status === STATUS_WARNING ? {\n   bg: 'bg-yellow-200 hover:bg-yellow-300',\n   fg: 'bg-yellow-100',\n   text: 'text-gray-800'\n} : {\n   bg: 'bg-green-200 hover:bg-green-300',\n   fg: 'bg-green-50',\n   text: 'text-gray-800'\n});\n\nfunction TableCard({\n   table,\n   ...props\n}) {\n\n   const userCtx = React.useContext(userContext);\n   const [showActionMenu, setShowActionMenu] = useState(false);\n   const handleShowActionMenu = () => setShowActionMenu(true);\n   const handleHideActionMenu = () => setShowActionMenu(false);\n\n   const [status, setStatus] = useState('ok');\n   const theme = useTheme(status);\n   const { t, i18n } = useTranslation();\n\n   const handleStatus = (delta) => {\n      const minutes = delta / (1000 * 60);\n      if (minutes > userCtx.params.alarmMinutes) return setStatus(STATUS_ALARM);\n      if (minutes > userCtx.params.warningMinutes) return setStatus(STATUS_WARNING);\n      setStatus('ok');\n   }\n\n   return <React.Fragment>\n\n      {showActionMenu && <ActionMenu handleHide={handleHideActionMenu} handleShow={handleShowActionMenu} table={table} />}\n\n      <BaseCard attributes={{ [theme.bg]: true }} onClick={handleShowActionMenu} {...props}>\n\n         <div className={`flex-2 flex flex-col ${theme.text}`}>\n            <div className=\"flex-1\">\n               <p className=\"font-mono text-4xl\">\n                  <StopWatch startTime={table.last_course_datetime} notifyDelta={handleStatus} precision='seconds' />\n               </p>\n            </div>\n            <div className=\"flex space-x-4 pt-4\" >\n               <div className=\"text-left\">\n                  <span className={`inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold mr-2 mb-2 bottom-0 left-0 ${theme.fg}`}>\n                     {t(table.next_course)}\n                  </span>\n               </div>\n               <div className=\"flex-1\">\n                  <p className=\"font-mono text-right text-4xl\">\n                     {table.number}\n                  </p>\n               </div>\n            </div>\n         </div>\n\n\n\n\n      </BaseCard></React.Fragment>;\n}\n\nexport default TableCard;","import {Field} from 'formik';\nimport { palette } from '../../../palette';\n\n/**\n * Base input component\n */\nexport default function Input({\n    name,\n    label=null,\n    type='text',\n    lead=null,\n    trail=null,\n    placeholder='',\n    ...props\n}) {\n\n    return <Field type={type} name={name} > \n    \n    {({\n               field, // { name, value, onChange, onBlur }\n               form: { touched, errors }, // also values, setXXXX, handleXXXX, dirty, isValid, status, etc.\n               meta,\n             }) => <div>\n             {label && <label for={name} className={`block text-sm font-medium ${palette.text}`}>{label}</label>}\n             \n             {meta.touched && meta.error && (\n                   <label for={name} className=\"block text-sm font-medium text-red-700\">{meta.error}</label>\n                 )}\n             <div className=\"mt-1 relative rounded-md shadow-sm\">\n                 {lead && <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                     <span className={`${palette.textLight} sm:text-sm`}>\n                         {lead}\n                     </span>\n                 </div>}\n                 <input  {...props} type={type} name={name} id={name} className={`block w-full p-2 ${lead? 'pl-7': ''} ${trail? 'pr-7': ''} sm:text-sm text-gray-900 rounded-md`} placeholder={placeholder} {...field}  />\n                 {trail && <div className=\"absolute inset-y-0 right-0 flex items-center pointer-events-none\">\n                     <span className={`${palette.textLight} sm:text-sm`}>\n                         {trail}\n                     </span>\n                 </div>}\n             </div>\n         </div>}\n    \n    </Field>;\n}\n","import TextActionsModal from '../textActionsModal/textActionsModal';\nimport ConfirmModal from '../confirmModal/confirmModal';\nimport NoButton from '../buttons/noButton/noButton';\nimport React from 'react';\nimport YesButton from '../buttons/yesButton/yesButton';\nimport Input from '../inputs/input/input';\nimport {Formik, Form} from 'formik';\nimport {useTranslation} from \"react-i18next\";\n\nexport default function QuestionModal({\n  title = null,\n  description = null,\n  handleHide = () => { },\n  handleShow = () => { },\n  handleCancel = () => { },\n  handleSubmit = (_) => new Promise.resolve(),\n  ...props\n}) {\n\n  const { t, i18n } = useTranslation();\n  return <Formik\n       initialValues={{ question: '' }}\n       onSubmit={(values, { setSubmitting, setErrors}) => {\n          handleSubmit(values.question).then(() => {\n            handleHide();\n            setSubmitting(false);\n          }, () => {\n            setErrors({question: t(\"unableEndReq\")});\n            setSubmitting(false);\n          });\n       }}\n     >\n       {({ isSubmitting }) => (\n         <Form>\n           <TextActionsModal\n              handleHide={handleHide}\n              title={title}\n              description={description}\n              disabled={isSubmitting}\n              actions={<React.Fragment>\n                <NoButton onClick={() => {\n                  handleHide();\n                  handleCancel();\n                  }} text={t(\"cancel\")} disabled={isSubmitting} />\n                <YesButton text={t(\"submit\")} type=\"submit\" disabled={isSubmitting} loading={isSubmitting} />\n              </React.Fragment>}\n              {...props}>\n\n              <div className='p-4 pt-4'>\n                <Input name=\"question\"/>\n              </div>\n            </TextActionsModal>\n         </Form>\n       )}\n     </Formik>;\n}\n","import React, { useState } from \"react\";\nimport QuestionModal from \"../components/questionModal/questionModal\";\n\nexport const questionContext = React.createContext(\n    { prompt: (title, description, handleSubmit, handleCancel) => { } }\n);\n\nexport const QuestionContextProvider = ({ children }) => {\n    const [showDialog, setShowDialog] = useState(false);\n    const handleHideDialog = () => setShowDialog(false);\n    const handleShowDialog = () => setShowDialog(true);\n\n    const [handlers, setHandlers] = useState(\n        {\n            title: null,\n            description: null,\n            handleSubmit: handleHideDialog,\n            handleCancel: handleHideDialog,\n        }\n    );\n    const prompt = ({ title = null, description = null, handleSubmit = () => new Promise.resolve(), handleCancel = () => { } }) => {\n        setHandlers(\n            {\n                title: title,\n                description: description,\n                handleSubmit: (...value) => new Promise(function (resolve, reject) {\n                    handleSubmit(...value)\n                        .then(\n                            (...args) => {\n                                resolve(...args);\n                                handleHideDialog();\n                            },\n                            (...args) => reject(...args)\n                        );\n                }),\n                handleCancel: () => {\n                    handleHideDialog();\n                    handleCancel();\n                }\n            }\n        );\n        handleShowDialog();\n    }\n\n    return <React.Fragment>\n        {showDialog && <QuestionModal\n            title={handlers.title}\n            description={handlers.description}\n            handleSubmit={handlers.handleSubmit}\n            handleCancel={handlers.handleCancel}\n            handleHide={handleHideDialog}\n            handleShow={handleShowDialog}\n        />}\n        <questionContext.Provider value={{ prompt: prompt }}>\n            {children}\n        </questionContext.Provider>\n    </React.Fragment>;\n}","import TextActionsModal from '../../../../components/textActionsModal/textActionsModal';\nimport NoButton from '../../../../components/buttons/noButton/noButton';\nimport React, { useEffect, useState } from 'react';\nimport YesButton from '../../../../components/buttons/yesButton/yesButton';\nimport Button from '../../../../components/buttons/button/button';\nimport { questionContext } from '../../../../contexts/questionContext';\nimport { userContext } from '../../../../contexts/userContext';\nimport { useTranslation } from 'react-i18next';\n\nconst tryParseInt = (x) => parseInt(x) ?? x;\n\nexport default function NewTableMenu({\n  handleHide = () => { },\n  handleShow = () => { },\n  addNewTable = (_) => { },\n  existingTableNumbers = [],\n  ...props\n}) {\n  const userCtx = React.useContext(userContext);\n  const { t, i18n } = useTranslation();\n\n    const [defaultTables, setDefaultTables] = useState([]);\n    useEffect(() => {\n      setDefaultTables((userCtx.params['defaultTables'] ?? [])\n      .map(table => table.name)\n      .sort((a, b) => tryParseInt(a) - tryParseInt(b)));\n    }, [userCtx.params['defaultTables']]);\n    \n  const handleNewTable = (tableNumber) => {\n    return new Promise(function (resolve, reject) {\n      addNewTable(tableNumber);\n      handleHide();\n      setLoading(false);\n      resolve();\n    });\n  }\n\n  const [loading, setLoading] = useState(false);\n\n  const prompt = React.useContext(questionContext);\n  const handleAskCustomInput = () => {\n    handleHide();\n    prompt.prompt({\n      title: t(\"table #\"),\n      handleSubmit: (result) => new Promise(function (resolve, reject) {\n        handleNewTable(result).then(() => resolve(), () => reject())\n      }),\n      handleCancel: handleShow\n    });\n  }\n\n  const handleNewDefaultTable = (number) => {\n    setLoading(number);\n    handleNewTable(number);\n  }\n\n  return <React.Fragment>\n    <TextActionsModal\n      handleHide={handleHide}\n      title={t(\"new table\")}\n      description={t(\"startTimerTable\")}\n      disabled={loading !== false}\n      actions={<React.Fragment>\n        <NoButton onClick={handleHide} text={t(\"cancel\")} disabled={loading!==false} />\n        <YesButton onClick={handleAskCustomInput} text={t(\"custom\")} disabled={loading!==false} />\n      </React.Fragment>}\n      {...props}>\n\n      <div className='p-1 pt-4'>\n        {defaultTables.filter(table => !existingTableNumbers.includes(table)).map(tableName => \n        <Button loading={loading===tableName} disabled={loading!==false} onClick={() => handleNewDefaultTable(tableName)} text={tableName} key={tableName} />)}\n      </div>\n    </TextActionsModal>\n  </React.Fragment>;\n}\n","import BaseCard from './baseCard';\nimport { useTranslation } from 'react-i18next';\nimport { palette } from '../../../../palette';\nimport React, {useState} from 'react';\nimport NewTableMenu from '../newTableMenu/newTableMenu';\n\nfunction NewTableCard({\n   addNewTable = (_) => {},\n   existingTableNumbers = [],\n   ...props\n}) {\n   const { t, i18n } = useTranslation();\n\n   const [showNewTableMenu, setShowNewTableMenu] = useState(false);\n   const handleShowNewTableMenu = () => setShowNewTableMenu(true);\n   const handleHideNewTableMenu = () => setShowNewTableMenu(false);\n\n   return <React.Fragment>\n      {showNewTableMenu && <NewTableMenu \n      handleHide={handleHideNewTableMenu} \n      handleShow={handleShowNewTableMenu} \n      addNewTable={addNewTable}\n      existingTableNumbers={existingTableNumbers}\n      />}\n   <BaseCard onClick={handleShowNewTableMenu} attributes={{\n      'border-4': true, \n   'border-dashed': true, \n   [palette.bg_force_responsive]: true,\n   [palette.text]: true}} {...props} disabled={false}>\n      <div className='h-full w-full flex flex-wrap content-center text-center justify-center'>\n            <p className=\"font-mono text-4xl\">\n               {t('newFem')}\n            </p>\n            </div>\n   </BaseCard></React.Fragment>;\n}\n\nexport default NewTableCard;","import React from 'react';\n\nexport const SORT_PRIORITY = 'priority';\nexport const SORT_NUMBER_ASCENDING = 'number-ascending';\nexport const SORT_NUMBER_DESCENDING = 'number-descending';\nconst SORTS = [SORT_PRIORITY, SORT_NUMBER_ASCENDING, SORT_NUMBER_DESCENDING];\n\nfunction SortButton({\n    sort, setSort\n}) {\n\n    const handleToggleSort = () => setSort(SORTS[(SORTS.indexOf(sort) + 1) % SORTS.length]);\n    \n    return <div className='p-2 inline-block'><div onClick={handleToggleSort} className=\"flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full cursor-pointer bg-gray-100 hover:bg-gray-200 sm:h-8 sm:w-8\">\n         <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6 text-gray-900\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n         {sort === SORT_PRIORITY?  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z\" />\n        : sort === SORT_NUMBER_ASCENDING? <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12\" />\n        : <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4\" />\n}\n        </svg>\n    </div></div>;\n}\n\nexport default SortButton;","import React, { useState } from \"react\";\n\nexport const THEME_LIGHT = 'light';\nexport const THEME_DARK = 'dark';\nconst THEMES = [THEME_LIGHT, THEME_DARK];\n\nconst LOCALSTORAGE_THEME = 'theme';\n\nexport const themeContext = React.createContext(\n    {\n        theme: THEME_LIGHT,\n        setTheme: (theme) => { },\n        setLight: () => { },\n        setDark: () => { },\n        toggle: () => {},\n        isLight: true,\n        isDark: false\n    }\n);\n\nexport const ThemeContextProvider = ({ children }) => {\n    const [theme, _setTheme] = useState(localStorage.getItem(LOCALSTORAGE_THEME) === THEME_DARK? THEME_DARK: THEME_LIGHT);\n    const setTheme = (newTheme) => {\n        if (!THEMES.includes(newTheme)) throw new Error(`invalid theme '${newTheme}' is not one of the valid options: '${THEMES}'`);\n        _setTheme(newTheme);\n        localStorage.setItem(LOCALSTORAGE_THEME, newTheme);\n    }\n\n    const contextProvider = {\n        theme: theme,\n        setTheme: setTheme,\n        setLight: () => setTheme(THEME_LIGHT),\n        setDark: () => setTheme(THEME_DARK),\n        toggle: () => setTheme(THEMES[(THEMES.indexOf(theme) + 1) % THEMES.length]),\n        isLight: theme === THEME_LIGHT,\n        isDark: theme === THEME_DARK\n    };\n\n    return <themeContext.Provider value={contextProvider}>\n        <div className={theme === THEME_DARK ? 'dark' : undefined}>\n            {children}\n        </div>\n    </themeContext.Provider>;\n}\n","import React from 'react';\nimport { themeContext } from '../../contexts/themeContext';\n\n\nexport default function ThemeButton() {\n    const themeCtx = React.useContext(themeContext);\n    \n    return <div className='p-2 inline-block'><div onClick={themeCtx.toggle} className=\"flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full cursor-pointer bg-gray-100 hover:bg-gray-200 sm:h-8 sm:w-8\">\n         <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6 text-gray-900\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n         {\n             themeCtx.isLight?\n             <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z\" />\n            :<path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z\" />\n          \n         }\n        </svg>\n    </div></div>;\n}","import React, { useState } from \"react\";\nimport i18n from \"../i18n\";\n\nexport const LANGUAGE_EN = 'en';\nexport const LANGUAGE_ES = 'es';\nconst LANGUAGES = [LANGUAGE_EN, LANGUAGE_ES];\n\nconst LOCALSTORAGE_LANGUAGE = 'language';\n\nexport const languageContext = React.createContext(\n    {\n        language: LANGUAGE_EN,\n        setLanguage: (language) => { },\n        toggle: () => {}\n    }\n);\n\nexport const LanguageContextProvider = ({ children }) => {\n    const localStorageLanguage = localStorage.getItem(LOCALSTORAGE_LANGUAGE);\n    const [language, _setLanguage] = useState(LANGUAGES.includes(localStorageLanguage)? localStorageLanguage: LANGUAGE_EN);\n    const setLanguage = (newLanguage) => {\n        if (!LANGUAGES.includes(newLanguage)) throw new Error(`invalid language '${newLanguage}' is not one of the valid options: '${LANGUAGES}'`);\n        _setLanguage(newLanguage);\n        localStorage.setItem(LOCALSTORAGE_LANGUAGE, newLanguage);\n        i18n.changeLanguage(newLanguage);\n    }\n\n    const contextProvider = {\n        language: language,\n        setLanguage: setLanguage,\n        toggle: () => setLanguage(LANGUAGES[(LANGUAGES.indexOf(language) + 1) % LANGUAGES.length])\n    };\n\n    return <languageContext.Provider value={contextProvider}>\n            {children}\n    </languageContext.Provider>;\n}\n","import React from 'react';\nimport { languageContext } from '../../contexts/languageContext';\n\n\nexport default function LanguageButton() {\n    const languageCtx = React.useContext(languageContext);\n    \n    return <div className='p-2 inline-block'><div onClick={languageCtx.toggle} className=\"flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full cursor-pointer bg-gray-100 hover:bg-gray-200 sm:h-8 sm:w-8\">\n         <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6 text-gray-900\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n         <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129\" />\n        </svg>\n    </div></div>;\n}","import TableCard from './components/tableCard/tableCard';\nimport NewTableCard from './components/tableCard/newTableCard';\nimport SortButton, { SORT_PRIORITY, SORT_NUMBER_ASCENDING, SORT_NUMBER_DESCENDING } from './components/sortButton/sortButton';\nimport { useState, useEffect } from 'react';\nimport ThemeButton from '../../components/themeButton/themeButton';\nimport LanguageButton from '../../components/languageButton/languageButton';\nimport { palette } from '../../palette';\nimport { RealtimeServiceContextProvider, realtimeServiceContext } from './contexts/realtimeService/realtimeServiceContext';\nimport React from 'react';\nimport { userContext } from '../../contexts/userContext';\nimport AlertsButton, { MENU_HOME } from './components/alertsButton/alertsButton';\nimport { useQueueState } from '../../hooks/useQueueState/useQueueState';\n\nconst tryParseInt = (x) => parseInt(x) ?? x;\n\nconst sortProviders = {\n  [SORT_PRIORITY]: (table1, table2) => table1.last_course_datetime.toMillis() - table2.last_course_datetime.toMillis(),\n  [SORT_NUMBER_ASCENDING]: (table1, table2) => tryParseInt(table1.number) - tryParseInt(table2.number),\n  [SORT_NUMBER_DESCENDING]: (table1, table2) => tryParseInt(table2.number) - tryParseInt(table1.number),\n}\nfunction _RestaurantDashboardPage() {\n  const realtimeCtx = React.useContext(realtimeServiceContext);\n  const userCtx = React.useContext(userContext);\n\n  const [notifications, setNotification] = useState([]);\n  /* const onCourseServed = (table) => setNotification([...notifications, table]);\n\n  useEffect(() => {\n    realtimeCtx.onCourseServed.suscribe(onCourseServed);\n    return () => realtimeCtx.onCourseServed.unsuscribe(onCourseServed);\n  });*/\n\n  const [sort, setSort] = useState(SORT_PRIORITY);\n  const [menu, setMenu] = useState(MENU_HOME);\n\n  const tables = realtimeCtx.tables;\n  const [sortedTables, _setSortedTables] = useState([]);\n\n  const setSortedTables = (newTables) => {\n    newTables.sort(sortProviders[sort]);\n    _setSortedTables([...newTables]);\n  }\n  useEffect(() => setSortedTables(tables), [tables, sort]);\n\n  const HomeMenu = () => <div className=\"grid grid-cols-1 gap-4 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5\">\n  <NewTableCard addNewTable={realtimeCtx.addTable} existingTableNumbers={tables.map(table => table.number)} />\n\n  {sortedTables.map(table =>\n    <TableCard table={table} key={table.id} />)}\n</div>;\n\n/*const AlertsMenu = () => <div className=\"grid grid-cols-1 gap-4 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5\">\n {notifications.map(x => x.toString())}\n</div>;*/\n\n  return <div>\n    <div className='p-2 pt-4 pl-8 pr-8 inline-block w-full'>\n      <div className='inline-block'><p className={`font-mono select-none text-4xl ${palette.text}`}>\n       {userCtx.params.restaurantName ?? \"...\"}\n      </p></div>\n      <div className='float-right'>\n        <SortButton sort={sort} setSort={setSort} />\n        { \n          // <AlertsButton menu={menu} setMenu={setMenu} />\n        }\n        <ThemeButton />\n        <LanguageButton /></div>\n\n    </div>\n\n    <div className=\"p-4\">\n      {menu == MENU_HOME? <HomeMenu />: null}\n    </div>\n  </div>;\n}\n\nfunction RestaurantDashboardPage() {\n\n  return <RealtimeServiceContextProvider>\n    <_RestaurantDashboardPage />\n    </RealtimeServiceContextProvider>;\n}\n\nexport default RestaurantDashboardPage;","import React from 'react';\n\nexport default function PrivacyButton({privacyFilter, setPrivacyFilter}) {\n    \n    return <div className='p-2 inline-block'><div onClick={() => setPrivacyFilter(!privacyFilter)} className=\"flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full cursor-pointer bg-gray-100 hover:bg-gray-200 sm:h-8 sm:w-8\">\n         <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6 text-gray-900\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n         \n        {privacyFilter? <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\" />: <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M8 11V7a4 4 0 118 0m-4 8v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2z\" />\n            }\n\n        </svg>\n    </div></div>;\n}","import React from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport { useGoogleLogout} from 'react-google-login';\nimport { useSnackbar } from 'notistack';\nimport { logout } from '../../services/logout';\nimport {useTranslation} from \"react-i18next\";\n\nconst clientId = process.env.REACT_APP_GOOGLE_CLIENT_ID;\n\nexport default function SignOutButton({}) {\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n  const { t, i18n } = useTranslation();\n\n  let history = useHistory();\n    const onLogoutSuccess = () => {\n      logout().then(() => {\n        enqueueSnackbar(t(\"logOut\"), {variant: 'success'})\n        history.push('/login');\n      }).catch(() => {\n        enqueueSnackbar(t(\"unableLogOutServer\"), {variant: 'error'})\n      })\n    \n    }\n    \n    const onLogoutFailure = () => {\n      enqueueSnackbar(t(\"unableLogOutGoogle\"), {variant: 'error'})\n    }\n\n  const { signOut } = useGoogleLogout({\n    clientId,\n      onLogoutSuccess,\n      onLogoutFailure\n  });\n\n  \n    \n    return <div className='p-2 inline-block'><div onClick={signOut} className=\"flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full cursor-pointer bg-gray-100 hover:bg-gray-200 sm:h-8 sm:w-8\">\n         <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6 text-gray-900\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n         <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\n        </svg>\n    </div></div>;\n}","import { authHeader } from \"../../../helpers/csrfCookieHeader\";\nimport axios from \"axios\";\n\nexport const logout = () => {\n    return new Promise(function(resolve, reject) {\n        axios({url: `${process.env.REACT_APP_BACKEND_URL}/auth/v1/logout`,\n            method: 'POST',\n            headers: {'Cache-Control': 'no-cache', ...authHeader()}\n        })\n        .then(_ => resolve())\n        .catch(_ => reject());\n    });\n}\n\n","import { palette } from \"../../../../palette\";\n\nexport default function Zone({title=null, children=null}) {\n    return <div className={`m-4 p-4 rounded-lg ${palette.surface2}`}>\n    {title && <p className={`font-mono select-none text-2xl ${palette.text}`}>\n      {title}\n    </p>}\n    <div className='p-4'>\n      {children}\n    </div>\n  </div>;\n}","import { authHeader } from \"../helpers/csrfCookieHeader\";\nimport axios from \"axios\";\n\nexport const get = (endpoint, onThen = (data, resolve, reject) => resolve(data), onCatch = (res, resolve, reject) => reject()) => {\n    return new Promise(function (resolve, reject) {\n        axios({\n            url: `${process.env.REACT_APP_BACKEND_URL}/api/v1${endpoint}`,\n            method: 'GET',\n            headers: { 'Cache-Control': 'no-cache', ...authHeader() }\n        })\n            .then(res => onThen(res.data, resolve, reject))\n            .catch(res => onCatch(res, resolve, reject));\n    });\n}\n\nexport const post = (endpoint, data, onThen = (data, resolve, reject) => resolve(data), onCatch = (res, resolve, reject) => reject()) => {\n    return new Promise(function (resolve, reject) {\n        axios({\n            url: `${process.env.REACT_APP_BACKEND_URL}/api/v1${endpoint}`,\n            method: 'POST',\n            data: data,\n            headers: { 'Cache-Control': 'no-cache', ...authHeader() }\n        })\n            .then(res => onThen(res.data, resolve, reject))\n            .catch(res => onCatch(res, resolve, reject));\n    });\n}\n\nexport const patch = (endpoint, id, data, onThen = (data, resolve, reject) => resolve(data), onCatch = (res, resolve, reject) => reject()) => {\n    return new Promise(function (resolve, reject) {\n        axios({\n            url: `${process.env.REACT_APP_BACKEND_URL}/api/v1${endpoint}/${id}`,\n            method: 'PATCH',\n            data: data,\n            headers: { 'Cache-Control': 'no-cache', ...authHeader() }\n        })\n            .then(res => onThen(res.data, resolve, reject))\n            .catch(res => onCatch(res, resolve, reject));\n    });\n}\n\n\nexport const remove = (endpoint, id, onThen = (res, resolve, reject) => resolve(res), onCatch = (res, resolve, reject) => reject()) => {\n    return new Promise(function (resolve, reject) {\n        axios({\n            url: `${process.env.REACT_APP_BACKEND_URL}/api/v1${endpoint}/${id}`,\n            method: 'DELETE',\n            headers: { 'Cache-Control': 'no-cache', ...authHeader() }\n        })\n            .then(res => onThen(res, resolve, reject))\n            .catch(res => onCatch(res, resolve, reject));\n    });\n}\n","import {get, post, patch, remove} from '../../../services/crudApi';\n\nconst getEndpoint = (restaurantId) => `/restaurants/${restaurantId}/accessTokens`;\n\nexport const getRestaurantAccessTokens = (restaurantId) => {\n    return get(\n        getEndpoint(restaurantId),\n        (data, resolve, _) => resolve(data['access_tokens'])\n    );\n};\n\nexport const postRestaurantAccessToken = (restaurantId, comment) => {\n    return post(\n        getEndpoint(restaurantId),\n        {\n            comment: comment\n        },\n        (data, resolve, _) => resolve(data['access_token'])\n    );\n};\n\n\nexport const deleteRestaurantAccessToken = (restaurantId, id) => {\n    return remove(\n        getEndpoint(restaurantId),\n        id\n    );\n}\n\n\nexport const patchRestaurantAccessToken = (restaurantId, id, comment) => {\n    return patch(\n        getEndpoint(restaurantId),\n        id,\n        {\n            comment: comment\n        },\n        (data, resolve, _) => resolve(data['access_token'])\n    );\n};\n","import Input from \"../../../../components/inputs/input/input\";\nimport { Formik, Form} from \"formik\";\nimport YesButton from \"../../../../components/buttons/yesButton/yesButton\";\nimport NoButton from \"../../../../components/buttons/noButton/noButton\";\nimport { useSnackbar } from 'notistack';\nimport { patchRestaurantAccessToken as patchRestaurantAccessTokenService } from \"../../services/restaurantAccessTokens\";\nimport {useTranslation} from \"react-i18next\";\n\nexport default function AccessUrl({privacyFilter, restaurantId, token, onDelete, onPatch}){\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    const { t, i18n } = useTranslation();\n\n\n    const handleCopyUrlToClipboard = () => {\n        // openInNewTab(accessUrl.url);\n        if (privacyFilter) {\n            enqueueSnackbar(t(\"disablePrivMode\"), {variant: 'warning'});\n            return;\n        }\n        navigator.clipboard.writeText(token.url);\n        enqueueSnackbar(t(\"urlCopied\"), {variant: 'success'});\n    }\n\n    const handleSubmit = (comment) => {\n\n    }\n\n\n    return <div className='py-4'><Formik\n    initialValues={token}\n    onSubmit={(values, { setSubmitting, setErrors}) => {\n       patchRestaurantAccessTokenService(restaurantId, token.id, values.comment).then((newToken) => {\n        onPatch(token.id, newToken);\n        setSubmitting(false);\n        enqueueSnackbar(t(\"tokenCommentSaved\"), { variant: \"success\" });\n      }, () => {\n        setErrors({comment: \"unableEndReq\"});\n        setSubmitting(false);\n      });\n    }}\n  >\n    {({ isSubmitting }) => (\n      <Form>\n        \n        <div className='flex pt-2'>\n            <div className='flex-grow'>\n            <Input name=\"comment\"/>\n            </div>\n\n            <NoButton text={t(\"delete\")} disabled={isSubmitting} onClick={onDelete} />\n            <YesButton text={t(\"save\")} type=\"submit\" disabled={isSubmitting} loading={isSubmitting} />\n\n            \n        </div>\n\n        <div className='flex pb-2'>\n            <div className={`flex-grow ${privacyFilter? 'filter blur-sm': ''}`} onClick={handleCopyUrlToClipboard}>\n                <Input name=\"url\" disabled />\n            \n            </div>\n        </div>\n\n        </Form>\n                \n    )}\n  </Formik></div>\n}","import { useState } from \"react\";\n\n/**\n * a wrapper around useState which allows CRUD operations on the collection\n * \n * @param key the name of the key used as id \n */\nexport const useCollectionState = (key='id', default_=[]) => {\n    const [items, setItems] = useState(default_);\n    const addItem = (item) => setItems(\n        [...items, item]\n    );\n    const removeItem = (id) => setItems(\n        items.filter(item => item[key] !== id)\n    );\n    const patchItem = (id, newItem) => setItems(\n        items.map(item => item[key] === id? newItem: item)\n    );\n    \n    return [items, setItems, {\n        add: addItem,\n        remove: removeItem, \n        patch: patchItem\n    }]\n  }","import Zone from \"../zone/zone\";\nimport AccessUrl from \"../accessUrl/accessUrl\";\nimport YesButton from \"../../../../components/buttons/yesButton/yesButton\";\nimport { postRestaurantAccessToken, deleteRestaurantAccessToken, patchRestaurantAccessToken, getRestaurantAccessTokens } from \"../../services/restaurantAccessTokens\";\nimport { useSnackbar } from \"notistack\";\nimport { useCollectionState } from \"../../../../hooks/useCollectionState/useCollectionState\";\nimport React from \"react\";\nimport { confirmContext } from \"../../../../contexts/confirmContext\";\nimport { questionContext } from \"../../../../contexts/questionContext\";\nimport { useEffect } from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nexport const ZoneAccessTokens = ({ restaurantId, privacyFilter }) => {\n    const [tokens, setTokens, tokenUtils] = useCollectionState();\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    const confirm = React.useContext(confirmContext);\n    const prompt = React.useContext(questionContext);\n    const { t, i18n } = useTranslation();\n\n    useEffect(() => {\n        getRestaurantAccessTokens(restaurantId)\n        .then((tokens) => setTokens(tokens))\n        .catch(_ => enqueueSnackbar(t(\"unableGetTokens\"), { variant: 'error' }))\n    }, [restaurantId]);\n\n    const handleDeleteAccessToken = (id) => {\n      confirm({\n        title: t(\"delTokenQuest\"),\n        description: t(\"delTokenDescription\"),\n        handleSuccess: () => {\n            deleteRestaurantAccessToken(restaurantId, id).then(() => {\n                tokenUtils.remove(id);\n                enqueueSnackbar(t(\"delToken\"), { variant: 'success' });\n            }).catch(() => {\n                enqueueSnackbar(t(\"unableDelToken\"), { variant: 'error' });\n            });\n        }\n      })\n    };\n\n    const handleNewAccessToken = () => {\n      prompt.prompt({\n        title: t(\"description\"),\n        description: t(\"descriptionUsesToken\"),\n        handleSubmit: (name) => {\n            return new Promise(function (resolve, reject) {\n                postRestaurantAccessToken(restaurantId, name).then((table) => {\n                    tokenUtils.add(table);\n                    enqueueSnackbar(t(\"addedTable\"), { variant: 'success' });\n                    resolve();\n                }).catch(() => {\n                    enqueueSnackbar(t(\"unableAddTable\"), { variant: 'error' });\n                    reject();\n                })\n                })\n        }\n      })\n    }\n\n    const handleOnAccessTokenPatch = (id, token) => {\n        tokenUtils.patch(id, token);\n    }\n\n    return <Zone title={t(\"access URLs\")}>\n        <div className='grid grid-cols-1 divide-y divide-gray-500 dark:divide-gray-100'>\n            {tokens.map(token => <AccessUrl \n            key={token.id}\n            onPatch={handleOnAccessTokenPatch}\n            restaurantId={restaurantId}\n            privacyFilter={privacyFilter} \n            onDelete={() => handleDeleteAccessToken(token.id)} \n            token={token} />)}\n        </div>\n\n        <div className='grid justify-items-center  pt-8'>\n            <YesButton onClick={handleNewAccessToken} text={t(\"newMasc\")} w='w-64' />\n        </div>\n    </Zone>\n}","import {get, post, remove} from '../../../services/crudApi';\n\nconst getEndpoint = (restaurantId) => `/restaurants/${restaurantId}/defaultTables`;\n\nexport const getRestaurantDefaultTables = (restaurantId) => {\n    return get(\n        getEndpoint(restaurantId),\n        (data, resolve, _) => resolve(data['default_tables'])\n    );\n};\n\nexport const postRestaurantDefaultTables = (restaurantId, name) => {\n    return post(\n        getEndpoint(restaurantId),\n        {\n            name: name\n        },\n        (data, resolve, _) => resolve(data['default_table'])\n    );\n};\n\n\nexport const deleteRestaurantDefaultTables = (restaurantId, name) => {\n    return remove(\n        getEndpoint(restaurantId),\n        name\n    );\n}\n","import React, { useEffect } from \"react\";\nimport { confirmContext } from \"../../../../contexts/confirmContext\";\nimport { questionContext } from \"../../../../contexts/questionContext\";\nimport Zone from \"../zone/zone\";\nimport Button from \"../../../../components/buttons/button/button\";\nimport YesButton from \"../../../../components/buttons/yesButton/yesButton\";\nimport { useSnackbar } from 'notistack';\nimport { getRestaurantDefaultTables, postRestaurantDefaultTables, deleteRestaurantDefaultTables } from \"../../services/defaultTables\";\nimport { useCollectionState } from \"../../../../hooks/useCollectionState/useCollectionState\";\nimport { useState } from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nexport const ZoneDefaultTables = ({ restaurantId }) => {\n    const [tables, setTables, tableUtils] = useCollectionState('name');\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    const [loading, setLoading] = useState(null);\n\n    useEffect(() => {\n        getRestaurantDefaultTables(restaurantId)\n        .then((tables) => setTables(tables))\n        .catch(_ => enqueueSnackbar(t(\"unableGetTables\"), { variant: 'error' }))\n    }, [restaurantId]);\n\n\n    const confirm = React.useContext(confirmContext);\n    const prompt = React.useContext(questionContext);\n    const { t, i18n } = useTranslation();\n    const handleDeleteDefaultTable = (name) => {\n      confirm({\n        title: `${t(\"deleteTableQuestion\")} ${name}?`,\n        description: `${t(\"Deleting Table\")} ${name} ${t(\"onlyDeleteFromList\")}`,\n        handleSuccess: () => {\n          setLoading(name);\n            deleteRestaurantDefaultTables(restaurantId, name).then(() => {\n                tableUtils.remove(name);\n                enqueueSnackbar(t(\"deletedTable\"), { variant: 'success' });\n            }).catch(() => {\n                enqueueSnackbar(t(\"unableDelTable\"), { variant: 'error' });\n            }).finally(() => setLoading(null));\n            \n        }\n      })\n    };\n\n    const handleAddNewDefaultTable = () => {\n  \n      prompt.prompt({\n        title: t(\"table #\"),\n        description: t(\"nameTableQuestion\"),\n        handleSubmit: (name) => {\n            return new Promise(function (resolve, reject) {\n                postRestaurantDefaultTables(restaurantId, name).then((table) => {\n                    tableUtils.add(table);\n                    enqueueSnackbar(t(\"addedTable\"), { variant: 'success' });\n                    resolve();\n                }).catch(() => {\n                    enqueueSnackbar(t(\"unableAddTable\"), { variant: 'error' });\n                    reject();\n                })\n                })\n        }\n      })\n    }\n  \n    return <Zone title={t(\"default tables\")}>\n      {tables.map(table => <Button onClick={() => handleDeleteDefaultTable(table.name)} text={table.name} key={table.name} loading={loading===table.name} />)}\n  \n      <YesButton onClick={handleAddNewDefaultTable} text={t(\"AddNewFem\")} />\n    </Zone>;\n  }\n  ","import { palette } from \"../../../../palette\";\nimport Input from \"../../../../components/inputs/input/input\";\nimport { Formik, Form} from \"formik\";\nimport YesButton from \"../../../../components/buttons/yesButton/yesButton\";\nimport Button from \"../../../../components/buttons/button/button\";\nimport NoButton from \"../../../../components/buttons/noButton/noButton\";\nimport { useSnackbar } from 'notistack';\nimport { confirmContext } from \"../../../../contexts/confirmContext\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nexport default function Admin({admin, privacyFilter, deleteAdministrator, deleteAdministratorService}){\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    const confirm = React.useContext(confirmContext);\n    const { t, i18n } = useTranslation();\n\n    const handleDelete = () => {\n      confirm({\n        handleSuccess: () => {\n          deleteAdministratorService(admin.id).then(() => {\n            deleteAdministrator(admin.id);\n            enqueueSnackbar(t(\"adminDel\"), { variant: \"success\" });\n          }).catch(() => {\n            enqueueSnackbar(\"unableDelAdmin\", { variant: \"error\" });\n          });\n        },\n        handleCancel: () => {\n            enqueueSnackbar(\"adminNotDel\", { variant: \"success\" });\n        }});\n    }\n\n    return <div className='py-4'><Formik\n    initialValues={admin}\n    onSubmit={(values, { setSubmitting, setErrors}) => {\n      \n    }}\n  >\n    {({ isSubmitting }) => (\n      <Form>\n        \n        <div className='flex pt-2'>\n            <div className={`flex-grow ${privacyFilter? 'filter blur-sm': ''}`}>\n            <Input disabled name=\"email\"/>\n            </div>\n\n            <NoButton text={t(\"delete\")} onClick={handleDelete} disabled={isSubmitting} />\n        </div>\n\n        </Form>\n                \n    )}\n  </Formik></div>\n}","import {get, post, remove} from '../../../services/crudApi';\n\nconst getEndpoint = (restaurantId) => `/restaurants/${restaurantId}/administrators`;\n\nexport const getRestaurantAdministrators = (restaurantId) => {\n    return get(\n        getEndpoint(restaurantId),\n        (data, resolve, _) => resolve(data['administrators'])\n    );\n};\n\nexport const postRestaurantAdministrator = (restaurantId, email) => {\n    return post(\n        getEndpoint(restaurantId),\n        {\n            email: email\n        },\n        (data, resolve, _) => resolve(data['administrator'])\n    );\n};\n\n\nexport const deleteRestaurantAdministrator = (restaurantId, id) => {\n    return remove(\n        getEndpoint(restaurantId),\n        id\n    );\n}\n","import {useSnackbar} from 'notistack';\nimport { useCollectionState } from '../../../../hooks/useCollectionState/useCollectionState';\nimport React from 'react';\nimport { questionContext } from '../../../../contexts/questionContext';\nimport { useEffect } from 'react';\nimport Zone from '../zone/zone';\nimport YesButton from '../../../../components/buttons/yesButton/yesButton';\nimport Admin from '../admin/admin';\nimport { getRestaurantAdministrators, postRestaurantAdministrator, deleteRestaurantAdministrator } from '../../services/restaurantAdministrators';\nimport {useTranslation} from \"react-i18next\";\n\nexport const ZoneRestaurantAdministrators = ({ restaurantId, privacyFilter }) => {\n  const [administrators, setAdministrators, administratorUtils] = useCollectionState();\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n  const question = React.useContext(questionContext);\n  const { t, i18n } = useTranslation();\n\n  useEffect(() => {\n    getRestaurantAdministrators(restaurantId)\n      .then((administators) => setAdministrators(administators))\n      .catch(_ => enqueueSnackbar(t(\"unableGetAdmins\"), { variant: 'error' }))\n  }, [restaurantId]);\n\n  const handleNewAdministrator = () => {\n    question.prompt({\n      title: t(\"administratorEmail\"), description: t(\"descriptionAddAdmin\") ,\n      handleSubmit: (email) => {\n        return new Promise(function (resolve, reject) {\n          postRestaurantAdministrator(restaurantId, email).then((administrator) => {\n            administratorUtils.add(administrator);\n            enqueueSnackbar(t(\"addAdmin\"), { variant: 'success' });\n            resolve();\n          }).catch(() => {\n            enqueueSnackbar(t(\"unableAddAdmin\"), { variant: 'error' });\n            reject();\n          })\n        })\n      }, handleCancel: () => enqueueSnackbar(t(\"cancelled\"), { variant: 'warning' })\n    })\n  };\n\n  return <Zone title={t(\"restAdmins\")}>\n    <div className='grid grid-cols-1 divide-y divide-gray-500'>\n      {administrators.map(administrator => (\n        <Admin key={administrator.id} admin={administrator} privacyFilter={privacyFilter} deleteAdministrator={administratorUtils.remove}\n          deleteAdministratorService={(id) => deleteRestaurantAdministrator(restaurantId, id)} />\n      ))}\n    </div>\n    <div className='grid justify-items-center  pt-8'>\n      <YesButton onClick={handleNewAdministrator} text={t(\"AddNewMasc\")} w='w-64' />\n    </div>\n\n  </Zone>\n}\n","import React from \"react\";\nimport Zone from \"../zone/zone\";\nimport YesButton from \"../../../../components/buttons/yesButton/yesButton\";\nimport {useTranslation} from \"react-i18next\";\n\nexport const ZoneShortcuts = ({setView}) => {\n    const { t } = useTranslation();\n  \n    return <Zone title={t(\"shortcuts\")}>\n      <YesButton onClick={() => setView('stats')} text={t(\"statistics\")} />\n    </Zone>;\n  }\n  ","import {get, post, remove, patch} from '../../../services/crudApi';\n\nconst ENDPOINT = '/restaurants';\n\nexport const getRestaurants = () => {\n    return get(\n        ENDPOINT,\n        (data, resolve, _) => resolve(data['restaurants'])\n    );\n};\n\nexport const getRestaurant = (id) => {\n    return get(\n        `${ENDPOINT}/${id}`,\n        (data, resolve, _) => resolve(data['restaurant'])\n    );\n};\n\n\nexport const postRestaurant = (name) => {\n    return post(\n        ENDPOINT,\n        {\n            name: name\n        },\n        (data, resolve, _) => resolve(data['restaurant'])\n    );\n};\n\n\nexport const deleteRestaurant = (id) => {\n    return remove(\n        ENDPOINT,\n        id\n    );\n}\n\nexport const patchRestaurant = (id, data) => {\n    return patch(\n        ENDPOINT,\n        id,\n        data,\n        (data, resolve, _) => resolve(data['restaurant'])\n    );\n}\n\n","import Input from \"../../../../components/inputs/input/input\";\nimport { Formik, Form} from \"formik\";\nimport YesButton from \"../../../../components/buttons/yesButton/yesButton\";\nimport { useSnackbar } from 'notistack';\nimport { patchRestaurant } from \"../../services/restaurants\";\nimport {useTranslation} from \"react-i18next\";\n\nexport default function TimeProfile({restaurantId, prefix, onPatch, profileName, profileValue}){\n    const { enqueueSnackbar } = useSnackbar();\n    const { t, i18n } = useTranslation();\n\n    return <div className='py-4'><Formik\n    initialValues={{'profile': profileValue}}\n    enableReinitialize={true}\n    onSubmit={(values, { setSubmitting, setErrors}) => {\n      const newValue = values.profile;\n      patchRestaurant(restaurantId, {[profileName]: newValue}).then((newValue) => {\n        onPatch(newValue[profileName]);\n        setSubmitting(false);\n        enqueueSnackbar(t(\"timeProfSaved\"), { variant: \"success\" });\n      }, () => {\n        setErrors({comment: t(\"unableEndReq\")});\n        setSubmitting(false);\n      });\n    }}\n  >\n    {({ isSubmitting }) => (\n      <Form>\n        \n        <div className='flex pt-2'>\n            <div className='flex-grow'>\n            <Input name=\"profile\"/>\n            </div>\n            <YesButton text={`${t(\"save\")} ${t(prefix)}`} w={'w-32'} type=\"submit\" disabled={isSubmitting} loading={isSubmitting} />\n        </div>\n        </Form>\n                \n    )}\n  </Formik></div>\n}","import Zone from \"../zone/zone\";\nimport { postRestaurantAccessToken, deleteRestaurantAccessToken, patchRestaurantAccessToken, getRestaurantAccessTokens } from \"../../services/restaurantAccessTokens\";\nimport { useSnackbar } from \"notistack\";\nimport React from \"react\";\nimport { confirmContext } from \"../../../../contexts/confirmContext\";\nimport TimeProfile from \"../timeProfile/timeProfile\";\nimport { useState, useEffect } from \"react\";\nimport { getRestaurant } from \"../../services/restaurants\";\nimport {useTranslation} from \"react-i18next\";\n\nexport const ZoneTimeProfile = ({ restaurantId }) => {\n    const { enqueueSnackbar } = useSnackbar();\n    const [profiles, setProfiles] = useState({\n        'alarm_minutes': 20, //TODO ASK\n        'warning_minutes': 15\n    });\n    const { t, i18n } = useTranslation();\n\n    useEffect(() => {\n        getRestaurant(restaurantId)\n        .then(restaurant => setProfiles({\n            'alarm_minutes': restaurant.alarm_minutes,\n            'warning_minutes': restaurant.warning_minutes\n        }))\n        .catch(() => enqueueSnackbar(t(\"unableGetRest\"), {variant: 'error'}));\n    }, [restaurantId]);\n\n\n    return <Zone title={t(\"time profile\")}>\n        <div className='grid grid-cols-1 divide-y divide-gray-500 dark:divide-gray-100'>\n        <TimeProfile \n            onPatch={(minutes) => setProfiles({...profiles, 'alarm_minutes': minutes})}\n            restaurantId={restaurantId}\n            profileValue={profiles.alarm_minutes} \n            profileName={'alarm_minutes'}\n            prefix={'alarm'}\n        />\n\n        <TimeProfile \n            onPatch={(minutes) => setProfiles({...profiles, 'warning_minutes': minutes})}\n            restaurantId={restaurantId}\n            profileValue={profiles.warning_minutes} \n            profileName={'warning_minutes'}\n            prefix={'warning'}\n            />\n        </div>\n    </Zone>\n}","import React from \"react\";\nimport Zone from \"../zone/zone\";\nimport YesButton from \"../../../../components/buttons/yesButton/yesButton\";\nimport {useTranslation} from \"react-i18next\";\nimport { LineChart, XAxis, YAxis, Tooltip, Legend, Line } from \"recharts\";\nimport { themeContext, THEME_DARK } from '../../../../contexts/themeContext';\n\nexport const ZoneHistoric = ({ preparedData }) => {\n    const { t } = useTranslation();\n    const themeCtx = React.useContext(themeContext);\n\n      const fgColor = themeCtx.theme === THEME_DARK? '#ffffff': '#000000';\n\n    return <Zone title={t(\"historic-average-waiting-time\")}>\n      <LineChart width={730} height={250} data={preparedData}\n        margin={{ top: 5, right: 30, left: 20, bottom: 5 }}\n        >\n        <XAxis dataKey=\"date\" stroke={fgColor}/>\n        <YAxis dataKey=\"averageWaitingTime\"  stroke={fgColor} />\n        <Tooltip />\n        <Legend />\n        <Line type=\"monotone\" dataKey=\"averageWaitingTime\" stroke={fgColor}/>\n      </LineChart>\n    </Zone>;\n  }\n  ","import React from \"react\";\nimport Zone from \"../zone/zone\";\nimport YesButton from \"../../../../components/buttons/yesButton/yesButton\";\nimport {useTranslation} from \"react-i18next\";\nimport { BarChart, XAxis, YAxis, Tooltip, Legend, Bar } from \"recharts\";\nimport { themeContext, THEME_DARK } from '../../../../contexts/themeContext';\nimport {getHistoricStatsPerCourse} from \"../../services/statistics\";\n\n\nexport const ZonePerCourse = ({ restaurantId, preparedData }) => {\n    const { t } = useTranslation();\n    const themeCtx = React.useContext(themeContext);\n    const fgColor = themeCtx.theme === THEME_DARK? '#ffffff': '#000000';\n\n    return <Zone title={t(\"average-waiting-time-per-course\")}>\n          <BarChart width={730} height={250} data={preparedData}>\n      <XAxis dataKey=\"course\" />\n      <YAxis />\n      <Tooltip />\n      <Legend />\n      <Bar dataKey=\"waiting time (minutes)\" fill={fgColor} />\n    </BarChart>\n    </Zone>;\n  }\n  ","import React from \"react\";\nimport Zone from \"../zone/zone\";\nimport YesButton from \"../../../../components/buttons/yesButton/yesButton\";\nimport {useTranslation} from \"react-i18next\";\nimport { BarChart, XAxis, YAxis, Tooltip, Legend, Bar } from \"recharts\";\nimport { themeContext, THEME_DARK } from '../../../../contexts/themeContext';\n\nexport const ZoneFilters = ({onSearch, startDate, setStartDate, endDate, setEndDate, startTime, setStartTime, endTime, setEndTime  }) => {\n    const { t } = useTranslation();\n    \n    return <Zone>\n        <div className=\"flex items-center pb-2\">\n            <span className=\"mx-4 text-gray-500\">from</span>\n            <div className=\"relative\">\n\n                <input name=\"start\" type=\"date\"\n                       value={startDate}\n                       onChange={e => setStartDate(e.target.value)}\n                       className=\"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\"\n                       placeholder=\"Select date start\"/>\n            </div>\n            <span className=\"mx-4 text-gray-500\">to</span>\n            <div className=\"relative\">\n\n                <input name=\"end\" type=\"date\"\n                       value={endDate}\n                       onChange={e => setEndDate(e.target.value)}\n                       className=\"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\"\n                       placeholder=\"Select date end\"/>\n            </div>\n\n        </div>\n        <div className=\"flex items-center pb-2\">\n            <span className=\"mx-4 text-gray-500\">from</span>\n            <div className=\"relative\">\n\n                <input name=\"start\" type=\"time\"\n                       value={startTime}\n                       onChange={e => setStartTime(e.target.value)}\n                       className=\"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\"\n                       placeholder=\"Select date start\"/>\n            </div>\n            <span className=\"mx-4 text-gray-500\">to</span>\n            <div className=\"relative\">\n\n                <input name=\"end\" type=\"time\"\n                       value={endTime}\n                       onChange={e => setEndTime(e.target.value)}\n                       className=\"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\"\n                       placeholder=\"Select date end\"/>\n            </div>\n\n\n        </div>\n        <div>\n            <YesButton onClick={onSearch} text={t(\"Search\")} />\n        </div>\n    </Zone>;\n  }\n  ","import React from 'react';\nimport {ZoneHistoric} from './components/zoneHistoric/zoneHistoric';\nimport { ZonePerCourse } from './components/zonePerCourse/zonePerCourse';\nimport { ZoneFilters} from './components/zoneFilters/zoneFilters';\nimport {getHistoricStats, getHistoricStatsPerCourse} from \"./services/statistics\";\n\nconst round = (value, decimalPlaces = 0) => {\n    const multiplier = Math.pow(10, decimalPlaces);\n    return Math.round(value * multiplier + Number.EPSILON) / multiplier;\n};\n\n\nfunction AdminDashboardPageRestaurantStatistics({ restaurant }) {\n  const [startDate, setStartDate] = React.useState(\"2001-01-01\")\n  const [endDate, setEndDate] = React.useState(\"3001-01-01\")\n  const [startTime, setStartTime] = React.useState(\"00:00\")\n    const [endTime, setEndTime] = React.useState(\"23:59\")\n    const [preparedData, setPreparedData] = React.useState([]);\n  const [preparedDataHistoric, setPreparedDataHistoric] = React.useState([]);\n\n  const onSearch = () => {\n      if (restaurant.id === undefined || startDate === \"\" || endDate === \"\" || startTime === \"\" || endTime === \"\") return;\n\n      getHistoricStatsPerCourse(restaurant.id, startTime, endTime, startDate, endDate).then(data => {\n          const preparedData = Object.entries(data).map(d => ({\n          \"course\": d[0],\n          \"waiting time (minutes)\": round(d[1] / 60, 2) // to minutes\n          }));\n          setPreparedData(preparedData)\n      })\n\n      getHistoricStats(restaurant.id, startTime, endTime, startDate, endDate).then(data => {\n          const preparedData = Object.entries(data).map(d => ({\n        \"date\": d[0],\n        \"averageWaitingTime\": d[1] / 60  // to minutes\n\n      }));\n          setPreparedDataHistoric(preparedData)\n      })\n  }\n\n  return <React.Fragment>\n    <ZoneFilters onSearch={onSearch} startDate={startDate} endDate={endDate} setStartDate={setStartDate} setEndDate={setEndDate} startTime={startTime} endTime={endTime} setStartTime={setStartTime} setEndTime={setEndTime}/>\n    <ZoneHistoric restaurantId={restaurant.id} preparedData={preparedDataHistoric}/>\n    <ZonePerCourse preparedData={preparedData}  restaurantId={restaurant.id} />\n  </React.Fragment>\n}\n\nexport default AdminDashboardPageRestaurantStatistics;\n\n","import { get } from '../../../services/crudApi';\n\nconst getHistoricStatsPerCourseEndpoint = (restaurantId, startTime, endTime, startDate, endDate) => `/statistics/waitingTime/courses?startTime=${startTime}&endTime=${endTime}&startDate=${startDate}&endDate=${endDate}&restaurantId=${restaurantId}`;\n\nexport const getHistoricStatsPerCourse = (restaurantId, startTime, endTime, startDate, endDate) => {\n    return get(\n        getHistoricStatsPerCourseEndpoint(restaurantId, startTime, endTime, startDate, endDate),\n        (data, resolve, _) => resolve(data['average'])\n    );\n};\n\n\nconst getHistoricStatsEndpoint = (restaurantId, startTime, endTime, startDate, endDate) => `/statistics/waitingTime/historic?startTime=${startTime}&endTime=${endTime}&startDate=${startDate}&endDate=${endDate}&restaurantId=${restaurantId}`;\n\nexport const getHistoricStats = (restaurantId, startTime, endTime, startDate, endDate) => {\n    return get(\n        getHistoricStatsEndpoint(restaurantId, startTime, endTime, startDate, endDate),\n        (data, resolve, _) => resolve(data['average'])\n    );\n};\n\n","import React from 'react';\nimport { userContext } from '../../contexts/userContext';\nimport { ZoneAccessTokens } from './components/zoneAccessTokens/zoneAccessTokens';\nimport { ZoneDefaultTables } from './components/zoneDefaultTables/zoneDefaultTables';\nimport { ZoneRestaurantAdministrators } from './components/zoneRestaurantAdministrators/zoneRestaurantAdministrators';\nimport { ZoneShortcuts } from './components/zoneShortcuts/zoneShortcuts';\nimport { ZoneTimeProfile } from './components/zoneTimeProfile/zoneTimeProfile';\nimport { useState } from 'react';\nimport AdminDashboardPageRestaurantStatistics from './adminDashboardPageRestaurantStatistics';\n\nconst VIEW_HOME = 'home';\nconst VIEW_STATISTICS = 'stats';\n\nfunction AdminDashboardPageRestaurant({ privacyFilter, restaurant }) {\n  const userCtx = React.useContext(userContext);\n  const [view, setView] = useState(VIEW_HOME);\n\n  if (view === VIEW_HOME){\n    return <React.Fragment>\n    <ZoneShortcuts setView={setView}/>\n    <ZoneDefaultTables restaurantId={restaurant.id} />\n    <ZoneAccessTokens privacyFilter={privacyFilter}  restaurantId={restaurant.id} />\n    <ZoneTimeProfile restaurantId={restaurant.id} />\n    {userCtx.isSuperAdminLoggedIn && <ZoneRestaurantAdministrators privacyFilter={privacyFilter} restaurantId={restaurant.id} />}\n  </React.Fragment>\n  } \n  if (view === VIEW_STATISTICS){\n    return <React.Fragment>\n      <AdminDashboardPageRestaurantStatistics restaurant={restaurant} />\n    </React.Fragment>\n  }\n  return <React.Fragment>404 - view does not exist</React.Fragment>\n}\n\nexport default AdminDashboardPageRestaurant;\n\n","import {get, post, remove} from '../../../services/crudApi';\n\nconst ENDPOINT = '/administrators/super';\n\nexport const getSuperAdministrators = () => {\n    return get(\n        ENDPOINT,\n        (data, resolve, _) => resolve(data['administrators'])\n    );\n};\n\nexport const postSuperAdministrator = (email) => {\n    return post(\n        ENDPOINT,\n        {\n            email: email\n        },\n        (data, resolve, _) => resolve(data['administrator'])\n    );\n};\n\n\nexport const deleteSuperAdministrator = (id) => {\n    return remove(\n        ENDPOINT,\n        id\n    );\n}\n","import {useSnackbar} from 'notistack';\nimport { useCollectionState } from '../../../../hooks/useCollectionState/useCollectionState';\nimport React from 'react';\nimport { questionContext } from '../../../../contexts/questionContext';\nimport { useEffect } from 'react';\nimport Zone from '../zone/zone';\nimport YesButton from '../../../../components/buttons/yesButton/yesButton';\nimport Admin from '../admin/admin';\nimport { getSuperAdministrators, postSuperAdministrator, deleteSuperAdministrator } from '../../services/superAdministrators';\nimport { useTranslation } from 'react-i18next';\n\nexport const ZoneRootAdministrators = ({ privacyFilter }) => {\n  const [administrators, setAdministrators, administratorUtils] = useCollectionState();\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n  const question = React.useContext(questionContext);\n  const { t, i18n } = useTranslation();\n\n  useEffect(() => {\n    getSuperAdministrators()\n      .then((administators) => setAdministrators(administators))\n      .catch(_ => enqueueSnackbar(t(\"unableGetRAdmin\"), { variant: 'error' }))\n  }, []);\n\n  const handleNewAdministrator = () => {\n    question.prompt({\n      title: t(\"administratorEmail\"), description: t(\"descriptionAddRAdmin\"),\n      handleSubmit: (email) => {\n        return new Promise(function (resolve, reject) {\n          postSuperAdministrator(email).then((administrator) => {\n            administratorUtils.add(administrator);\n            enqueueSnackbar(t(\"addRAdmin\"), { variant: 'success' });\n            resolve();\n          }).catch(() => {\n            enqueueSnackbar(t(\"unableAddRAdmin\"), { variant: 'error' });\n            reject();\n          })\n        })\n      }, handleCancel: () => enqueueSnackbar(t(\"cancelled\"), { variant: 'warning' })\n    })\n  };\n\n  return <Zone title={t(\"rAdmins\")}>\n    <div className='grid grid-cols-1 divide-y divide-gray-500'>\n      {administrators.map(administrator => (\n        <Admin key={administrator.id} admin={administrator} privacyFilter={privacyFilter} \n        deleteAdministrator={administratorUtils.remove}\n        deleteAdministratorService={deleteSuperAdministrator}\n        />\n      ))}\n    </div>\n    <div className='grid justify-items-center  pt-8'>\n      <YesButton onClick={handleNewAdministrator} text={t(\"ADD NEW\")} w='w-64'/>\n    </div>\n\n  </Zone>\n}\n","import { palette } from \"../../../../palette\";\nimport Input from \"../../../../components/inputs/input/input\";\nimport { Formik, Form} from \"formik\";\nimport YesButton from \"../../../../components/buttons/yesButton/yesButton\";\nimport Button from \"../../../../components/buttons/button/button\";\nimport NoButton from \"../../../../components/buttons/noButton/noButton\";\nimport { useSnackbar } from 'notistack';\nimport { confirmContext } from \"../../../../contexts/confirmContext\";\nimport React from \"react\";\nimport { patchRestaurant as patchRestaurantService, deleteRestaurant as deleteRestaurantService, patchRestaurant } from \"../../services/restaurants\";\nimport {useTranslation} from \"react-i18next\";\n\nexport default function Restaurant({restaurant, setRestaurant, patchRestaurant, deleteRestaurant}){\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    const confirm = React.useContext(confirmContext);\n    const { t, i18n } = useTranslation();\n\n    const handleDelete = () => {\n      confirm({\n        handleSuccess: () => {\n          deleteRestaurantService(restaurant.id).then(() => {\n              deleteRestaurant(restaurant.id);\n              enqueueSnackbar(t(\"restDel\"), { variant: \"success\" });\n            }).catch(() => {\n              enqueueSnackbar(t(\"unableDelRest\"), { variant: \"error\" });\n            })\n            \n        },\n        handleCancel: () => {\n            enqueueSnackbar(t(\"restNotDel\"), { variant: \"success\" });\n        }});\n    }\n\n    const handleGoToAdmin = () => setRestaurant(restaurant);\n\n\n    return <div className='py-4'><Formik\n    initialValues={restaurant}\n    onSubmit={(values, { setSubmitting, setErrors}) => {\n       patchRestaurantService(restaurant.id, {'name': values.name}).then((newRestaurant) => {\n         patchRestaurant(restaurant.id, newRestaurant);\n         setSubmitting(false);\n         enqueueSnackbar(t(\"NameSaved\"), { variant: \"success\" });\n       }, () => {\n         setErrors({comment: t(\"unableEndReq\")});\n         setSubmitting(false);\n       });\n    }}\n  >\n    {({ isSubmitting }) => (\n      <Form>\n        \n        <div className='flex pt-2'>\n            <div className='flex-grow'>\n            <Input name=\"name\"/>\n            </div>\n\n            <NoButton text={t(\"delete\")} onClick={handleDelete} disabled={isSubmitting} />\n            <YesButton text={t(\"save\")} type=\"submit\" disabled={isSubmitting} loading={isSubmitting} />\n            <Button text={t(\"admin\")} onClick={handleGoToAdmin} disabled={isSubmitting} />\n        </div>\n\n        </Form>\n                \n    )}\n  </Formik></div>\n}","import React from \"react\";\nimport Zone from \"../zone/zone\";\nimport Restaurant from \"../restaurant/restaurant\";\nimport YesButton from \"../../../../components/buttons/yesButton/yesButton\";\nimport { useEffect } from \"react\";\nimport { useCollectionState } from \"../../../../hooks/useCollectionState/useCollectionState\";\nimport { useSnackbar} from 'notistack';\nimport { questionContext } from \"../../../../contexts/questionContext\";\nimport { getRestaurants, postRestaurant } from \"../../services/restaurants\";\nimport {useTranslation} from \"react-i18next\";\n\nexport const ZoneRestaurants = ({ setRestaurant }) => {\n    const [restaurants, setRestaurants, restaurantsUtils] = useCollectionState();\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    const question = React.useContext(questionContext);\n    const { t, i18n } = useTranslation();\n\n    useEffect(() => {\n      getRestaurants()\n        .then((restaurants) => setRestaurants(restaurants))\n        .catch(_ => enqueueSnackbar(t(\"unableGetRests\"), { variant: 'error' }))\n    }, []);\n  \n    const handleNewRestaurant = () => {\n      question.prompt({\n        title: t(\"restName\"), description: t(\"newRestDescription\"),\n        handleSubmit: (name) => {\n          return new Promise(function (resolve, reject) {\n            postRestaurant(name).then((restaurant) => {\n              restaurantsUtils.add(restaurant);\n              enqueueSnackbar(t(\"addRest\"), { variant: 'success' });\n              resolve();\n            }).catch(() => {\n              enqueueSnackbar(t(\"unableAddRest\"), { variant: 'error' });\n              reject();\n            })\n          })\n        }, handleCancel: () => enqueueSnackbar(t(\"cancelled\"), { variant: 'warning' })\n      })\n    };\n  \n    return <Zone title={t(\"restaurants\")}>\n      <div className='grid grid-cols-1 divide-y divide-gray-500'>\n        {restaurants.map(restaurant => (\n          <Restaurant key={restaurant.id} patchRestaurant={restaurantsUtils.patch} deleteRestaurant={restaurantsUtils.remove} restaurant={restaurant} setRestaurant={setRestaurant} />\n        ))}\n      </div>\n      <div className='grid justify-items-center pt-8'>\n        <YesButton onClick={handleNewRestaurant} text={t(\"AddNewMasc\")} w='w-64' />\n      </div>\n  \n    </Zone>\n  }\n  ","import React, { useEffect } from 'react';\nimport { ZoneRootAdministrators } from './components/zoneRootAdministrators/zoneRootAdministrators';\nimport { ZoneRestaurants } from './components/zoneRestaurants/zoneRestaurants';\n\nfunction AdminDashboardPageSuper({ privacyFilter, setRestaurant }) {\n  return <React.Fragment>\n    <ZoneRestaurants setRestaurant={setRestaurant} />\n    <ZoneRootAdministrators privacyFilter={privacyFilter} />\n  </React.Fragment>\n}\n\nexport default AdminDashboardPageSuper;\n\n","import React from 'react';\n\n\nexport default function BackToRootButton({handleClick}) {\n    return <div className='p-2 inline-block'><div onClick={handleClick} className=\"flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full cursor-pointer bg-gray-100 hover:bg-gray-200 sm:h-8 sm:w-8\">\n         <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6 text-gray-900\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n         <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z\" />\n</svg>\n    </div></div>;\n}","import ThemeButton from '../../components/themeButton/themeButton';\nimport LanguageButton from '../../components/languageButton/languageButton';\nimport { palette } from '../../palette';\nimport { useEffect, useState } from 'react';\nimport React from 'react';\nimport PrivacyButton from './components/privacyButton/privacyButton';\nimport SignOutButton from './components/signOutButton/signOutButton';\nimport { userContext } from '../../contexts/userContext';\nimport AdminDashboardPageRestaurant from './adminDashboardPageRestaurant';\nimport AdminDashboardPageSuper from './adminDashboardPageSuper';\nimport BackToRootButton from './components/backToRootButton/backToRootButton';\n\n\nfunction AdminDashboardPage() {\n  const userCtx = React.useContext(userContext);\n\n  const [privacyFilter, setPrivacyFilter] = useState(true);\n  const [restaurant, setRestaurant] = useState(null);\n\n  useEffect(() => {\n    if (userCtx.params.restaurantId === null) {\n      setRestaurant(null);\n      return;\n    }\n    setRestaurant({\n      id: userCtx.params.restaurantId,\n      name: userCtx.params.restaurantName\n    })\n  }, [userCtx.params])\n\n  return <div>\n    <div className='p-2 pl-8 pr-8'>\n      <div className='inline-block'>\n        <p className={`font-mono text-4xl ${palette.text}`}>\n          {userCtx.isSuperAdminLoggedIn && restaurant === null ? 'root admin' : restaurant.name ?? '...'}\n        </p>\n      </div>\n      <div className='float-right'>\n        {(userCtx.isSuperAdminLoggedIn && restaurant !== null) && <BackToRootButton handleClick={() => setRestaurant(null)} />}\n        <ThemeButton />\n        <LanguageButton />\n        <PrivacyButton privacyFilter={privacyFilter} setPrivacyFilter={setPrivacyFilter} />\n        <SignOutButton />\n      </div>\n    </div>\n\n    <div className='inline-block w-full'>\n      { (userCtx.isRestaurantAdminLoggedIn || restaurant !== null) \n          ? <AdminDashboardPageRestaurant privacyFilter={privacyFilter} restaurant={restaurant} />\n          : <AdminDashboardPageSuper privacyFilter={privacyFilter} setRestaurant={setRestaurant} />}\n    </div>\n  </div>\n}\n\nexport default AdminDashboardPage;\n\n","import {GoogleLogin} from 'react-google-login';\nimport React from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { useHistory } from \"react-router-dom\";\nimport { useSnackbar } from 'notistack';\nimport { userContext } from '../../contexts/userContext';\nimport { attemptLogin } from './services/loginWithGoogle';\nimport {useTranslation} from \"react-i18next\";\n\nconst clientId = process.env.REACT_APP_GOOGLE_CLIENT_ID;\n\nfunction LoginPage() {\n  const { enqueueSnackbar } = useSnackbar();\n  const userCtx = React.useContext(userContext);\n  \n  let history = useHistory();\n  const location = useLocation();\n  const { t, i18n } = useTranslation();\n  \n  const onSuccess = (res) => {\n    attemptLogin(res.tokenObj.id_token)\n    .then(([loggedIn, data]) => {\n      if (!loggedIn){\n        enqueueSnackbar(t(\"userNotExist\"), {variant: 'warning'});\n        return;\n      }\n      userCtx.setType(data.type);\n      userCtx.setParams(data);\n      const {from} = location.state || {from: {pathname: \"/admin\"}};\n      history.push(from);\n      enqueueSnackbar(t(\"logIn\"), {variant: 'success'});\n    })\n    .catch(() => {\n      enqueueSnackbar(t(\"unableLogInServer\"), {variant: 'error'});\n    })\n  }\n  \n  const onFailure = (res) => {\n    enqueueSnackbar(t(\"unableLogInGoogle\"), {variant: 'error'});\n  }\n\n  return <div className=\"flex items-center justify-center h-screen\">\n    <GoogleLogin\n      clientId={clientId}\n      buttonText={t(\"Login\")}\n      onSuccess={onSuccess}\n      onFailure={onFailure}\n      cookiePolicy={'single_host_origin'} />\n  </div>;\n}\n\nexport default LoginPage;","import { authHeader } from \"../../../helpers/csrfCookieHeader\";\nimport axios from \"axios\";\n\nexport const attemptLogin = (token) => {\n    return new Promise(function(resolve, reject) {\n        axios({url: `${process.env.REACT_APP_BACKEND_URL}/auth/v1/login/google`,\n            method: 'POST',\n            auth: {\n                username: '',\n                password: token\n            },\n            headers: {'Cache-Control': 'no-cache', ...authHeader()}\n        })\n        .then(res => resolve([true, res.data]))\n        .catch(function (res) {\n            try { if (res[\"response\"][\"status\"] === 401) resolve(false) } catch(err){}\n            reject(res);\n        });\n    });\n}\n\n","import './App.css';\nimport React, { useState } from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport NotFoundPage from \"./pages/notFoundPage/notFoundPage\";\nimport PrivateRoute from \"./helpers/privateRoute\";\nimport RestaurantDashboardPage from \"./pages/restaurantDashboardPage/restaurantDashboardPage\";\nimport { userContext } from './contexts/userContext';\nimport AdminDashboardPage from \"./pages/adminDashboardPage/adminDashboardPage\";\nimport LoginPage from \"./pages/loginPage/loginPage\";\nimport { BaseConfirmContextProvider } from './contexts/confirmContext';\nimport { ThemeContextProvider } from './contexts/themeContext';\nimport { palette } from './palette';\nimport { LanguageContextProvider } from './contexts/languageContext';\nimport { QuestionContextProvider } from './contexts/questionContext';\nimport { SnackbarProvider } from 'notistack';\nimport { TYPE_SUPER_ADMIN, TYPE_RESTAURANT_ADMIN } from './contexts/userContext';\nimport { UserContextProvider } from './contexts/userContext';\nfunction App() {\n    const routerRef = React.createRef();\n\n    return (\n        <ThemeContextProvider>\n            <div className={`App ${palette.bg} min-h-screen min-w-screen`}>\n                <LanguageContextProvider>\n                    <SnackbarProvider>\n                        <UserContextProvider>\n                            <BaseConfirmContextProvider>\n                                <QuestionContextProvider>\n                                    <BrowserRouter ref={routerRef} basename=\"/app\">\n                                        <Switch>\n                                            <PrivateRoute path={'/admin'} baseRouter={routerRef}\n                                                component={AdminDashboardPage}\n                                                type={[TYPE_RESTAURANT_ADMIN, TYPE_SUPER_ADMIN]}\n                                            />\n                                            <Route path={'/restaurant'}\n                                                component={RestaurantDashboardPage} />\n                                            <Route path={'/login'}\n                                                component={LoginPage} />\n                                            <Route\n                                                component={NotFoundPage} />\n                                        </Switch>\n                                    </BrowserRouter>\n                                </QuestionContextProvider>\n                            </BaseConfirmContextProvider>\n                        </UserContextProvider>\n                    </SnackbarProvider>\n                </LanguageContextProvider>\n\n            </div>\n        </ThemeContextProvider>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport './i18n';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}