{"version":3,"sources":["i18n.js","translations/en.js","translations/es.js","pages/notFoundPage/notFoundPage.js","contexts/userContext.js","helpers/privateRoute.js","components/card/card.js","pages/restaurantDashboardPage/components/tableCard/baseCard.js","helpers/numberPadding.js","pages/restaurantDashboardPage/components/stopWatch/_timeToString.js","pages/restaurantDashboardPage/components/stopWatch/stopWatch.js","hooks/useElapsedTime/useElapsedTime.js","palette.js","components/modal/modal.js","components/buttons/button/button.js","components/buttons/noButton/noButton.js","components/textActionsModal/textActionsModal.js","components/confirmModal/confirmModal.js","contexts/confirmContext.js","components/buttons/yesButton/yesButton.js","pages/restaurantDashboardPage/components/actionMenu/actionMenu.js","pages/restaurantDashboardPage/components/tableCard/tableCard.js","components/inputs/input/input.js","components/questionModal/questionModal.js","contexts/questionContext.js","pages/restaurantDashboardPage/components/newTableMenu/newTableMenu.js","pages/restaurantDashboardPage/components/tableCard/newTableCard.js","pages/restaurantDashboardPage/components/sortButton/sortButton.js","contexts/themeContext.js","components/themeButton/themeButton.js","contexts/languageContext.js","components/languageButton/languageButton.js","pages/restaurantDashboardPage/hooks/useAccessToken/useAccessToken.js","helpers/csrfCookieHeader.js","pages/restaurantDashboardPage/hooks/useLoginWithAccessToken/useLoginWithAccessToken.js","pages/restaurantDashboardPage/services/loginWithAccessToken.js","pages/restaurantDashboardPage/contexts/realtimeService/realtimeServiceContext.js","pages/restaurantDashboardPage/contexts/realtimeService/_socketService.js","pages/restaurantDashboardPage/restaurantDashboardPage.js","pages/adminDashboardPage/components/zone/zone.js","pages/adminDashboardPage/components/accessUrl/accessUrl.js","pages/adminDashboardPage/components/privacyButton/privacyButton.js","pages/adminDashboardPage/components/signOutButton/signOutButton.js","pages/adminDashboardPage/services/logout.js","pages/adminDashboardPage/components/admin/admin.js","pages/adminDashboardPage/adminDashboardPageRestaurant.js","pages/adminDashboardPage/components/restaurant/restaurant.js","pages/adminDashboardPage/adminDashboardPageSuper.js","pages/adminDashboardPage/services/restaurants.js","pages/adminDashboardPage/components/backToRootButton/backToRootButton.js","pages/adminDashboardPage/adminDashboardPage.js","pages/loginPage/loginPage.js","pages/loginPage/services/loginWithGoogle.js","App.js","reportWebVitals.js","index.js"],"names":["resources","en","translation","es","i18n","use","initReactI18next","init","lng","interpolation","escapeValue","NotFoundPage","TYPE_RESTAURANT_ADMIN","TYPE_SUPER_ADMIN","userContext","React","createContext","type","setType","params","setParams","loggedIn","isRestaurantAdminLoggedIn","isSuperAdminLoggedIn","UserContextProvider","children","useState","contextProvider","Provider","value","PrivateRoute","Component","component","rest","userCtx","useContext","render","props","includes","to","pathname","state","from","location","defaultAttributes","Card","attributes","className","clsx","BaseCard","twoPadding","number","n","String","padStart","nPadding","ALLOWED_PRECISIONS","timeToString","elapsedTime","precision","map","hh","mm","ss","ms","StopWatch","delta","startTime","refreshIntervalMs","startDate","now","setNow","useEffect","ticker","setInterval","Date","clearInterval","useElapsedMs","elapsedMs","Math","floor","palette","Modal","handleHide","bgOverlay","bgOpacity","bg","z","disabled","role","onClick","Button","text","bgColor","textColor","ring","border","w","loading","NoButton","TextActionsModal","title","description","actions","icon","id","ConfirmModal","cancel","confirm","handleSuccess","handleCancel","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","Fragment","confirmContext","BaseConfirmContextProvider","showConfirmDialog","setShowConfirmDialog","handleHideConfirmDialog","undefined","confirmHandler","setConfirmHandler","YesButton","ActionMenu","table","handleShow","lastCourseDatetime","getHours","getMinutes","nextCourse","TableCard","status","showActionMenu","setShowActionMenu","handleShowActionMenu","theme","fg","Input","name","label","lead","trail","placeholder","field","form","meta","touched","errors","for","error","QuestionModal","handleSubmit","_","Promise","resolve","initialValues","question","onSubmit","values","setSubmitting","setErrors","then","isSubmitting","questionContext","prompt","QuestionContextProvider","showDialog","setShowDialog","handleHideDialog","handleShowDialog","handlers","setHandlers","console","log","reject","finally","NewTableMenu","addNewTable","existingTableNumbers","handleNewTable","tableNumber","setTimeout","setLoading","result","filter","tableName","NewTableCard","useTranslation","t","showNewTableMenu","setShowNewTableMenu","handleShowNewTableMenu","SORT_PRIORITY","SORT_NUMBER_ASCENDING","SORT_NUMBER_DESCENDING","SORTS","SortButton","sort","setSort","indexOf","length","THEME_LIGHT","THEME_DARK","THEMES","LOCALSTORAGE_THEME","themeContext","setTheme","setLight","setDark","toggle","isLight","isDark","ThemeContextProvider","localStorage","getItem","_setTheme","newTheme","Error","setItem","ThemeButton","themeCtx","LANGUAGE_EN","LANGUAGES","LOCALSTORAGE_LANGUAGE","languageContext","language","setLanguage","LanguageContextProvider","localStorageLanguage","_setLanguage","newLanguage","changeLanguage","LanguageButton","languageCtx","authHeader","Cookies","get","useLoginWithAccessToken","restaurantId","accessToken","useSnackbar","enqueueSnackbar","closeSnackbar","setLoggedIn","axios","url","process","method","auth","username","password","headers","catch","res","err","attemptLogin","isValid","variant","realtimeServiceContext","tables","restaurant","RealtimeServiceContextProvider","search","useLocation","URLSearchParams","useAccessToken","socket","socketIOClient","on","data","disconnect","startSocket","restautant","sortProviders","table1","table2","_RestaurantDashboardPage","random","this","_tables","hours","date","setFullYear","setHours","toString","trunc","_setTables","setTables","newTables","RestaurantDashboardPage","Zone","AccessUrl","privacyFilter","accessUrl","handleCopyUrlToClipboard","navigator","clipboard","writeText","comment","PrivacyButton","setPrivacyFilter","SignOutButton","history","useHistory","signOut","useGoogleLogout","clientId","onLogoutSuccess","push","onLogoutFailure","Admin","admin","handleDelete","AdminDashboardPageRestaurant","defaultTables","setDefaultTables","x","handleDeleteDefaultTable","email","Restaurant","setRestaurant","handleGoToAdmin","AdminDashboardPageSuper","setRestaurants","restaurants","BackToRootButton","AdminDashboardPage","restaurantName","LoginPage","buttonText","onSuccess","token","tokenObj","id_token","onFailure","cookiePolicy","App","routerRef","createRef","ref","basename","path","baseRouter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6d2633da.chunk.js","sourcesContent":["import i18n from \"i18next\";\r\nimport { initReactI18next } from \"react-i18next\";\r\nimport { en } from \"./translations/en\";\r\nimport { es } from \"./translations/es\";\r\n\r\nconst resources = {\r\n  en: {\r\n    translation: en\r\n  },\r\n  es: {\r\n    translation: es\r\n  }\r\n};\r\n\r\ni18n\r\n  .use(initReactI18next) // passes i18n down to react-i18next\r\n  .init({\r\n    resources,\r\n    lng: 'en',  // use i18n.changeLanguage to change it dynamically\r\n    interpolation: {\r\n      escapeValue: false // react already safes from xss\r\n    }\r\n  });\r\n\r\n  export default i18n;","export const en = {\r\n    \"new\": \"new\"\r\n};","export const es = {\r\n    \"new\": \"nuevo\"\r\n};","function NotFoundPage() {\r\n  return \"Not found\"\r\n}\r\n\r\nexport default NotFoundPage;","import React, { useState } from \"react\";\r\n\r\n\r\nexport const TYPE_ACCESS_TOKEN = 'accessToken';\r\nexport const TYPE_RESTAURANT_ADMIN = 'restaurantAdmin';\r\nexport const TYPE_SUPER_ADMIN = 'superAdmin';\r\n\r\nexport const userContext = React.createContext(\r\n    {\r\n        type: null,\r\n        setType: (type) => {},\r\n        params: {},\r\n        setParams: (params) => {},\r\n        loggedIn: false,\r\n        isRestaurantAdminLoggedIn: false,\r\n        isSuperAdminLoggedIn: false,\r\n    }\r\n);\r\n\r\nexport const UserContextProvider = ({ children }) => {\r\n    const [type, setType] = useState(null);\r\n    const [params, setParams] = useState({});\r\n\r\n    const loggedIn = type !== null;\r\n    const isRestaurantAdminLoggedIn = type === TYPE_RESTAURANT_ADMIN;\r\n    const isSuperAdminLoggedIn = type === TYPE_SUPER_ADMIN;\r\n\r\n    const contextProvider = {\r\n      type: type,\r\n      setType: setType,\r\n      params: params,\r\n      setParams: setParams,\r\n      loggedIn: loggedIn,\r\n      isRestaurantAdminLoggedIn: isRestaurantAdminLoggedIn,\r\n      isSuperAdminLoggedIn: isSuperAdminLoggedIn\r\n    };\r\n\r\n    return <userContext.Provider value={contextProvider}>\r\n        {children}\r\n    </userContext.Provider>;\r\n}\r\n","import {Redirect, Route} from 'react-router-dom';\r\nimport React from \"react\";\r\nimport {userContext} from '../contexts/userContext';\r\n\r\nfunction PrivateRoute({ component: Component, type = null, ...rest }) {\r\n    const userCtx = React.useContext(userContext);\r\n    return (\r\n        <Route {...rest} render={props =>\r\n        {\r\n          if (!userCtx.loggedIn || (type !== null && !type.includes(userCtx.type))) {\r\n            // not logged in so redirect to login page with the return url\r\n            return <Redirect to={{ pathname: `/login`, state: { from: props.location } }} />\r\n            }\r\n\r\n            // authorised so return component\r\n            return <Component {...props} {...rest}/>\r\n      }}/>\r\n    );\r\n}\r\n\r\n\r\nexport default PrivateRoute;","import clsx from 'clsx';\r\n\r\n/**\r\n * Card component\r\n *\r\n * a surface with shadow, padding and margin\r\n */\r\n\r\nconst defaultAttributes = {\r\n      'p-6': true,\r\n      'm-4': true,\r\n      'max-w-sm': false,\r\n      'bg-white': true,\r\n      'inline-block': false,\r\n      'rounded-md': true,\r\n      'shadow-lg': true,\r\n      'overflow-auto': true,\r\n    };\r\nfunction Card({\r\n    attributes=defaultAttributes,\r\n    children=null,\r\n    ...props\r\n    }) {\r\n  return <div className={clsx({...defaultAttributes, ...attributes})} {...props}>\r\n          {children}\r\n   </div>;\r\n}\r\n\r\nexport default Card;","import Card from '../../../../components/card/card';\r\n\r\nconst defaultAttributes = {\r\n   'flex-grow w-full sm:w-1/2 lg:w-1/3 xl:w-1/4': true,\r\n   'h-36': true,\r\n   'cursor-pointer': true,\r\n   'transform transition': true,\r\n   'select-none': true\r\n};\r\n\r\nfunction BaseCard({\r\n   attributes=defaultAttributes,\r\n   ...props\r\n}) {\r\n   return <Card attributes={{...defaultAttributes, ...attributes}} {...props}/>;\r\n}\r\n\r\nexport default BaseCard;","/**\r\n * nPaddinng pads a number to n digits (e.g. 1 -> 001 for n=3)\r\n * \r\n * @param number, a number \r\n * @param n, the padding required \r\n * @returns the number with as many leading zeros as needed for it to be of the minimum length >= n\r\n */\r\nexport const nPadding = (number, n) => {\r\n    if (n <= 0) throw `n must be > 0, '${n}' is an invalid padding`;\r\n\r\n    return String(number).padStart(n, '0');\r\n}\r\n\r\n/**\r\n * twoPadding pads a number to two digits (e.g. 1 -> 01)\r\n * \r\n * @param number, a number \r\n * @returns the number with as many leading zeros as needed for it to be of the minimum length >= 2\r\n */\r\nexport const twoPadding = (number) => nPadding(number, 2);","import {twoPadding} from '../../../../helpers/numberPadding';\r\n\r\nconst ALLOWED_PRECISIONS = ['hours', 'minutes', 'seconds', 'milliseconds'];\r\nexport const timeToString = (elapsedTime, precision) => {\r\n    if (!ALLOWED_PRECISIONS.includes(precision)) throw `precision '${precision}' is not a valid precision; must be one of ${ALLOWED_PRECISIONS}`;\r\n\r\n    const [hh, mm, ss, ms] = elapsedTime.map(twoPadding);\r\n\r\n    switch (precision) {\r\n        case ALLOWED_PRECISIONS[0]:\r\n            return hh;\r\n        case ALLOWED_PRECISIONS[1]:\r\n            return `${hh}:${mm}`;\r\n        case ALLOWED_PRECISIONS[2]:\r\n            return `${hh}:${mm}:${ss}`;\r\n        case ALLOWED_PRECISIONS[3]:\r\n            return `${hh}:${mm}:${ss}:${ms}`;\r\n    }\r\n}","import { useElapsedMs, msToTime } from '../../../../hooks/useElapsedTime/useElapsedTime';\r\nimport { timeToString } from './_timeToString';\r\n\r\n/**\r\n * \r\n * @param startTime, required, the Date to count from \r\n * @param refreshIntervalMs, optional, the refresh frequency of the clock\r\n * @param precision, optional, the precision of the clock ('hours', 'minutes', 'seconds' or 'miliseconds')\r\n * @returns a string up to the required precision\r\n */\r\nexport function StopWatch({\r\n    startTime,\r\n    refreshIntervalMs = 1000,\r\n    precision = 'seconds'\r\n}) {\r\n    const [elapsedMs] = useElapsedMs(startTime, refreshIntervalMs);\r\n    const elapsedTime = msToTime(elapsedMs);\r\n    return <span>\r\n        {timeToString(elapsedTime, precision)}\r\n    </span>;\r\n}\r\n","import { useState, useEffect } from 'react';\r\n\r\n/**\r\n * msToTime returns the proper time in hours, minutes, seconds and milliseconds from a given ms delta\r\n * \r\n * @param delta, int, an amount of milliseconds\r\n * @returns hours, minutes, seconds and milliseconds which fit in delta\r\n */\r\nexport const msToTime = (delta) => [\r\n    Math.floor((delta / (1000 * 60 * 60)) % 24),\r\n    Math.floor((delta / (1000 * 60)) % 60),\r\n    Math.floor((delta / 1000) % 60),\r\n    Math.floor((delta % 1000))\r\n];\r\n\r\n/**\r\n * useElapsedTime returns the elapsed time in ms \r\n * \r\n * uses UTC\r\n * \r\n * @param startDate, Date object, datetime to count the elapsed time from\r\n * @param refreshIntervalMs, int, update period in ms\r\n * @returns difference in ms since startDate to now\r\n */\r\nexport const useElapsedMs = (startDate, refreshIntervalMs = 1000) => {\r\n    const [now, setNow] = useState(startDate); // Save the current date to be able to trigger an update\r\n\r\n    // use an interval to update the 'now' date every refreshIntervalMs ms\r\n    useEffect(() => {\r\n        const ticker = setInterval(() => setNow(new Date()), refreshIntervalMs);\r\n        return () => clearInterval(ticker);  // clean timer on unmount\r\n    }, [refreshIntervalMs]);\r\n\r\n    return [now - startDate];\r\n};","export const palette = {\r\n    bg: 'bg-gray-50 dark:bg-gray-800',\r\n    bg_responsive: 'bg-gray-50 active:hover:bg-gray-100 dark:bg-gray-800 active:hover:dark:bg-gray-600',\r\n    bg_force_responsive: 'bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-600',\r\n    surface1: 'bg-gray-100 dark:bg-gray-700',\r\n    surface1_responsive: 'bg-gray-100 active:hover:bg-gray-200 dark:bg-gray-700 active:hover:dark:bg-gray-600',\r\n    surface2: 'bg-gray-200 dark:bg-gray-600',\r\n    surface2_responsive: 'bg-gray-200 active:hover:bg-gray-300 dark:bg-gray-600 active:dark:hover:bg-gray-500',\r\n    text: 'text-gray-800 dark:text-gray-50',\r\n    textLight: 'text-gray-700 dark:text-gray-100',\r\n    textBold: 'text-gray-900 dark:text-white'\r\n};\r\n","import { palette } from \"../../palette\";\r\n\r\n/**\r\n * Modal component\r\n *\r\n * a floating modal with a background overlay\r\n */\r\nfunction Modal({\r\n  handleHide = () => { },\r\n  children = null,\r\n  bgOverlay = 'bg-gray-500',\r\n  bgOpacity = 'bg-opacity-75',\r\n  bg = palette.bg,\r\n  z = 'z-10',\r\n  disabled = false,\r\n  ...props\r\n}) {\r\n\r\n  const _handleHide = () => {\r\n    if (disabled) return;\r\n    handleHide();\r\n  }\r\n\r\n  return <div {...props} className={`fixed ${z} inset-0 overflow-y-auto`} aria-labelledby=\"modal-title\" role=\"dialog\" aria-modal=\"true\">\r\n    <div className=\"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\r\n      <div className={`fixed inset-0 ${bgOverlay} ${bgOpacity} transition-opacity`} aria-hidden=\"true\" onClick={_handleHide} />\r\n      <span className=\"hidden sm:inline-block sm:align-middle sm:h-screen\" aria-hidden=\"true\">&#8203;</span>\r\n      <div className=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\">\r\n        <div className={`${bg} px-4 pt-5 pb-4 sm:p-6 sm:pb-4`}>\r\n          {children}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>;\r\n}\r\n\r\nexport default Modal;","import clsx from 'clsx';\r\nimport { palette } from '../../../palette';\r\n\r\n/**\r\n * Base button component\r\n */\r\nconst defaultAttributes = {\r\n      'm-1': true,\r\n      'inline-flex': true,\r\n      'justify-center': true,\r\n      'rounded-md': true,\r\n      'border': false,\r\n      'shadow-sm': true,\r\n      'px-4': true,\r\n      'py-2': true,\r\n      'text-base': true,\r\n      'font-medium': true,\r\n      'text-white': true,\r\n      'focus:outline-none': true,\r\n      'focus:ring-2': true,\r\n      'focus:ring-offset-2': true,\r\n      'sm:ml-3': true,\r\n      'sm:text-sm': true,\r\n      'disabled:opacity-50': true,\r\n      'select-none': true\r\n    };\r\n\r\nexport default function Button({\r\n    text,\r\n    bgColor=palette.bg_responsive,\r\n    textColor=palette.text,\r\n    ring='focus:ring-gray-500',\r\n    border=palette.bg,\r\n    attributes=defaultAttributes,\r\n    onClick= () => {},\r\n    w = 'w-full sm:w-auto',\r\n    loading=false,\r\n    ...props\r\n    }) {\r\n  return <button  onClick={onClick} type=\"button\" className={clsx(\r\n    {...defaultAttributes, \r\n    [bgColor]: true, \r\n    [textColor]: true,\r\n    [ring]: true, \r\n    [w]: true,\r\n    [border]: true, \r\n    ...attributes})} {...props}>\r\n      {loading && <span className={`animate-ping absolute inline-flex h-5 w-5 rounded-full opacity-75 ${palette.surface1}`}></span>}\r\n  {text}\r\n</button>;\r\n}\r\n","import Button from \"../button/button\";\r\n\r\n/**\r\n * No (red) button component\r\n */\r\nexport default function NoButton({\r\n    attributes={},\r\n    text=\"no\",\r\n    onClick= () => {},\r\n    ...props\r\n    }) {\r\n  return <Button \r\n            onClick={onClick}\r\n            text={text} \r\n            bgColor='bg-red-600 hover:active:bg-red-700'\r\n            textColor='text-white'\r\n            ring='focus:ring-red-500'\r\n            border='border-transparent'\r\n            attributes={attributes}\r\n            {...props}\r\n          />;\r\n}\r\n","import { palette } from \"../../palette\";\r\nimport Modal from \"../modal/modal\";\r\n\r\n/**\r\n * Modal component with a space for title, description and buttons\r\n */\r\nfunction TextActionsModal({\r\n    handleHide= () => {},\r\n    title=null,\r\n    description=null,\r\n    actions=null,\r\n    children=null,\r\n    icon=null,\r\n    disabled=false,\r\n    ...props\r\n    }) {\r\n  return <Modal handleHide={handleHide} disabled={disabled} {...props}>\r\n  <div className=\"px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\r\n   {(title || description) && <div className=\"sm:flex sm:items-start\">\r\n    {icon && <div className=\"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10\">\r\n            {icon}\r\n          </div>}\r\n\r\n     <div className=\"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left\">\r\n       {title && <h3 className={`text-lg leading-6 font-medium ${palette.textBold}`} id=\"modal-title\">\r\n         {title}\r\n       </h3>}\r\n       {description && <div className=\"mt-2\">\r\n         <p className={`text-sm ${palette.text}`}>\r\n           {description}\r\n         </p>\r\n       </div>}\r\n     </div>\r\n   </div>}\r\n\r\n   {children}\r\n </div>\r\n {actions && <div className={`${palette.surface1} px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse rounded-lg`}>\r\n   {actions}\r\n</div>}\r\n  </Modal>;\r\n}\r\n\r\nexport default TextActionsModal;","import { palette } from '../../palette';\r\nimport Modal from '../modal/modal';\r\nimport Button from '../buttons/button/button';\r\nimport NoButton from '../buttons/noButton/noButton';\r\nimport TextActionsModal from '../textActionsModal/textActionsModal';\r\nimport React from 'react';\r\n\r\nfunction ConfirmModal({\r\n    title='Do you wish to continue?',\r\n    description='this action might not be easily undone',\r\n    cancel='cancel',\r\n    confirm='confirm',\r\n    handleSuccess= () => {},\r\n    handleCancel= () => {},\r\n   ...props\r\n}) {\r\n   return <TextActionsModal \r\n    handleHide={handleCancel}\r\n    title={title}\r\n    description={description}\r\n    icon={<svg className=\"h-6 w-6 text-red-600\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" aria-hidden=\"true\">\r\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\r\n  </svg>}\r\n    actions={\r\n      <React.Fragment>\r\n        <NoButton text={cancel} onClick={handleCancel}/>\r\n        <Button text={confirm} onClick={handleSuccess}/>\r\n      </React.Fragment>\r\n    }\r\n   />;\r\n}\r\n\r\nexport default ConfirmModal;","import React, {useState} from \"react\";\r\nimport ConfirmModal from \"../components/confirmModal/confirmModal\";\r\n\r\nconst confirmContext = React.createContext(\r\n    (title, description, handleSuccess, handleCancel) => {}\r\n);\r\n\r\nconst BaseConfirmContextProvider = ({children}) => {\r\n    const [showConfirmDialog, setShowConfirmDialog] = useState(false);\r\n    const handleHideConfirmDialog = () => setShowConfirmDialog(false);\r\n\r\n    const [confirmHandler, setConfirmHandler] = useState(\r\n        {\r\n            title: undefined,\r\n            description: undefined,\r\n            handleSuccess: handleHideConfirmDialog,\r\n            handleCancel: handleHideConfirmDialog,\r\n        }\r\n    );\r\n    const confirm = ({title = undefined, description = undefined, handleSuccess = () => {}, handleCancel = () => {}}) => {\r\n        setShowConfirmDialog(true);\r\n        setConfirmHandler(\r\n            {\r\n              title: title,\r\n              description: description,\r\n              handleSuccess: () => {\r\n                handleHideConfirmDialog();\r\n                handleSuccess();\r\n                },\r\n              handleCancel: () => {\r\n                  handleHideConfirmDialog();\r\n                  handleCancel();\r\n              }\r\n            }\r\n        );\r\n    }\r\n\r\n    return <React.Fragment>\r\n            {showConfirmDialog && <ConfirmModal \r\n                title={confirmHandler.title} \r\n                description={confirmHandler.description} \r\n                handleSuccess={confirmHandler.handleSuccess}\r\n                handleCancel={confirmHandler.handleCancel}\r\n            />}\r\n            <confirmContext.Provider value={confirm}>\r\n                {children}\r\n            </confirmContext.Provider>\r\n        </React.Fragment>;\r\n}\r\n\r\nexport {\r\n  confirmContext,\r\n  BaseConfirmContextProvider\r\n};","import Button from \"../button/button\";\r\n\r\n/**\r\n * Yes (green) button component\r\n */\r\nexport default function YesButton({\r\n  attributes = {},\r\n  text = \"yes\",\r\n  onClick = () => { },\r\n  ...props\r\n}) {\r\n  return <Button\r\n    onClick={onClick}\r\n    text={text}\r\n    bgColor='bg-green-500 active:hover:bg-green-600'\r\n    textColor='text-white'\r\n    ring='focus:ring-green-500'\r\n    border='border-transparent'\r\n    attributes={attributes}\r\n    {...props}\r\n  />;\r\n}\r\n","import ConfirmModal from '../../../../components/confirmModal/confirmModal';\r\nimport {twoPadding} from '../../../../helpers/numberPadding';\r\nimport React from 'react';\r\nimport { confirmContext } from '../../../../contexts/confirmContext';\r\nimport TextActionsModal from '../../../../components/textActionsModal/textActionsModal';\r\nimport Button from '../../../../components/buttons/button/button';\r\nimport YesButton from '../../../../components/buttons/yesButton/yesButton';\r\nimport NoButton from '../../../../components/buttons/noButton/noButton';\r\n\r\nfunction ActionMenu({\r\n    table,\r\n    handleHide=()=>{},\r\n    handleShow=()=>{},\r\n   ...props\r\n}) {\r\n    const confirm = React.useContext(confirmContext);\r\n\r\n    const handleFinish = () => {\r\n        handleHide();\r\n        confirm({\r\n            handleSuccess: () => {\r\n                \r\n            },\r\n            handleCancel: () => {\r\n                handleShow();\r\n            }})\r\n        // TODO link to backend\r\n    };\r\n\r\n   return <React.Fragment>\r\n       <ConfirmModal />\r\n       <TextActionsModal\r\n      handleHide={handleHide}\r\n      title={`Table ${table.number}`}\r\n      description={`last course was served at ${twoPadding(table.lastCourseDatetime.getHours())}:${twoPadding(table.lastCourseDatetime.getMinutes())}`}\r\n      actions={<React.Fragment>\r\n          <NoButton onClick={handleHide} text=\"cancel\" />\r\n            <YesButton onClick={() => {}} text={table.nextCourse} />\r\n            <Button onClick={handleFinish} text=\"finish\" />\r\n      </React.Fragment>}\r\n      {...props} />\r\n    </React.Fragment>;\r\n}\r\n\r\nexport default ActionMenu;","import BaseCard from './baseCard';\r\nimport { StopWatch } from '../stopWatch/stopWatch';\r\nimport ActionMenu from '../actionMenu/actionMenu';\r\nimport React from 'react';\r\nimport { useState } from 'react';\r\n\r\nconst STATUS_ALARM = 'alarm';\r\nconst STATUS_WARNING = 'warning';\r\n\r\nconst useTheme = (status) => (status === STATUS_ALARM? {\r\n   bg:'bg-red-400 hover:bg-red-500',\r\n   fg: 'bg-red-100',\r\n   text: 'text-gray-800'\r\n}: status === STATUS_WARNING? {\r\n   bg: 'bg-yellow-200 hover:bg-yellow-300',\r\n   fg: 'bg-yellow-100',\r\n   text: 'text-gray-800'\r\n}: {\r\n   bg: 'bg-green-200 hover:bg-green-300',\r\n   fg: 'bg-green-50',\r\n   text: 'text-gray-800'\r\n});\r\n\r\nfunction TableCard({\r\n   table,\r\n   ...props\r\n}) {\r\n\r\n   const [showActionMenu, setShowActionMenu] = useState(false);\r\n   const handleShowActionMenu = () => setShowActionMenu(true);\r\n   const handleHideActionMenu = () => setShowActionMenu(false);\r\n\r\n   const theme = useTheme(table.status);\r\n\r\n   return <React.Fragment>\r\n      \r\n      {showActionMenu && <ActionMenu handleHide={handleHideActionMenu} handleShow={handleShowActionMenu} table={table}/>}\r\n\r\n       <BaseCard attributes={{[theme.bg]: true}} onClick={handleShowActionMenu} {...props}>\r\n\r\n      <div className={`flex space-x-4 ${theme.text}`}>\r\n         <div className=\"flex-2 flex flex-col\">\r\n               <div className=\"flex-1\"><p className=\"font-mono text-4xl\">\r\n                  <StopWatch startTime={table.lastCourseDatetime} precision='seconds'/>\r\n               </p></div>\r\n               <div className=\"text-left\">\r\n                  <span className={`inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold mr-2 mb-2 bottom-0 left-0 ${theme.fg}`}>\r\n                     {table.nextCourse}\r\n                  </span>\r\n            </div>\r\n\r\n         </div>\r\n         <div className=\"flex-1\">\r\n            <p className=\"font-mono text-right text-8xl\">\r\n               {table.number}\r\n            </p>\r\n         </div>\r\n      </div>\r\n   </BaseCard></React.Fragment>;\r\n}\r\n\r\nexport default TableCard;","import {Field} from 'formik';\r\nimport { palette } from '../../../palette';\r\n\r\n/**\r\n * Base input component\r\n */\r\nexport default function Input({\r\n    name,\r\n    label=null,\r\n    type='text',\r\n    lead=null,\r\n    trail=null,\r\n    placeholder='',\r\n    ...props\r\n}) {\r\n\r\n    return <Field type={type} name={name} > \r\n    \r\n    {({\r\n               field, // { name, value, onChange, onBlur }\r\n               form: { touched, errors }, // also values, setXXXX, handleXXXX, dirty, isValid, status, etc.\r\n               meta,\r\n             }) => <div>\r\n             {label && <label for={name} className=\"block text-sm font-medium text-gray-700\">{label}</label>}\r\n             \r\n             {meta.touched && meta.error && (\r\n                   <label for={name} className=\"block text-sm font-medium text-red-700\">{meta.error}</label>\r\n                 )}\r\n             <div className=\"mt-1 relative rounded-md shadow-sm\">\r\n                 {lead && <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                     <span className={`${palette.textLight} sm:text-sm`}>\r\n                         {lead}\r\n                     </span>\r\n                 </div>}\r\n                 <input  {...props} type={type} name={name} id={name} className={`block w-full p-2 ${lead? 'pl-7': ''} ${trail? 'pr-7': ''} sm:text-sm text-gray-900 rounded-md`} placeholder={placeholder} {...field}  />\r\n                 {trail && <div className=\"absolute inset-y-0 right-0 flex items-center pointer-events-none\">\r\n                     <span className={`${palette.textLight} sm:text-sm`}>\r\n                         {trail}\r\n                     </span>\r\n                 </div>}\r\n             </div>\r\n         </div>}\r\n    \r\n    </Field>;\r\n}\r\n","import TextActionsModal from '../textActionsModal/textActionsModal';\r\nimport ConfirmModal from '../confirmModal/confirmModal';\r\nimport NoButton from '../buttons/noButton/noButton';\r\nimport React from 'react';\r\nimport YesButton from '../buttons/yesButton/yesButton';\r\nimport Input from '../inputs/input/input';\r\nimport {Formik, Form} from 'formik';\r\n\r\nexport default function QuestionModal({\r\n  title = null,\r\n  description = null,\r\n  handleHide = () => { },\r\n  handleShow = () => { },\r\n  handleCancel = () => { },\r\n  handleSubmit = (_) => new Promise.resolve(),\r\n  ...props\r\n}) {\r\n  \r\n  return <Formik\r\n       initialValues={{ question: '' }}\r\n       onSubmit={(values, { setSubmitting, setErrors}) => {\r\n          handleSubmit(values.question).then(() => {\r\n            handleHide();\r\n            setSubmitting(false);\r\n          }, () => {\r\n            setErrors({question: \"unable to finalize request\"});\r\n            setSubmitting(false);\r\n          });\r\n       }}\r\n     >\r\n       {({ isSubmitting }) => (\r\n         <Form>\r\n           <TextActionsModal\r\n              handleHide={handleHide}\r\n              title={title}\r\n              description={description}\r\n              disabled={isSubmitting}\r\n              actions={<React.Fragment>\r\n                <NoButton onClick={() => {\r\n                  handleHide();\r\n                  handleCancel();\r\n                  }} text=\"cancel\" disabled={isSubmitting} />\r\n                <YesButton text=\"submit\" type=\"submit\" disabled={isSubmitting} loading={isSubmitting} />\r\n              </React.Fragment>}\r\n              {...props}>\r\n\r\n              <div className='p-4 pt-4'>\r\n                <Input name=\"question\"/>\r\n              </div>\r\n            </TextActionsModal>\r\n         </Form>\r\n       )}\r\n     </Formik>;\r\n}\r\n","import React, { useState } from \"react\";\r\nimport QuestionModal from \"../components/questionModal/questionModal\";\r\n\r\nexport const questionContext = React.createContext(\r\n    { prompt: (title, description, handleSubmit, handleCancel) => { } }\r\n);\r\n\r\nexport const QuestionContextProvider = ({ children }) => {\r\n    const [showDialog, setShowDialog] = useState(false);\r\n    const handleHideDialog = () => setShowDialog(false);\r\n    const handleShowDialog = () => setShowDialog(true);\r\n\r\n    const [handlers, setHandlers] = useState(\r\n        {\r\n            title: null,\r\n            description: null,\r\n            handleSubmit: handleHideDialog,\r\n            handleCancel: handleHideDialog,\r\n        }\r\n    );\r\n    const prompt = ({ title = null, description = null, handleSubmit = () => new Promise.resolve(), handleCancel = () => { } }) => {\r\n        console.log(title, description);\r\n        setHandlers(\r\n            {\r\n                title: title,\r\n                description: description,\r\n                handleSubmit: (...value) => new Promise(function (resolve, reject) {\r\n                    handleSubmit(...value)\r\n                        .then(\r\n                            (...args) => resolve(...args),\r\n                            (...args) => reject(...args)\r\n                        ).finally(\r\n                            (...args) => handleHideDialog()\r\n                        );\r\n                }),\r\n                handleCancel: () => {\r\n                    handleHideDialog();\r\n                    handleCancel();\r\n                }\r\n            }\r\n        );\r\n        handleShowDialog();\r\n    }\r\n\r\n    return <React.Fragment>\r\n        {showDialog && <QuestionModal\r\n            title={handlers.title}\r\n            description={handlers.description}\r\n            handleSubmit={handlers.handleSubmit}\r\n            handleCancel={handlers.handleCancel}\r\n            handleHide={handleHideDialog}\r\n            handleShow={handleShowDialog}\r\n        />}\r\n        <questionContext.Provider value={{ prompt: prompt }}>\r\n            {children}\r\n        </questionContext.Provider>\r\n    </React.Fragment>;\r\n}","import TextActionsModal from '../../../../components/textActionsModal/textActionsModal';\r\nimport NoButton from '../../../../components/buttons/noButton/noButton';\r\nimport React, { useState } from 'react';\r\nimport YesButton from '../../../../components/buttons/yesButton/yesButton';\r\nimport Button from '../../../../components/buttons/button/button';\r\nimport { questionContext } from '../../../../contexts/questionContext';\r\n\r\nexport default function NewTableMenu({\r\n  handleHide = () => { },\r\n  handleShow = () => { },\r\n  addNewTable = (_) => { },\r\n  existingTableNumbers = [],\r\n  ...props\r\n}) {\r\n  const defaultTables = ['15', '0', '12', '111', '1213', '2', '5', '9']; // TODO API\r\n\r\n  const handleNewTable = (tableNumber) => {\r\n    // TODO API\r\n    return new Promise(function (resolve, reject) {\r\n      setTimeout(() => {\r\n        addNewTable({\r\n          number: tableNumber,\r\n          lastCourseDatetime: new Date(),\r\n          nextCourse: 'first',\r\n          status: 'ok'\r\n        });\r\n        handleHide();\r\n        setLoading(false);\r\n        resolve();\r\n      }, 5000);\r\n    });\r\n  }\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const prompt = React.useContext(questionContext);\r\n  const handleAskCustomInput = () => {\r\n    handleHide();\r\n    prompt.prompt({\r\n      title: \"table #\",\r\n      handleSubmit: (result) => new Promise(function (resolve, reject) {\r\n        // the function is executed automatically when the promise is constructed\r\n        // after 1 second signal that the job is done with the result \"done\"\r\n        setTimeout(handleNewTable(result).then(() => resolve(), () => reject()), 3000);\r\n      }),\r\n      handleCancel: handleShow\r\n    });\r\n  }\r\n\r\n  const handleNewDefaultTable = (number) => {\r\n    setLoading(number);\r\n    handleNewTable(number);\r\n  }\r\n\r\n  return <React.Fragment>\r\n    <TextActionsModal\r\n      handleHide={handleHide}\r\n      title=\"new table2\"\r\n      description=\"start timer for a new table\"\r\n      disabled={loading !== false}\r\n      actions={<React.Fragment>\r\n        <NoButton onClick={handleHide} text=\"cancel\" disabled={loading!==false} />\r\n        <YesButton onClick={handleAskCustomInput} text=\"custom\" disabled={loading!==false} />\r\n      </React.Fragment>}\r\n      {...props}>\r\n\r\n      <div className='p-1 pt-4'>\r\n        {defaultTables.filter(table => !existingTableNumbers.includes(table)).map(tableName => \r\n        <Button loading={loading===tableName} disabled={loading!==false} onClick={() => handleNewDefaultTable(tableName)} text={tableName} key={tableName} />)}\r\n      </div>\r\n    </TextActionsModal>\r\n  </React.Fragment>;\r\n}\r\n","import BaseCard from './baseCard';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { palette } from '../../../../palette';\r\nimport React, {useState} from 'react';\r\nimport NewTableMenu from '../newTableMenu/newTableMenu';\r\n\r\nfunction NewTableCard({\r\n   addNewTable = (_) => {},\r\n   existingTableNumbers = [],\r\n   ...props\r\n}) {\r\n   const { t, i18n } = useTranslation();\r\n\r\n   const [showNewTableMenu, setShowNewTableMenu] = useState(false);\r\n   const handleShowNewTableMenu = () => setShowNewTableMenu(true);\r\n   const handleHideNewTableMenu = () => setShowNewTableMenu(false);\r\n\r\n   return <React.Fragment>\r\n      {showNewTableMenu && <NewTableMenu \r\n      handleHide={handleHideNewTableMenu} \r\n      handleShow={handleShowNewTableMenu} \r\n      addNewTable={addNewTable}\r\n      existingTableNumbers={existingTableNumbers}\r\n      />}\r\n   <BaseCard onClick={handleShowNewTableMenu} attributes={{\r\n      'border-4': true, \r\n   'border-dashed': true, \r\n   [palette.bg_force_responsive]: true,\r\n   [palette.text]: true}} {...props} disabled={false}>\r\n      <div className='h-full w-full flex flex-wrap content-center text-center justify-center'>\r\n            <p className=\"font-mono text-4xl\">\r\n               {t('new')} \r\n            </p>\r\n            </div>\r\n   </BaseCard></React.Fragment>;\r\n}\r\n\r\nexport default NewTableCard;","import React from 'react';\r\n\r\nexport const SORT_PRIORITY = 'priority';\r\nexport const SORT_NUMBER_ASCENDING = 'number-ascending';\r\nexport const SORT_NUMBER_DESCENDING = 'number-descending';\r\nconst SORTS = [SORT_PRIORITY, SORT_NUMBER_ASCENDING, SORT_NUMBER_DESCENDING];\r\n\r\nfunction SortButton({\r\n    sort, setSort\r\n}) {\r\n\r\n    const handleToggleSort = () => setSort(SORTS[(SORTS.indexOf(sort) + 1) % SORTS.length]);\r\n    \r\n    return <div className='p-2 inline-block'><div onClick={handleToggleSort} className=\"flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full cursor-pointer bg-gray-100 hover:bg-gray-200 sm:h-8 sm:w-8\">\r\n         <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6 text-gray-900\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n         {sort === SORT_PRIORITY?  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z\" />\r\n        : sort === SORT_NUMBER_ASCENDING? <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12\" />\r\n        : <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4\" />\r\n\r\n}\r\n        </svg>\r\n    </div></div>;\r\n}\r\n\r\nexport default SortButton;","import React, { useState } from \"react\";\r\n\r\nexport const THEME_LIGHT = 'light';\r\nexport const THEME_DARK = 'dark';\r\nconst THEMES = [THEME_LIGHT, THEME_DARK];\r\n\r\nconst LOCALSTORAGE_THEME = 'theme';\r\n\r\nexport const themeContext = React.createContext(\r\n    {\r\n        theme: THEME_LIGHT,\r\n        setTheme: (theme) => { },\r\n        setLight: () => { },\r\n        setDark: () => { },\r\n        toggle: () => {},\r\n        isLight: true,\r\n        isDark: false\r\n    }\r\n);\r\n\r\nexport const ThemeContextProvider = ({ children }) => {\r\n    const [theme, _setTheme] = useState(localStorage.getItem(LOCALSTORAGE_THEME) === THEME_DARK? THEME_DARK: THEME_LIGHT);\r\n    const setTheme = (newTheme) => {\r\n        if (!THEMES.includes(newTheme)) throw new Error(`invalid theme '${newTheme}' is not one of the valid options: '${THEMES}'`);\r\n        _setTheme(newTheme);\r\n        localStorage.setItem(LOCALSTORAGE_THEME, newTheme);\r\n    }\r\n\r\n    const contextProvider = {\r\n        theme: theme,\r\n        setTheme: setTheme,\r\n        setLight: () => setTheme(THEME_LIGHT),\r\n        setDark: () => setTheme(THEME_DARK),\r\n        toggle: () => setTheme(THEMES[(THEMES.indexOf(theme) + 1) % THEMES.length]),\r\n        isLight: theme === THEME_LIGHT,\r\n        isDark: theme === THEME_DARK\r\n    };\r\n\r\n    return <themeContext.Provider value={contextProvider}>\r\n        <div className={theme === THEME_DARK ? 'dark' : undefined}>\r\n            {children}\r\n        </div>\r\n    </themeContext.Provider>;\r\n}\r\n","import React from 'react';\r\nimport { themeContext } from '../../contexts/themeContext';\r\n\r\n\r\nexport default function ThemeButton() {\r\n    const themeCtx = React.useContext(themeContext);\r\n    \r\n    return <div className='p-2 inline-block'><div onClick={themeCtx.toggle} className=\"flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full cursor-pointer bg-gray-100 hover:bg-gray-200 sm:h-8 sm:w-8\">\r\n         <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6 text-gray-900\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n         {\r\n             themeCtx.isLight?\r\n             <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z\" />\r\n            :<path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z\" />\r\n          \r\n         }\r\n        </svg>\r\n    </div></div>;\r\n}","import React, { useState } from \"react\";\r\nimport i18n from \"../i18n\";\r\n\r\nexport const LANGUAGE_EN = 'en';\r\nexport const LANGUAGE_ES = 'es';\r\nconst LANGUAGES = [LANGUAGE_EN, LANGUAGE_ES];\r\n\r\nconst LOCALSTORAGE_LANGUAGE = 'language';\r\n\r\nexport const languageContext = React.createContext(\r\n    {\r\n        language: LANGUAGE_EN,\r\n        setLanguage: (language) => { },\r\n        toggle: () => {}\r\n    }\r\n);\r\n\r\nexport const LanguageContextProvider = ({ children }) => {\r\n    const localStorageLanguage = localStorage.getItem(LOCALSTORAGE_LANGUAGE);\r\n    const [language, _setLanguage] = useState(LANGUAGES.includes(localStorageLanguage)? localStorageLanguage: LANGUAGE_EN);\r\n    const setLanguage = (newLanguage) => {\r\n        if (!LANGUAGES.includes(newLanguage)) throw new Error(`invalid language '${newLanguage}' is not one of the valid options: '${LANGUAGES}'`);\r\n        _setLanguage(newLanguage);\r\n        localStorage.setItem(LOCALSTORAGE_LANGUAGE, newLanguage);\r\n        i18n.changeLanguage(newLanguage);\r\n    }\r\n\r\n    const contextProvider = {\r\n        language: language,\r\n        setLanguage: setLanguage,\r\n        toggle: () => setLanguage(LANGUAGES[(LANGUAGES.indexOf(language) + 1) % LANGUAGES.length])\r\n    };\r\n\r\n    return <languageContext.Provider value={contextProvider}>\r\n            {children}\r\n    </languageContext.Provider>;\r\n}\r\n","import React from 'react';\r\nimport { languageContext } from '../../contexts/languageContext';\r\n\r\n\r\nexport default function LanguageButton() {\r\n    const languageCtx = React.useContext(languageContext);\r\n    \r\n    return <div className='p-2 inline-block'><div onClick={languageCtx.toggle} className=\"flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full cursor-pointer bg-gray-100 hover:bg-gray-200 sm:h-8 sm:w-8\">\r\n         <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6 text-gray-900\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n         <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129\" />\r\n        </svg>\r\n    </div></div>;\r\n}","import { useLocation } from \"react-router-dom\";\r\n\r\n/**\r\n * useAccessToken returns the restaurantId and accessToken found in the url \r\n * \r\n * @returns a list [restaurantId, accessToken]\r\n */\r\nexport const useAccessToken = () => {\r\n    const search = useLocation().search;\r\n\r\n    const restaurantId = new URLSearchParams(search).get(\"id\");\r\n    const accessToken = new URLSearchParams(search).get(\"token\");\r\n\r\n    return [restaurantId, accessToken];\r\n};","import Cookies from 'js-cookie';\r\n\r\nexport function authHeader() {\r\n    // return authorization header with jwt token\r\n    return { 'X-CSRFToken': Cookies.get('X-CSRF-TOKEN')};\r\n}","import { useEffect, useState } from \"react\";\r\nimport { attemptLogin } from \"../../services/loginWithAccessToken\";\r\nimport { useSnackbar } from 'notistack';\r\n\r\n\r\n/**\r\n * useLoginWithAccessToken returns a bool (true if correctly logged in)\r\n * \r\n * @returns a bool (loggedIn)\r\n */\r\nexport const useLoginWithAccessToken = (restaurantId, accessToken) => {\r\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\r\n    const [loggedIn, setLoggedIn] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setLoggedIn(false);\r\n        attemptLogin(restaurantId, accessToken)\r\n            .then(isValid => {\r\n                if (!isValid) {\r\n                    enqueueSnackbar(\"you can't access this page\", {variant: 'warning'});\r\n                    return;\r\n                }\r\n                setLoggedIn(true);\r\n            })\r\n            .catch(_ => enqueueSnackbar('something went wrong', {variant: 'error'}));\r\n    }, [restaurantId, accessToken]);\r\n\r\n    return [loggedIn, setLoggedIn];\r\n};","import { authHeader } from \"../../../helpers/csrfCookieHeader\";\r\nimport axios from \"axios\";\r\n\r\nexport const attemptLogin = (restaurantId, accessToken) => {\r\n    return new Promise(function(resolve, reject) {\r\n        axios({url: `${process.env.REACT_APP_BACKEND_URL}/auth/v1/login/accessToken`,\r\n            method: 'POST',\r\n            auth: {\r\n                username: restaurantId,\r\n                password: accessToken\r\n            },\r\n            headers: {'Cache-Control': 'no-cache', ...authHeader()}\r\n        })\r\n        .then(_ => resolve(true))\r\n        .catch(function (res) {\r\n            try { if (res[\"response\"][\"status\"] === 401) resolve(false) } catch(err){}\r\n            reject(res);\r\n        });\r\n    });\r\n}\r\n\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useAccessToken } from \"../../hooks/useAccessToken/useAccessToken\";\r\nimport { useLoginWithAccessToken } from \"../../hooks/useLoginWithAccessToken/useLoginWithAccessToken\";\r\nimport { startSocket } from \"./_socketService\";\r\n\r\nexport const realtimeServiceContext = React.createContext(\r\n    {\r\n        tables: [],\r\n        restaurant: {},\r\n    }\r\n);\r\n\r\nexport const RealtimeServiceContextProvider = ({ children }) => {\r\n    /***************** data *****************/\r\n    const [tables, setTables] = useState([]);\r\n    const [restaurant, setRestaurant] = useState({\r\n        'name': '...'\r\n    });\r\n\r\n    /***************** auth *****************/\r\n    const [restaurantId, accessToken] = useAccessToken();\r\n    const [loggedIn, _] = useLoginWithAccessToken(restaurantId, accessToken);\r\n    \r\n    /****************************************/\r\n    useEffect(() => {\r\n        if (!loggedIn) return;\r\n        return startSocket();\r\n    }, [loggedIn])\r\n\r\n    /************ context provider **********/\r\n    const contextProvider = {\r\n        tables: tables,\r\n        restautant: restaurant\r\n    };\r\n\r\n    return <realtimeServiceContext.Provider value={contextProvider}>\r\n        {children}\r\n    </realtimeServiceContext.Provider>;\r\n}\r\n","import socketIOClient from \"socket.io-client\";\r\n\r\nconst ENDPOINT = process.env.REACT_APP_BACKEND_URL;\r\nexport const startSocket = () => {\r\n    const socket = socketIOClient(ENDPOINT);\r\n\r\n    socket.on(\"FromAPI\", data => {\r\n      console.log(data);\r\n    });\r\n    \r\n    // clean up\r\n    return () => socket.disconnect();\r\n}","import TableCard from './components/tableCard/tableCard';\r\nimport NewTableCard from './components/tableCard/newTableCard';\r\nimport SortButton, { SORT_PRIORITY, SORT_NUMBER_ASCENDING, SORT_NUMBER_DESCENDING } from './components/sortButton/sortButton';\r\nimport { useState, useEffect } from 'react';\r\nimport ThemeButton from '../../components/themeButton/themeButton';\r\nimport LanguageButton from '../../components/languageButton/languageButton';\r\nimport { palette } from '../../palette';\r\nimport { RealtimeServiceContextProvider } from './contexts/realtimeService/realtimeServiceContext';\r\n\r\nconst sortProviders = {\r\n  [SORT_PRIORITY]: (table1, table2) => table1.lastCourseDatetime - table2.lastCourseDatetime,\r\n  [SORT_NUMBER_ASCENDING]: (table1, table2) => table1.number - table2.number,\r\n  [SORT_NUMBER_DESCENDING]: (table1, table2) => table2.number - table1.number,\r\n}\r\nfunction _RestaurantDashboardPage() {\r\n\r\n\r\n\r\n\r\n  var status = ['alarm', 'warning', 'random'];\r\n  status.random = function () {\r\n    return this[Math.floor(Math.random() * this.length)];\r\n  };\r\n\r\n  const [sort, setSort] = useState(SORT_PRIORITY);\r\n\r\n  let _tables = [12, 14, 15, 2, 18, 21].map(hours => {\r\n    let date = new Date();\r\n    date.setFullYear(2021, 9, 2);\r\n    date.setHours(hours, 21 - hours, 0, 0);\r\n    return { number: (hours - 2).toString(), lastCourseDatetime: date, nextCourse: 'desserts', status: status[Math.trunc(hours * 3 / 24)] }\r\n  });\r\n\r\n  const [tables, _setTables] = useState(_tables);\r\n  const setTables = (newTables) => {\r\n    newTables.sort(sortProviders[sort]);\r\n    _setTables(newTables);\r\n  }\r\n  const addNewTable = (table) => setTables([...tables, table]);\r\n  useEffect(() => setTables(tables), [sort]);\r\n\r\n  return <div>\r\n    <div className='p-2 pl-8 pr-8 inline-block w-full'>\r\n      <div className='inline-block'><p className={`font-mono text-4xl ${palette.text}`}>\r\n        Restaurante 21\r\n      </p></div>\r\n      <div className='float-right'>\r\n        <SortButton sort={sort} setSort={setSort} />\r\n        <ThemeButton />\r\n        <LanguageButton /></div>\r\n\r\n    </div>\r\n\r\n    <div className=\"px-4\">\r\n      <div className=\"flex flex-wrap  -mx-4\">\r\n        <NewTableCard addNewTable={addNewTable} existingTableNumbers={tables.map(table => table.number)} />\r\n\r\n        {tables.map(table =>\r\n          <TableCard table={table} key={table.number} />)}\r\n      </div>\r\n    </div>\r\n  </div>;\r\n}\r\n\r\nfunction RestaurantDashboardPage() {\r\n\r\n  return <RealtimeServiceContextProvider>\r\n    <_RestaurantDashboardPage />\r\n    </RealtimeServiceContextProvider>;\r\n}\r\n\r\nexport default RestaurantDashboardPage;","import { palette } from \"../../../../palette\";\r\n\r\nexport default function Zone({title=null, children=null}) {\r\n    return <div className={`m-4 p-4 rounded-lg ${palette.surface2}`}>\r\n    {title && <p className={`font-mono select-none text-2xl ${palette.text}`}>\r\n      {title}\r\n    </p>}\r\n    <div className='p-4'>\r\n      {children}\r\n    </div>\r\n  </div>;\r\n}","import { palette } from \"../../../../palette\";\r\nimport Input from \"../../../../components/inputs/input/input\";\r\nimport { Formik, Form} from \"formik\";\r\nimport YesButton from \"../../../../components/buttons/yesButton/yesButton\";\r\nimport Button from \"../../../../components/buttons/button/button\";\r\nimport NoButton from \"../../../../components/buttons/noButton/noButton\";\r\nimport { useSnackbar } from 'notistack';\r\n    \r\nexport default function AccessUrl({privacyFilter, accessUrl}){\r\n\r\n    const handleDeleteAccessUrl = () => {\r\n\r\n    };\r\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\r\n    \r\n    \r\n    const handleCopyUrlToClipboard = () => {\r\n        // openInNewTab(accessUrl.url);\r\n        if (privacyFilter) {\r\n            enqueueSnackbar('disable the privacy mode on the top right corner first', {variant: 'warning'});\r\n            return;\r\n        }\r\n        navigator.clipboard.writeText(accessUrl.url);\r\n        enqueueSnackbar('the url has been copied to your clipboard, keep it private!', {variant: 'success'});\r\n    }\r\n\r\n    const handleSubmit = (comment) => {\r\n\r\n    }\r\n\r\n\r\n    return <div className='py-4'><Formik\r\n    initialValues={accessUrl}\r\n    onSubmit={(values, { setSubmitting, setErrors}) => {\r\n      console.log(values);\r\n       handleSubmit(values.comment).then(() => {\r\n         setSubmitting(false);\r\n       }, () => {\r\n         setErrors({comment: \"unable to finalize request\"});\r\n         setSubmitting(false);\r\n       });\r\n    }}\r\n  >\r\n    {({ isSubmitting }) => (\r\n      <Form>\r\n        \r\n        <div className='flex pt-2'>\r\n            <div className='flex-grow'>\r\n            <Input name=\"comment\"/>\r\n            </div>\r\n\r\n            <NoButton text=\"delete\" disabled={isSubmitting} />\r\n            <YesButton text=\"save\" type=\"submit\" disabled={isSubmitting} loading={isSubmitting} />\r\n\r\n            \r\n        </div>\r\n\r\n        <div className='flex pb-2'>\r\n            <div className={`flex-grow ${privacyFilter? 'filter blur-sm': ''}`} onClick={handleCopyUrlToClipboard}>\r\n                <Input name=\"url\" disabled />\r\n            \r\n            </div>\r\n        </div>\r\n\r\n        </Form>\r\n                \r\n    )}\r\n  </Formik></div>\r\n}","import React from 'react';\r\n\r\nexport default function PrivacyButton({privacyFilter, setPrivacyFilter}) {\r\n    \r\n    return <div className='p-2 inline-block'><div onClick={() => setPrivacyFilter(!privacyFilter)} className=\"flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full cursor-pointer bg-gray-100 hover:bg-gray-200 sm:h-8 sm:w-8\">\r\n         <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6 text-gray-900\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n         \r\n        {privacyFilter? <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M8 11V7a4 4 0 118 0m-4 8v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2z\" />\r\n        : <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\" />    }\r\n\r\n        </svg>\r\n    </div></div>;\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useGoogleLogout} from 'react-google-login';\r\nimport { useSnackbar } from 'notistack';\r\nimport { logout } from '../../services/logout';\r\n\r\nconst clientId = process.env.REACT_APP_GOOGLE_CLIENT_ID;\r\n\r\nexport default function SignOutButton({}) {\r\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\r\n\r\n  let history = useHistory();\r\n    const onLogoutSuccess = () => {\r\n      logout().then(() => {\r\n        enqueueSnackbar('logged out', {variant: 'success'})\r\n        history.push('/login');\r\n      }).catch(() => {\r\n        enqueueSnackbar('unable to log out with server', {variant: 'error'})\r\n      })\r\n      \r\n    }\r\n    \r\n    const onLogoutFailure = () => {\r\n      enqueueSnackbar('unable to out with Google', {variant: 'error'})\r\n    }\r\n\r\n  const { signOut } = useGoogleLogout({\r\n    clientId,\r\n      onLogoutSuccess,\r\n      onLogoutFailure\r\n  });\r\n\r\n  \r\n    \r\n    return <div className='p-2 inline-block'><div onClick={signOut} className=\"flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full cursor-pointer bg-gray-100 hover:bg-gray-200 sm:h-8 sm:w-8\">\r\n         <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6 text-gray-900\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n         <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\r\n        </svg>\r\n    </div></div>;\r\n}","import { authHeader } from \"../../../helpers/csrfCookieHeader\";\r\nimport axios from \"axios\";\r\n\r\nexport const logout = () => {\r\n    return new Promise(function(resolve, reject) {\r\n        axios({url: `${process.env.REACT_APP_BACKEND_URL}/auth/v1/logout`,\r\n            method: 'POST',\r\n            headers: {'Cache-Control': 'no-cache', ...authHeader()}\r\n        })\r\n        .then(_ => resolve())\r\n        .catch(_ => reject());\r\n    });\r\n}\r\n\r\n","import { palette } from \"../../../../palette\";\r\nimport Input from \"../../../../components/inputs/input/input\";\r\nimport { Formik, Form} from \"formik\";\r\nimport YesButton from \"../../../../components/buttons/yesButton/yesButton\";\r\nimport Button from \"../../../../components/buttons/button/button\";\r\nimport NoButton from \"../../../../components/buttons/noButton/noButton\";\r\nimport { useSnackbar } from 'notistack';\r\nimport { confirmContext } from \"../../../../contexts/confirmContext\";\r\nimport React from \"react\";\r\n\r\nexport default function Admin({admin, privacyFilter}){\r\n\r\n    const handleDeleteAccessUrl = () => {\r\n\r\n    };\r\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\r\n    const confirm = React.useContext(confirmContext);\r\n    \r\n\r\n    const handleSubmit = (newName) => {\r\n\r\n    }\r\n\r\n    const handleDelete = () => {\r\n      confirm({\r\n        handleSuccess: () => {\r\n            // TODO API\r\n            enqueueSnackbar(\"administrator deleted\", { variant: \"warning\" });\r\n        },\r\n        handleCancel: () => {\r\n            enqueueSnackbar(\"administrator not deleted\", { variant: \"success\" });\r\n        }});\r\n    }\r\n\r\n    return <div className='py-4'><Formik\r\n    initialValues={admin}\r\n    onSubmit={(values, { setSubmitting, setErrors}) => {\r\n      console.log(values);\r\n       handleSubmit(values.name).then(() => {\r\n         setSubmitting(false);\r\n       }, () => {\r\n         setErrors({comment: \"unable to finalize request\"});\r\n         setSubmitting(false);\r\n       });\r\n    }}\r\n  >\r\n    {({ isSubmitting }) => (\r\n      <Form>\r\n        \r\n        <div className='flex pt-2'>\r\n            <div className={`flex-grow ${privacyFilter? 'filter blur-sm': ''}`}>\r\n            <Input disabled name=\"email\"/>\r\n            </div>\r\n\r\n            <NoButton text=\"delete\" onClick={handleDelete} disabled={isSubmitting} />\r\n        </div>\r\n\r\n        </Form>\r\n                \r\n    )}\r\n  </Formik></div>\r\n}","import { useState } from 'react';\r\nimport Button from '../../components/buttons/button/button';\r\nimport { confirmContext } from '../../contexts/confirmContext';\r\nimport { questionContext } from '../../contexts/questionContext';\r\nimport React from 'react';\r\nimport Zone from './components/zone/zone';\r\nimport AccessUrl from './components/accessUrl/accessUrl';\r\nimport YesButton from '../../components/buttons/yesButton/yesButton';\r\nimport { userContext } from '../../contexts/userContext';\r\nimport Admin from './components/admin/admin';\r\nfunction AdminDashboardPageRestaurant({privacyFilter}) {\r\n  const confirm = React.useContext(confirmContext);\r\n  const prompt = React.useContext(questionContext);\r\n  const userCtx = React.useContext(userContext);\r\n\r\n  const [defaultTables, setDefaultTables] = useState([12, 14, 15, 2, 18, 21]);  // TODO API\r\n  const handleDeleteDefaultTable = (name) => {\r\n    // TODO API\r\n    confirm({\r\n      title: `Do you want to delete Table ${name}?`,\r\n      description: `Deleting Table ${name} will only remove it from the default tables list.`,\r\n      handleSuccess: () => setDefaultTables(defaultTables.filter(x => x !== name))\r\n    })\r\n  };\r\n  const handleAddNewDefaultTable = () => {\r\n\r\n    prompt.prompt({\r\n      title: 'table #',\r\n      description: 'what is the name of the new table you want to add?',\r\n      handleSubmit: (table) => {\r\n        if (defaultTables.includes(table)) return;\r\n        setDefaultTables([...defaultTables, table]);\r\n        // TODO API\r\n      }\r\n    })\r\n  }\r\n\r\n  const handleNewAccessToken = () => { };\r\n\r\n  return <React.Fragment><Zone title=\"default tables\">\r\n    {defaultTables.map(name => <Button onClick={() => handleDeleteDefaultTable(name)} text={name} key={name} />)}\r\n\r\n    <YesButton onClick={handleAddNewDefaultTable} text={\"ADD NEW\"} />\r\n  </Zone>\r\n\r\n    <Zone title=\"access URLs\">\r\n      <div className='grid grid-cols-1 divide-y divide-gray-500 dark:divide-gray-100'>\r\n        <AccessUrl privacyFilter={privacyFilter} accessUrl={\r\n          { url: 'https://xals.herokuapp.com/app/restaurant?id=XYZ&token=ZYX', comment: 'cocina y camarerxs' }\r\n        } />\r\n        <AccessUrl privacyFilter={privacyFilter} accessUrl={\r\n          { url: 'https://xals.herokuapp.com/app/restaurant?id=XYZ2&token=ZYX2', comment: 'recepcin' }\r\n        } />\r\n      </div>\r\n\r\n      <div className='grid justify-items-center  pt-8'>\r\n        <YesButton onClick={handleNewAccessToken} text=\"new\" w='w-64' />\r\n      </div>\r\n\r\n    </Zone>\r\n    \r\n    {userCtx.isSuperAdminLoggedIn && <Zone title=\"restaurant administrators\">\r\n\r\n    <div className='grid grid-cols-1 divide-y divide-gray-500'>\r\n  <Admin admin={\r\n          { email: 'admin@gmail.com', id: 'ad22' }\r\n        } privacyFilter={privacyFilter}/>\r\n\r\n<Admin admin={\r\n          { email: 'admin2@gmail.com', id: 'ad23' }\r\n        } privacyFilter={privacyFilter}/>\r\n</div>\r\n    <div className='grid justify-items-center  pt-8'>\r\n      <YesButton onClick={() => {}} text={\"ADD NEW\"} w='w-64' />\r\n        </div>\r\n\r\n    </Zone>}\r\n    \r\n    </React.Fragment>\r\n}\r\n\r\nexport default AdminDashboardPageRestaurant;\r\n\r\n","import { palette } from \"../../../../palette\";\r\nimport Input from \"../../../../components/inputs/input/input\";\r\nimport { Formik, Form} from \"formik\";\r\nimport YesButton from \"../../../../components/buttons/yesButton/yesButton\";\r\nimport Button from \"../../../../components/buttons/button/button\";\r\nimport NoButton from \"../../../../components/buttons/noButton/noButton\";\r\nimport { useSnackbar } from 'notistack';\r\nimport { confirmContext } from \"../../../../contexts/confirmContext\";\r\nimport React from \"react\";\r\n\r\nexport default function Restaurant({restaurant, setRestaurant}){\r\n\r\n    const handleDeleteAccessUrl = () => {\r\n\r\n    };\r\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\r\n    const confirm = React.useContext(confirmContext);\r\n    \r\n\r\n    const handleSubmit = (newName) => {\r\n\r\n    }\r\n\r\n    const handleDelete = () => {\r\n      confirm({\r\n        handleSuccess: () => {\r\n            // TODO API\r\n            enqueueSnackbar(\"restaurant deleted\", { variant: \"warning\" });\r\n        },\r\n        handleCancel: () => {\r\n            enqueueSnackbar(\"restaurant not deleted\", { variant: \"success\" });\r\n        }});\r\n    }\r\n\r\n    const handleGoToAdmin = () => setRestaurant(restaurant);\r\n\r\n\r\n    return <div className='py-4'><Formik\r\n    initialValues={restaurant}\r\n    onSubmit={(values, { setSubmitting, setErrors}) => {\r\n      console.log(values);\r\n       handleSubmit(values.name).then(() => {\r\n         setSubmitting(false);\r\n       }, () => {\r\n         setErrors({comment: \"unable to finalize request\"});\r\n         setSubmitting(false);\r\n       });\r\n    }}\r\n  >\r\n    {({ isSubmitting }) => (\r\n      <Form>\r\n        \r\n        <div className='flex pt-2'>\r\n            <div className='flex-grow'>\r\n            <Input name=\"name\"/>\r\n            </div>\r\n\r\n            <NoButton text=\"delete\" onClick={handleDelete} disabled={isSubmitting} />\r\n            <YesButton text=\"save\" type=\"submit\" disabled={isSubmitting} loading={isSubmitting} />\r\n            <Button text=\"admin\" onClick={handleGoToAdmin} disabled={isSubmitting} />\r\n        </div>\r\n\r\n        </Form>\r\n                \r\n    )}\r\n  </Formik></div>\r\n}","import React, { useEffect } from 'react';\r\nimport Zone from './components/zone/zone';\r\nimport YesButton from '../../components/buttons/yesButton/yesButton';\r\nimport Restaurant from './components/restaurant/restaurant';\r\nimport Admin from './components/admin/admin';\r\nimport { getRestaurants } from './services/restaurants';\r\nimport { useSnackbar } from 'notistack';\r\nimport { useState } from 'react';\r\nfunction AdminDashboardPageSuper({privacyFilter, setRestaurant}) {\r\n  const [restaurants, setRestaurants] = useState([]);\r\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\r\n  useEffect(() => {\r\n    getRestaurants()\r\n      .then(restaurants => setRestaurants(restaurants))\r\n      .catch(_ => enqueueSnackbar(\"unable to retrieve restaurants\", {variant:'error'}))\r\n  });\r\n  return <React.Fragment>\r\n    <Zone title=\"restaurants\">\r\n    <div className='grid grid-cols-1 divide-y divide-gray-500'>\r\n        <Restaurant restaurant={\r\n          { name: 'restaurant a21', id: 'a21' }\r\n        } setRestaurant={setRestaurant}/>\r\n        <Restaurant restaurant={\r\n          { name: 'restaurant a22', id: 'a22' }\r\n        } setRestaurant={setRestaurant}/>\r\n      </div>\r\n    <div className='grid justify-items-center pt-8'>\r\n    <YesButton onClick={() => {}} text={\"ADD NEW\"} w='w-64'/>\r\n      </div>\r\n\r\n  </Zone>\r\n\r\n  \r\n\r\n  <Zone title=\"root administrators\">\r\n  <div className='grid grid-cols-1 divide-y divide-gray-500'>\r\n  <Admin admin={\r\n          { email: 'admin@gmail.com', id: 'ad22' }\r\n        } privacyFilter={privacyFilter}/>\r\n\r\n<Admin admin={\r\n          { email: 'admin2@gmail.com', id: 'ad23' }\r\n        } privacyFilter={privacyFilter}/>\r\n</div>\r\n  <div className='grid justify-items-center  pt-8'>\r\n    <YesButton onClick={() => {}} text={\"ADD NEW\"} w='w-64'/>\r\n      </div>\r\n\r\n  </Zone>\r\n  </React.Fragment>\r\n}\r\n\r\nexport default AdminDashboardPageSuper;\r\n\r\n","import { authHeader } from \"../../../helpers/csrfCookieHeader\";\r\nimport axios from \"axios\";\r\n\r\nexport const getRestaurants = () => {\r\n    return new Promise(function(resolve, reject) {\r\n        axios({url: `${process.env.REACT_APP_BACKEND_URL}/api/v1/restaurants`,\r\n            method: 'GET',\r\n            headers: {'Cache-Control': 'no-cache', ...authHeader()}\r\n        })\r\n        .then(res => resolve(res.data['restaurants']))\r\n        .catch(_ => reject());\r\n    });\r\n}\r\n\r\n","import React from 'react';\r\n\r\n\r\nexport default function BackToRootButton({setRestaurant}) {\r\n  const handleClick = () => setRestaurant(null);\r\n    \r\n    return <div className='p-2 inline-block'><div onClick={handleClick} className=\"flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full cursor-pointer bg-gray-100 hover:bg-gray-200 sm:h-8 sm:w-8\">\r\n         <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6 text-gray-900\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n         <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z\" />\r\n</svg>\r\n    </div></div>;\r\n}","import ThemeButton from '../../components/themeButton/themeButton';\r\nimport LanguageButton from '../../components/languageButton/languageButton';\r\nimport { palette } from '../../palette';\r\nimport { useEffect, useState } from 'react';\r\nimport Button from '../../components/buttons/button/button';\r\nimport { confirmContext } from '../../contexts/confirmContext';\r\nimport { questionContext } from '../../contexts/questionContext';\r\nimport React from 'react';\r\nimport Zone from './components/zone/zone';\r\nimport AccessUrl from './components/accessUrl/accessUrl';\r\nimport PrivacyButton from './components/privacyButton/privacyButton';\r\nimport YesButton from '../../components/buttons/yesButton/yesButton';\r\nimport SignOutButton from './components/signOutButton/signOutButton';\r\nimport { userContext } from '../../contexts/userContext';\r\nimport AdminDashboardPageRestaurant from './adminDashboardPageRestaurant';\r\nimport AdminDashboardPageSuper from './adminDashboardPageSuper';\r\nimport BackToRootButton from './components/backToRootButton/backToRootButton';\r\n\r\nfunction AdminDashboardPage() {\r\n  const userCtx = React.useContext(userContext);\r\n\r\n  const [privacyFilter, setPrivacyFilter] = useState(true);\r\n  const [restaurant, setRestaurant] = useState(null);\r\n\r\n  console.log(restaurant, userCtx.params);\r\n  useEffect(() => {\r\n    if (userCtx.params.restaurantId === null) {\r\n      setRestaurant(null);\r\n      return;\r\n    }\r\n    setRestaurant({\r\n      id: userCtx.params.restaurantId,\r\n      name: userCtx.params.restaurantName\r\n    })\r\n  }, [userCtx.params])\r\n\r\n  return <div>\r\n    <div className='p-2 pl-8 pr-8'>\r\n      <div className='inline-block'><p className={`font-mono text-4xl ${palette.text}`}>\r\n        {userCtx.isSuperAdminLoggedIn && restaurant === null? 'root admin': restaurant.name ?? '...'}\r\n      </p></div>\r\n      <div className='float-right'>\r\n        {(userCtx.isSuperAdminLoggedIn && restaurant !== null) && \r\n            <BackToRootButton setRestaurant={setRestaurant} />\r\n        }\r\n        <ThemeButton />\r\n        <LanguageButton />\r\n        <PrivacyButton privacyFilter={privacyFilter} setPrivacyFilter={setPrivacyFilter} />\r\n        <SignOutButton />\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <div className='inline-block w-full'>\r\n    {\r\n      (userCtx.isRestaurantAdminLoggedIn || restaurant !== null) && <AdminDashboardPageRestaurant privacyFilter={privacyFilter} restaurant={restaurant}/>\r\n    }\r\n    {\r\n      (userCtx.isSuperAdminLoggedIn && restaurant === null) && <AdminDashboardPageSuper privacyFilter={privacyFilter} setRestaurant={setRestaurant}/>\r\n    }\r\n    </div>\r\n\r\n    \r\n    \r\n\r\n  </div>\r\n}\r\n\r\nexport default AdminDashboardPage;\r\n\r\n","import {GoogleLogin} from 'react-google-login';\r\nimport React from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useSnackbar } from 'notistack';\r\nimport { userContext } from '../../contexts/userContext';\r\nimport { attemptLogin } from './services/loginWithGoogle';\r\n\r\nconst clientId = process.env.REACT_APP_GOOGLE_CLIENT_ID;\r\n\r\nfunction LoginPage() {\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const userCtx = React.useContext(userContext);\r\n  \r\n  let history = useHistory();\r\n  const location = useLocation();\r\n\r\n  \r\n  const onSuccess = (res) => {\r\n    attemptLogin(res.tokenObj.id_token)\r\n    .then(([loggedIn, data]) => {\r\n      if (!loggedIn){\r\n        enqueueSnackbar(\"user does not exist\", {variant: 'warning'});\r\n        return;\r\n      }\r\n      userCtx.setType(data.type);\r\n      userCtx.setParams(data);\r\n      const {from} = location.state || {from: {pathname: \"/admin\"}};\r\n      history.push(from);\r\n      enqueueSnackbar(\"logged in\", {variant: 'success'});\r\n    })\r\n    .catch(() => {\r\n      enqueueSnackbar(\"unable to log in with the server\", {variant: 'error'});\r\n    })\r\n  }\r\n  \r\n  const onFailure = (res) => {\r\n    enqueueSnackbar(\"unable to log in with Google\", {variant: 'error'});\r\n  }\r\n\r\n  console.log(clientId);\r\n\r\n  return <div className=\"flex items-center justify-center h-screen\">\r\n    <GoogleLogin\r\n      clientId={clientId}\r\n      buttonText=\"Login\"\r\n      onSuccess={onSuccess}\r\n      onFailure={onFailure}\r\n      cookiePolicy={'single_host_origin'} />\r\n  </div>;\r\n}\r\n\r\nexport default LoginPage;","import { authHeader } from \"../../../helpers/csrfCookieHeader\";\r\nimport axios from \"axios\";\r\n\r\nexport const attemptLogin = (token) => {\r\n    return new Promise(function(resolve, reject) {\r\n        axios({url: `${process.env.REACT_APP_BACKEND_URL}/auth/v1/login/google`,\r\n            method: 'POST',\r\n            auth: {\r\n                username: '',\r\n                password: token\r\n            },\r\n            headers: {'Cache-Control': 'no-cache', ...authHeader()}\r\n        })\r\n        .then(res => resolve([true, res.data]))\r\n        .catch(function (res) {\r\n            try { if (res[\"response\"][\"status\"] === 401) resolve(false) } catch(err){}\r\n            reject(res);\r\n        });\r\n    });\r\n}\r\n\r\n","import './App.css';\r\nimport React, { useState } from 'react';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\nimport NotFoundPage from \"./pages/notFoundPage/notFoundPage\";\r\nimport PrivateRoute from \"./helpers/privateRoute\";\r\nimport RestaurantDashboardPage from \"./pages/restaurantDashboardPage/restaurantDashboardPage\";\r\nimport { userContext } from './contexts/userContext';\r\nimport AdminDashboardPage from \"./pages/adminDashboardPage/adminDashboardPage\";\r\nimport LoginPage from \"./pages/loginPage/loginPage\";\r\nimport { BaseConfirmContextProvider } from './contexts/confirmContext';\r\nimport { ThemeContextProvider } from './contexts/themeContext';\r\nimport { palette } from './palette';\r\nimport { LanguageContextProvider } from './contexts/languageContext';\r\nimport { QuestionContextProvider } from './contexts/questionContext';\r\nimport { SnackbarProvider } from 'notistack';\r\nimport { TYPE_SUPER_ADMIN, TYPE_RESTAURANT_ADMIN } from './contexts/userContext';\r\nimport { UserContextProvider } from './contexts/userContext';\r\nfunction App() {\r\n    const routerRef = React.createRef();\r\n\r\n    return (\r\n        <ThemeContextProvider>\r\n            <div className={`App ${palette.bg} min-h-screen min-w-screen`}>\r\n                <LanguageContextProvider>\r\n                    <SnackbarProvider>\r\n                        <UserContextProvider>\r\n                            <BaseConfirmContextProvider>\r\n                                <QuestionContextProvider>\r\n                                    <BrowserRouter ref={routerRef} basename=\"/app\">\r\n                                        <Switch>\r\n                                            <PrivateRoute path={'/admin'} baseRouter={routerRef}\r\n                                                component={AdminDashboardPage}\r\n                                                type={[TYPE_RESTAURANT_ADMIN, TYPE_SUPER_ADMIN]}\r\n                                            />\r\n                                            <Route path={'/restaurant'}\r\n                                                component={RestaurantDashboardPage} />\r\n                                            <Route path={'/login'}\r\n                                                component={LoginPage} />\r\n                                            <Route\r\n                                                component={NotFoundPage} />\r\n                                        </Switch>\r\n                                    </BrowserRouter>\r\n                                </QuestionContextProvider>\r\n                            </BaseConfirmContextProvider>\r\n                        </UserContextProvider>\r\n                    </SnackbarProvider>\r\n                </LanguageContextProvider>\r\n\r\n            </div>\r\n        </ThemeContextProvider>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport './i18n';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}